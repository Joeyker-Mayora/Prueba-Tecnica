(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const l of document.querySelectorAll('link[rel="modulepreload"]'))s(l);new MutationObserver(l=>{for(const h of l)if(h.type==="childList")for(const d of h.addedNodes)d.tagName==="LINK"&&d.rel==="modulepreload"&&s(d)}).observe(document,{childList:!0,subtree:!0});function i(l){const h={};return l.integrity&&(h.integrity=l.integrity),l.referrerPolicy&&(h.referrerPolicy=l.referrerPolicy),l.crossOrigin==="use-credentials"?h.credentials="include":l.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function s(l){if(l.ep)return;l.ep=!0;const h=i(l);fetch(l.href,h)}})();function AT(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var Pf={exports:{}},Jo={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gy;function ST(){if(gy)return Jo;gy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.fragment");function i(s,l,h){var d=null;if(h!==void 0&&(d=""+h),l.key!==void 0&&(d=""+l.key),"key"in l){h={};for(var g in l)g!=="key"&&(h[g]=l[g])}else h=l;return l=h.ref,{$$typeof:a,type:s,key:d,ref:l!==void 0?l:null,props:h}}return Jo.Fragment=t,Jo.jsx=i,Jo.jsxs=i,Jo}var py;function bT(){return py||(py=1,Pf.exports=ST()),Pf.exports}var bt=bT(),xf={exports:{}},vt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yy;function RT(){if(yy)return vt;yy=1;var a=Symbol.for("react.transitional.element"),t=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),l=Symbol.for("react.profiler"),h=Symbol.for("react.consumer"),d=Symbol.for("react.context"),g=Symbol.for("react.forward_ref"),_=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),V=Symbol.iterator;function z(I){return I===null||typeof I!="object"?null:(I=V&&I[V]||I["@@iterator"],typeof I=="function"?I:null)}var F={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},$=Object.assign,rt={};function J(I,K,st){this.props=I,this.context=K,this.refs=rt,this.updater=st||F}J.prototype.isReactComponent={},J.prototype.setState=function(I,K){if(typeof I!="object"&&typeof I!="function"&&I!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,I,K,"setState")},J.prototype.forceUpdate=function(I){this.updater.enqueueForceUpdate(this,I,"forceUpdate")};function Ot(){}Ot.prototype=J.prototype;function pt(I,K,st){this.props=I,this.context=K,this.refs=rt,this.updater=st||F}var Et=pt.prototype=new Ot;Et.constructor=pt,$(Et,J.prototype),Et.isPureReactComponent=!0;var qt=Array.isArray,dt={H:null,A:null,T:null,S:null},wt=Object.prototype.hasOwnProperty;function M(I,K,st,W,tt,Tt){return st=Tt.ref,{$$typeof:a,type:I,key:K,ref:st!==void 0?st:null,props:Tt}}function R(I,K){return M(I.type,K,void 0,void 0,void 0,I.props)}function A(I){return typeof I=="object"&&I!==null&&I.$$typeof===a}function C(I){var K={"=":"=0",":":"=2"};return"$"+I.replace(/[=:]/g,function(st){return K[st]})}var N=/\/+/g;function k(I,K){return typeof I=="object"&&I!==null&&I.key!=null?C(""+I.key):K.toString(36)}function w(){}function pe(I){switch(I.status){case"fulfilled":return I.value;case"rejected":throw I.reason;default:switch(typeof I.status=="string"?I.then(w,w):(I.status="pending",I.then(function(K){I.status==="pending"&&(I.status="fulfilled",I.value=K)},function(K){I.status==="pending"&&(I.status="rejected",I.reason=K)})),I.status){case"fulfilled":return I.value;case"rejected":throw I.reason}}throw I}function ce(I,K,st,W,tt){var Tt=typeof I;(Tt==="undefined"||Tt==="boolean")&&(I=null);var _t=!1;if(I===null)_t=!0;else switch(Tt){case"bigint":case"string":case"number":_t=!0;break;case"object":switch(I.$$typeof){case a:case t:_t=!0;break;case S:return _t=I._init,ce(_t(I._payload),K,st,W,tt)}}if(_t)return tt=tt(I),_t=W===""?"."+k(I,0):W,qt(tt)?(st="",_t!=null&&(st=_t.replace(N,"$&/")+"/"),ce(tt,K,st,"",function(te){return te})):tt!=null&&(A(tt)&&(tt=R(tt,st+(tt.key==null||I&&I.key===tt.key?"":(""+tt.key).replace(N,"$&/")+"/")+_t)),K.push(tt)),1;_t=0;var he=W===""?".":W+":";if(qt(I))for(var Pt=0;Pt<I.length;Pt++)W=I[Pt],Tt=he+k(W,Pt),_t+=ce(W,K,st,Tt,tt);else if(Pt=z(I),typeof Pt=="function")for(I=Pt.call(I),Pt=0;!(W=I.next()).done;)W=W.value,Tt=he+k(W,Pt++),_t+=ce(W,K,st,Tt,tt);else if(Tt==="object"){if(typeof I.then=="function")return ce(pe(I),K,st,W,tt);throw K=String(I),Error("Objects are not valid as a React child (found: "+(K==="[object Object]"?"object with keys {"+Object.keys(I).join(", ")+"}":K)+"). If you meant to render a collection of children, use an array instead.")}return _t}function Z(I,K,st){if(I==null)return I;var W=[],tt=0;return ce(I,W,"","",function(Tt){return K.call(st,Tt,tt++)}),W}function ct(I){if(I._status===-1){var K=I._result;K=K(),K.then(function(st){(I._status===0||I._status===-1)&&(I._status=1,I._result=st)},function(st){(I._status===0||I._status===-1)&&(I._status=2,I._result=st)}),I._status===-1&&(I._status=0,I._result=K)}if(I._status===1)return I._result.default;throw I._result}var ot=typeof reportError=="function"?reportError:function(I){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var K=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof I=="object"&&I!==null&&typeof I.message=="string"?String(I.message):String(I),error:I});if(!window.dispatchEvent(K))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",I);return}console.error(I)};function Ht(){}return vt.Children={map:Z,forEach:function(I,K,st){Z(I,function(){K.apply(this,arguments)},st)},count:function(I){var K=0;return Z(I,function(){K++}),K},toArray:function(I){return Z(I,function(K){return K})||[]},only:function(I){if(!A(I))throw Error("React.Children.only expected to receive a single React element child.");return I}},vt.Component=J,vt.Fragment=i,vt.Profiler=l,vt.PureComponent=pt,vt.StrictMode=s,vt.Suspense=_,vt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=dt,vt.act=function(){throw Error("act(...) is not supported in production builds of React.")},vt.cache=function(I){return function(){return I.apply(null,arguments)}},vt.cloneElement=function(I,K,st){if(I==null)throw Error("The argument must be a React element, but you passed "+I+".");var W=$({},I.props),tt=I.key,Tt=void 0;if(K!=null)for(_t in K.ref!==void 0&&(Tt=void 0),K.key!==void 0&&(tt=""+K.key),K)!wt.call(K,_t)||_t==="key"||_t==="__self"||_t==="__source"||_t==="ref"&&K.ref===void 0||(W[_t]=K[_t]);var _t=arguments.length-2;if(_t===1)W.children=st;else if(1<_t){for(var he=Array(_t),Pt=0;Pt<_t;Pt++)he[Pt]=arguments[Pt+2];W.children=he}return M(I.type,tt,void 0,void 0,Tt,W)},vt.createContext=function(I){return I={$$typeof:d,_currentValue:I,_currentValue2:I,_threadCount:0,Provider:null,Consumer:null},I.Provider=I,I.Consumer={$$typeof:h,_context:I},I},vt.createElement=function(I,K,st){var W,tt={},Tt=null;if(K!=null)for(W in K.key!==void 0&&(Tt=""+K.key),K)wt.call(K,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(tt[W]=K[W]);var _t=arguments.length-2;if(_t===1)tt.children=st;else if(1<_t){for(var he=Array(_t),Pt=0;Pt<_t;Pt++)he[Pt]=arguments[Pt+2];tt.children=he}if(I&&I.defaultProps)for(W in _t=I.defaultProps,_t)tt[W]===void 0&&(tt[W]=_t[W]);return M(I,Tt,void 0,void 0,null,tt)},vt.createRef=function(){return{current:null}},vt.forwardRef=function(I){return{$$typeof:g,render:I}},vt.isValidElement=A,vt.lazy=function(I){return{$$typeof:S,_payload:{_status:-1,_result:I},_init:ct}},vt.memo=function(I,K){return{$$typeof:v,type:I,compare:K===void 0?null:K}},vt.startTransition=function(I){var K=dt.T,st={};dt.T=st;try{var W=I(),tt=dt.S;tt!==null&&tt(st,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(Ht,ot)}catch(Tt){ot(Tt)}finally{dt.T=K}},vt.unstable_useCacheRefresh=function(){return dt.H.useCacheRefresh()},vt.use=function(I){return dt.H.use(I)},vt.useActionState=function(I,K,st){return dt.H.useActionState(I,K,st)},vt.useCallback=function(I,K){return dt.H.useCallback(I,K)},vt.useContext=function(I){return dt.H.useContext(I)},vt.useDebugValue=function(){},vt.useDeferredValue=function(I,K){return dt.H.useDeferredValue(I,K)},vt.useEffect=function(I,K){return dt.H.useEffect(I,K)},vt.useId=function(){return dt.H.useId()},vt.useImperativeHandle=function(I,K,st){return dt.H.useImperativeHandle(I,K,st)},vt.useInsertionEffect=function(I,K){return dt.H.useInsertionEffect(I,K)},vt.useLayoutEffect=function(I,K){return dt.H.useLayoutEffect(I,K)},vt.useMemo=function(I,K){return dt.H.useMemo(I,K)},vt.useOptimistic=function(I,K){return dt.H.useOptimistic(I,K)},vt.useReducer=function(I,K,st){return dt.H.useReducer(I,K,st)},vt.useRef=function(I){return dt.H.useRef(I)},vt.useState=function(I){return dt.H.useState(I)},vt.useSyncExternalStore=function(I,K,st){return dt.H.useSyncExternalStore(I,K,st)},vt.useTransition=function(){return dt.H.useTransition()},vt.version="19.0.0",vt}var _y;function Md(){return _y||(_y=1,xf.exports=RT()),xf.exports}var ba=Md(),zf={exports:{}},Wo={},Bf={exports:{}},qf={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vy;function wT(){return vy||(vy=1,function(a){function t(Z,ct){var ot=Z.length;Z.push(ct);t:for(;0<ot;){var Ht=ot-1>>>1,I=Z[Ht];if(0<l(I,ct))Z[Ht]=ct,Z[ot]=I,ot=Ht;else break t}}function i(Z){return Z.length===0?null:Z[0]}function s(Z){if(Z.length===0)return null;var ct=Z[0],ot=Z.pop();if(ot!==ct){Z[0]=ot;t:for(var Ht=0,I=Z.length,K=I>>>1;Ht<K;){var st=2*(Ht+1)-1,W=Z[st],tt=st+1,Tt=Z[tt];if(0>l(W,ot))tt<I&&0>l(Tt,W)?(Z[Ht]=Tt,Z[tt]=ot,Ht=tt):(Z[Ht]=W,Z[st]=ot,Ht=st);else if(tt<I&&0>l(Tt,ot))Z[Ht]=Tt,Z[tt]=ot,Ht=tt;else break t}}return ct}function l(Z,ct){var ot=Z.sortIndex-ct.sortIndex;return ot!==0?ot:Z.id-ct.id}if(a.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;a.unstable_now=function(){return h.now()}}else{var d=Date,g=d.now();a.unstable_now=function(){return d.now()-g}}var _=[],v=[],S=1,V=null,z=3,F=!1,$=!1,rt=!1,J=typeof setTimeout=="function"?setTimeout:null,Ot=typeof clearTimeout=="function"?clearTimeout:null,pt=typeof setImmediate<"u"?setImmediate:null;function Et(Z){for(var ct=i(v);ct!==null;){if(ct.callback===null)s(v);else if(ct.startTime<=Z)s(v),ct.sortIndex=ct.expirationTime,t(_,ct);else break;ct=i(v)}}function qt(Z){if(rt=!1,Et(Z),!$)if(i(_)!==null)$=!0,pe();else{var ct=i(v);ct!==null&&ce(qt,ct.startTime-Z)}}var dt=!1,wt=-1,M=5,R=-1;function A(){return!(a.unstable_now()-R<M)}function C(){if(dt){var Z=a.unstable_now();R=Z;var ct=!0;try{t:{$=!1,rt&&(rt=!1,Ot(wt),wt=-1),F=!0;var ot=z;try{e:{for(Et(Z),V=i(_);V!==null&&!(V.expirationTime>Z&&A());){var Ht=V.callback;if(typeof Ht=="function"){V.callback=null,z=V.priorityLevel;var I=Ht(V.expirationTime<=Z);if(Z=a.unstable_now(),typeof I=="function"){V.callback=I,Et(Z),ct=!0;break e}V===i(_)&&s(_),Et(Z)}else s(_);V=i(_)}if(V!==null)ct=!0;else{var K=i(v);K!==null&&ce(qt,K.startTime-Z),ct=!1}}break t}finally{V=null,z=ot,F=!1}ct=void 0}}finally{ct?N():dt=!1}}}var N;if(typeof pt=="function")N=function(){pt(C)};else if(typeof MessageChannel<"u"){var k=new MessageChannel,w=k.port2;k.port1.onmessage=C,N=function(){w.postMessage(null)}}else N=function(){J(C,0)};function pe(){dt||(dt=!0,N())}function ce(Z,ct){wt=J(function(){Z(a.unstable_now())},ct)}a.unstable_IdlePriority=5,a.unstable_ImmediatePriority=1,a.unstable_LowPriority=4,a.unstable_NormalPriority=3,a.unstable_Profiling=null,a.unstable_UserBlockingPriority=2,a.unstable_cancelCallback=function(Z){Z.callback=null},a.unstable_continueExecution=function(){$||F||($=!0,pe())},a.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Z?Math.floor(1e3/Z):5},a.unstable_getCurrentPriorityLevel=function(){return z},a.unstable_getFirstCallbackNode=function(){return i(_)},a.unstable_next=function(Z){switch(z){case 1:case 2:case 3:var ct=3;break;default:ct=z}var ot=z;z=ct;try{return Z()}finally{z=ot}},a.unstable_pauseExecution=function(){},a.unstable_requestPaint=function(){},a.unstable_runWithPriority=function(Z,ct){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var ot=z;z=Z;try{return ct()}finally{z=ot}},a.unstable_scheduleCallback=function(Z,ct,ot){var Ht=a.unstable_now();switch(typeof ot=="object"&&ot!==null?(ot=ot.delay,ot=typeof ot=="number"&&0<ot?Ht+ot:Ht):ot=Ht,Z){case 1:var I=-1;break;case 2:I=250;break;case 5:I=1073741823;break;case 4:I=1e4;break;default:I=5e3}return I=ot+I,Z={id:S++,callback:ct,priorityLevel:Z,startTime:ot,expirationTime:I,sortIndex:-1},ot>Ht?(Z.sortIndex=ot,t(v,Z),i(_)===null&&Z===i(v)&&(rt?(Ot(wt),wt=-1):rt=!0,ce(qt,ot-Ht))):(Z.sortIndex=I,t(_,Z),$||F||($=!0,pe())),Z},a.unstable_shouldYield=A,a.unstable_wrapCallback=function(Z){var ct=z;return function(){var ot=z;z=ct;try{return Z.apply(this,arguments)}finally{z=ot}}}}(qf)),qf}var Ey;function CT(){return Ey||(Ey=1,Bf.exports=wT()),Bf.exports}var Hf={exports:{}},qe={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ty;function IT(){if(Ty)return qe;Ty=1;var a=Md();function t(_){var v="https://react.dev/errors/"+_;if(1<arguments.length){v+="?args[]="+encodeURIComponent(arguments[1]);for(var S=2;S<arguments.length;S++)v+="&args[]="+encodeURIComponent(arguments[S])}return"Minified React error #"+_+"; visit "+v+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(){}var s={d:{f:i,r:function(){throw Error(t(522))},D:i,C:i,L:i,m:i,X:i,S:i,M:i},p:0,findDOMNode:null},l=Symbol.for("react.portal");function h(_,v,S){var V=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:l,key:V==null?null:""+V,children:_,containerInfo:v,implementation:S}}var d=a.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function g(_,v){if(_==="font")return"";if(typeof v=="string")return v==="use-credentials"?v:""}return qe.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=s,qe.createPortal=function(_,v){var S=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!v||v.nodeType!==1&&v.nodeType!==9&&v.nodeType!==11)throw Error(t(299));return h(_,v,null,S)},qe.flushSync=function(_){var v=d.T,S=s.p;try{if(d.T=null,s.p=2,_)return _()}finally{d.T=v,s.p=S,s.d.f()}},qe.preconnect=function(_,v){typeof _=="string"&&(v?(v=v.crossOrigin,v=typeof v=="string"?v==="use-credentials"?v:"":void 0):v=null,s.d.C(_,v))},qe.prefetchDNS=function(_){typeof _=="string"&&s.d.D(_)},qe.preinit=function(_,v){if(typeof _=="string"&&v&&typeof v.as=="string"){var S=v.as,V=g(S,v.crossOrigin),z=typeof v.integrity=="string"?v.integrity:void 0,F=typeof v.fetchPriority=="string"?v.fetchPriority:void 0;S==="style"?s.d.S(_,typeof v.precedence=="string"?v.precedence:void 0,{crossOrigin:V,integrity:z,fetchPriority:F}):S==="script"&&s.d.X(_,{crossOrigin:V,integrity:z,fetchPriority:F,nonce:typeof v.nonce=="string"?v.nonce:void 0})}},qe.preinitModule=function(_,v){if(typeof _=="string")if(typeof v=="object"&&v!==null){if(v.as==null||v.as==="script"){var S=g(v.as,v.crossOrigin);s.d.M(_,{crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0})}}else v==null&&s.d.M(_)},qe.preload=function(_,v){if(typeof _=="string"&&typeof v=="object"&&v!==null&&typeof v.as=="string"){var S=v.as,V=g(S,v.crossOrigin);s.d.L(_,S,{crossOrigin:V,integrity:typeof v.integrity=="string"?v.integrity:void 0,nonce:typeof v.nonce=="string"?v.nonce:void 0,type:typeof v.type=="string"?v.type:void 0,fetchPriority:typeof v.fetchPriority=="string"?v.fetchPriority:void 0,referrerPolicy:typeof v.referrerPolicy=="string"?v.referrerPolicy:void 0,imageSrcSet:typeof v.imageSrcSet=="string"?v.imageSrcSet:void 0,imageSizes:typeof v.imageSizes=="string"?v.imageSizes:void 0,media:typeof v.media=="string"?v.media:void 0})}},qe.preloadModule=function(_,v){if(typeof _=="string")if(v){var S=g(v.as,v.crossOrigin);s.d.m(_,{as:typeof v.as=="string"&&v.as!=="script"?v.as:void 0,crossOrigin:S,integrity:typeof v.integrity=="string"?v.integrity:void 0})}else s.d.m(_)},qe.requestFormReset=function(_){s.d.r(_)},qe.unstable_batchedUpdates=function(_,v){return _(v)},qe.useFormState=function(_,v,S){return d.H.useFormState(_,v,S)},qe.useFormStatus=function(){return d.H.useHostTransitionStatus()},qe.version="19.0.0",qe}var Ay;function DT(){if(Ay)return Hf.exports;Ay=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),Hf.exports=IT(),Hf.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Sy;function OT(){if(Sy)return Wo;Sy=1;var a=CT(),t=Md(),i=DT();function s(e){var n="https://react.dev/errors/"+e;if(1<arguments.length){n+="?args[]="+encodeURIComponent(arguments[1]);for(var r=2;r<arguments.length;r++)n+="&args[]="+encodeURIComponent(arguments[r])}return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function l(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}var h=Symbol.for("react.element"),d=Symbol.for("react.transitional.element"),g=Symbol.for("react.portal"),_=Symbol.for("react.fragment"),v=Symbol.for("react.strict_mode"),S=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),z=Symbol.for("react.consumer"),F=Symbol.for("react.context"),$=Symbol.for("react.forward_ref"),rt=Symbol.for("react.suspense"),J=Symbol.for("react.suspense_list"),Ot=Symbol.for("react.memo"),pt=Symbol.for("react.lazy"),Et=Symbol.for("react.offscreen"),qt=Symbol.for("react.memo_cache_sentinel"),dt=Symbol.iterator;function wt(e){return e===null||typeof e!="object"?null:(e=dt&&e[dt]||e["@@iterator"],typeof e=="function"?e:null)}var M=Symbol.for("react.client.reference");function R(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===M?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case _:return"Fragment";case g:return"Portal";case S:return"Profiler";case v:return"StrictMode";case rt:return"Suspense";case J:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case F:return(e.displayName||"Context")+".Provider";case z:return(e._context.displayName||"Context")+".Consumer";case $:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case Ot:return n=e.displayName||null,n!==null?n:R(e.type)||"Memo";case pt:n=e._payload,e=e._init;try{return R(e(n))}catch{}}return null}var A=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,C=Object.assign,N,k;function w(e){if(N===void 0)try{throw Error()}catch(r){var n=r.stack.trim().match(/\n( *(at )?)/);N=n&&n[1]||"",k=-1<r.stack.indexOf(`
    at`)?" (<anonymous>)":-1<r.stack.indexOf("@")?"@unknown:0:0":""}return`
`+N+e+k}var pe=!1;function ce(e,n){if(!e||pe)return"";pe=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var o={DetermineComponentFrameRoot:function(){try{if(n){var Q=function(){throw Error()};if(Object.defineProperty(Q.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(Q,[])}catch(q){var x=q}Reflect.construct(e,[],Q)}else{try{Q.call()}catch(q){x=q}e.call(Q.prototype)}}else{try{throw Error()}catch(q){x=q}(Q=e())&&typeof Q.catch=="function"&&Q.catch(function(){})}}catch(q){if(q&&x&&typeof q.stack=="string")return[q.stack,x.stack]}return[null,null]}};o.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(o.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(o.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=o.DetermineComponentFrameRoot(),y=f[0],E=f[1];if(y&&E){var b=y.split(`
`),O=E.split(`
`);for(c=o=0;o<b.length&&!b[o].includes("DetermineComponentFrameRoot");)o++;for(;c<O.length&&!O[c].includes("DetermineComponentFrameRoot");)c++;if(o===b.length||c===O.length)for(o=b.length-1,c=O.length-1;1<=o&&0<=c&&b[o]!==O[c];)c--;for(;1<=o&&0<=c;o--,c--)if(b[o]!==O[c]){if(o!==1||c!==1)do if(o--,c--,0>c||b[o]!==O[c]){var H=`
`+b[o].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=o&&0<=c);break}}}finally{pe=!1,Error.prepareStackTrace=r}return(r=e?e.displayName||e.name:"")?w(r):""}function Z(e){switch(e.tag){case 26:case 27:case 5:return w(e.type);case 16:return w("Lazy");case 13:return w("Suspense");case 19:return w("SuspenseList");case 0:case 15:return e=ce(e.type,!1),e;case 11:return e=ce(e.type.render,!1),e;case 1:return e=ce(e.type,!0),e;default:return""}}function ct(e){try{var n="";do n+=Z(e),e=e.return;while(e);return n}catch(r){return`
Error generating stack: `+r.message+`
`+r.stack}}function ot(e){var n=e,r=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(r=n.return),e=n.return;while(e)}return n.tag===3?r:null}function Ht(e){if(e.tag===13){var n=e.memoizedState;if(n===null&&(e=e.alternate,e!==null&&(n=e.memoizedState)),n!==null)return n.dehydrated}return null}function I(e){if(ot(e)!==e)throw Error(s(188))}function K(e){var n=e.alternate;if(!n){if(n=ot(e),n===null)throw Error(s(188));return n!==e?null:e}for(var r=e,o=n;;){var c=r.return;if(c===null)break;var f=c.alternate;if(f===null){if(o=c.return,o!==null){r=o;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===r)return I(c),e;if(f===o)return I(c),n;f=f.sibling}throw Error(s(188))}if(r.return!==o.return)r=c,o=f;else{for(var y=!1,E=c.child;E;){if(E===r){y=!0,r=c,o=f;break}if(E===o){y=!0,o=c,r=f;break}E=E.sibling}if(!y){for(E=f.child;E;){if(E===r){y=!0,r=f,o=c;break}if(E===o){y=!0,o=f,r=c;break}E=E.sibling}if(!y)throw Error(s(189))}}if(r.alternate!==o)throw Error(s(190))}if(r.tag!==3)throw Error(s(188));return r.stateNode.current===r?e:n}function st(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e;for(e=e.child;e!==null;){if(n=st(e),n!==null)return n;e=e.sibling}return null}var W=Array.isArray,tt=i.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Tt={pending:!1,data:null,method:null,action:null},_t=[],he=-1;function Pt(e){return{current:e}}function te(e){0>he||(e.current=_t[he],_t[he]=null,he--)}function Gt(e,n){he++,_t[he]=e.current,e.current=n}var Qe=Pt(null),oi=Pt(null),fn=Pt(null),Hi=Pt(null);function ji(e,n){switch(Gt(fn,n),Gt(oi,e),Gt(Qe,null),e=n.nodeType,e){case 9:case 11:n=(n=n.documentElement)&&(n=n.namespaceURI)?Gp(n):0;break;default:if(e=e===8?n.parentNode:n,n=e.tagName,e=e.namespaceURI)e=Gp(e),n=Fp(e,n);else switch(n){case"svg":n=1;break;case"math":n=2;break;default:n=0}}te(Qe),Gt(Qe,n)}function li(){te(Qe),te(oi),te(fn)}function Qa(e){e.memoizedState!==null&&Gt(Hi,e);var n=Qe.current,r=Fp(n,e.type);n!==r&&(Gt(oi,e),Gt(Qe,r))}function Os(e){oi.current===e&&(te(Qe),te(oi)),Hi.current===e&&(te(Hi),Ko._currentValue=Tt)}var Ns=Object.prototype.hasOwnProperty,qr=a.unstable_scheduleCallback,Ms=a.unstable_cancelCallback,xc=a.unstable_shouldYield,Ka=a.unstable_requestPaint,We=a.unstable_now,Sl=a.unstable_getCurrentPriorityLevel,ye=a.unstable_ImmediatePriority,Re=a.unstable_UserBlockingPriority,ui=a.unstable_NormalPriority,bl=a.unstable_LowPriority,Ya=a.unstable_IdlePriority,zc=a.log,Hr=a.unstable_setDisableYieldValue,Gi=null,ze=null;function Xa(e){if(ze&&typeof ze.onCommitFiberRoot=="function")try{ze.onCommitFiberRoot(Gi,e,void 0,(e.current.flags&128)===128)}catch{}}function xn(e){if(typeof zc=="function"&&Hr(e),ze&&typeof ze.setStrictMode=="function")try{ze.setStrictMode(Gi,e)}catch{}}var Ke=Math.clz32?Math.clz32:wl,$a=Math.log,Rl=Math.LN2;function wl(e){return e>>>=0,e===0?32:31-($a(e)/Rl|0)|0}var zn=128,Fi=4194304;function On(e){var n=e&42;if(n!==0)return n;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function dn(e,n){var r=e.pendingLanes;if(r===0)return 0;var o=0,c=e.suspendedLanes,f=e.pingedLanes,y=e.warmLanes;e=e.finishedLanes!==0;var E=r&134217727;return E!==0?(r=E&~c,r!==0?o=On(r):(f&=E,f!==0?o=On(f):e||(y=E&~y,y!==0&&(o=On(y))))):(E=r&~c,E!==0?o=On(E):f!==0?o=On(f):e||(y=r&~y,y!==0&&(o=On(y)))),o===0?0:n!==0&&n!==o&&!(n&c)&&(c=o&-o,y=n&-n,c>=y||c===32&&(y&4194176)!==0)?n:o}function Qi(e,n){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&n)===0}function Vs(e,n){switch(e){case 1:case 2:case 4:case 8:return n+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Za(){var e=zn;return zn<<=1,!(zn&4194176)&&(zn=128),e}function Ki(){var e=Fi;return Fi<<=1,!(Fi&62914560)&&(Fi=4194304),e}function Us(e){for(var n=[],r=0;31>r;r++)n.push(e);return n}function ae(e,n){e.pendingLanes|=n,n!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Cl(e,n,r,o,c,f){var y=e.pendingLanes;e.pendingLanes=r,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=r,e.entangledLanes&=r,e.errorRecoveryDisabledLanes&=r,e.shellSuspendCounter=0;var E=e.entanglements,b=e.expirationTimes,O=e.hiddenUpdates;for(r=y&~r;0<r;){var H=31-Ke(r),Q=1<<H;E[H]=0,b[H]=-1;var x=O[H];if(x!==null)for(O[H]=null,H=0;H<x.length;H++){var q=x[H];q!==null&&(q.lane&=-536870913)}r&=~Q}o!==0&&Yi(e,o,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(y&~n))}function Yi(e,n,r){e.pendingLanes|=n,e.suspendedLanes&=~n;var o=31-Ke(n);e.entangledLanes|=n,e.entanglements[o]=e.entanglements[o]|1073741824|r&4194218}function Xi(e,n){var r=e.entangledLanes|=n;for(e=e.entanglements;r;){var o=31-Ke(r),c=1<<o;c&n|e[o]&n&&(e[o]|=n),r&=~c}}function Il(e){return e&=-e,2<e?8<e?e&134217727?32:268435456:8:2}function Dl(){var e=tt.p;return e!==0?e:(e=window.event,e===void 0?32:uy(e.type))}function $i(e,n){var r=tt.p;try{return tt.p=e,n()}finally{tt.p=r}}var Bn=Math.random().toString(36).slice(2),we="__reactFiber$"+Bn,_e="__reactProps$"+Bn,ci="__reactContainer$"+Bn,jr="__reactEvents$"+Bn,Ls="__reactListeners$"+Bn,qn="__reactHandles$"+Bn,Ja="__reactResources$"+Bn,Zi="__reactMarker$"+Bn;function Gr(e){delete e[we],delete e[_e],delete e[jr],delete e[Ls],delete e[qn]}function Nn(e){var n=e[we];if(n)return n;for(var r=e.parentNode;r;){if(n=r[ci]||r[we]){if(r=n.alternate,n.child!==null||r!==null&&r.child!==null)for(e=Yp(e);e!==null;){if(r=e[we])return r;e=Yp(e)}return n}e=r,r=e.parentNode}return null}function hi(e){if(e=e[we]||e[ci]){var n=e.tag;if(n===5||n===6||n===13||n===26||n===27||n===3)return e}return null}function Ji(e){var n=e.tag;if(n===5||n===26||n===27||n===6)return e.stateNode;throw Error(s(33))}function Wi(e){var n=e[Ja];return n||(n=e[Ja]={hoistableStyles:new Map,hoistableScripts:new Map}),n}function $t(e){e[Zi]=!0}var Wa=new Set,ks={};function sn(e,n){tn(e,n),tn(e+"Capture",n)}function tn(e,n){for(ks[e]=n,e=0;e<n.length;e++)Wa.add(n[e])}var an=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Bc=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),to={},eo={};function Ol(e){return Ns.call(eo,e)?!0:Ns.call(to,e)?!1:Bc.test(e)?eo[e]=!0:(to[e]=!0,!1)}function tr(e,n,r){if(Ol(n))if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":e.removeAttribute(n);return;case"boolean":var o=n.toLowerCase().slice(0,5);if(o!=="data-"&&o!=="aria-"){e.removeAttribute(n);return}}e.setAttribute(n,""+r)}}function er(e,n,r){if(r===null)e.removeAttribute(n);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(n);return}e.setAttribute(n,""+r)}}function mn(e,n,r,o){if(o===null)e.removeAttribute(r);else{switch(typeof o){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(r);return}e.setAttributeNS(n,r,""+o)}}function Ye(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Nl(e){var n=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(n==="checkbox"||n==="radio")}function qc(e){var n=Nl(e)?"checked":"value",r=Object.getOwnPropertyDescriptor(e.constructor.prototype,n),o=""+e[n];if(!e.hasOwnProperty(n)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var c=r.get,f=r.set;return Object.defineProperty(e,n,{configurable:!0,get:function(){return c.call(this)},set:function(y){o=""+y,f.call(this,y)}}),Object.defineProperty(e,n,{enumerable:r.enumerable}),{getValue:function(){return o},setValue:function(y){o=""+y},stopTracking:function(){e._valueTracker=null,delete e[n]}}}}function Fr(e){e._valueTracker||(e._valueTracker=qc(e))}function no(e){if(!e)return!1;var n=e._valueTracker;if(!n)return!0;var r=n.getValue(),o="";return e&&(o=Nl(e)?e.checked?"true":"false":e.value),e=o,e!==r?(n.setValue(e),!0):!1}function Ps(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var fi=/[\n"\\]/g;function ee(e){return e.replace(fi,function(n){return"\\"+n.charCodeAt(0).toString(16)+" "})}function nr(e,n,r,o,c,f,y,E){e.name="",y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.type=y:e.removeAttribute("type"),n!=null?y==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+Ye(n)):e.value!==""+Ye(n)&&(e.value=""+Ye(n)):y!=="submit"&&y!=="reset"||e.removeAttribute("value"),n!=null?xs(e,y,Ye(n)):r!=null?xs(e,y,Ye(r)):o!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),E!=null&&typeof E!="function"&&typeof E!="symbol"&&typeof E!="boolean"?e.name=""+Ye(E):e.removeAttribute("name")}function Qr(e,n,r,o,c,f,y,E){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),n!=null||r!=null){if(!(f!=="submit"&&f!=="reset"||n!=null))return;r=r!=null?""+Ye(r):"",n=n!=null?""+Ye(n):r,E||n===e.value||(e.value=n),e.defaultValue=n}o=o??c,o=typeof o!="function"&&typeof o!="symbol"&&!!o,e.checked=E?e.checked:!!o,e.defaultChecked=!!o,y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"&&(e.name=y)}function xs(e,n,r){n==="number"&&Ps(e.ownerDocument)===e||e.defaultValue===""+r||(e.defaultValue=""+r)}function xt(e,n,r,o){if(e=e.options,n){n={};for(var c=0;c<r.length;c++)n["$"+r[c]]=!0;for(r=0;r<e.length;r++)c=n.hasOwnProperty("$"+e[r].value),e[r].selected!==c&&(e[r].selected=c),c&&o&&(e[r].defaultSelected=!0)}else{for(r=""+Ye(r),n=null,c=0;c<e.length;c++){if(e[c].value===r){e[c].selected=!0,o&&(e[c].defaultSelected=!0);return}n!==null||e[c].disabled||(n=e[c])}n!==null&&(n.selected=!0)}}function Kr(e,n,r){if(n!=null&&(n=""+Ye(n),n!==e.value&&(e.value=n),r==null)){e.defaultValue!==n&&(e.defaultValue=n);return}e.defaultValue=r!=null?""+Ye(r):""}function ir(e,n,r,o){if(n==null){if(o!=null){if(r!=null)throw Error(s(92));if(W(o)){if(1<o.length)throw Error(s(93));o=o[0]}r=o}r==null&&(r=""),n=r}r=Ye(n),e.defaultValue=r,o=e.textContent,o===r&&o!==""&&o!==null&&(e.value=o)}function gn(e,n){if(n){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=n;return}}e.textContent=n}var Hc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function io(e,n,r){var o=n.indexOf("--")===0;r==null||typeof r=="boolean"||r===""?o?e.setProperty(n,""):n==="float"?e.cssFloat="":e[n]="":o?e.setProperty(n,r):typeof r!="number"||r===0||Hc.has(n)?n==="float"?e.cssFloat=r:e[n]=(""+r).trim():e[n]=r+"px"}function Ml(e,n,r){if(n!=null&&typeof n!="object")throw Error(s(62));if(e=e.style,r!=null){for(var o in r)!r.hasOwnProperty(o)||n!=null&&n.hasOwnProperty(o)||(o.indexOf("--")===0?e.setProperty(o,""):o==="float"?e.cssFloat="":e[o]="");for(var c in n)o=n[c],n.hasOwnProperty(c)&&r[c]!==o&&io(e,c,o)}else for(var f in n)n.hasOwnProperty(f)&&io(e,f,n[f])}function ro(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Gc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hn(e){return Gc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var pn=null;function zs(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var di=null,mi=null;function gi(e){var n=hi(e);if(n&&(e=n.stateNode)){var r=e[_e]||null;t:switch(e=n.stateNode,n.type){case"input":if(nr(e,r.value,r.defaultValue,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name),n=r.name,r.type==="radio"&&n!=null){for(r=e;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll('input[name="'+ee(""+n)+'"][type="radio"]'),n=0;n<r.length;n++){var o=r[n];if(o!==e&&o.form===e.form){var c=o[_e]||null;if(!c)throw Error(s(90));nr(o,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(n=0;n<r.length;n++)o=r[n],o.form===e.form&&no(o)}break t;case"textarea":Kr(e,r.value,r.defaultValue);break t;case"select":n=r.value,n!=null&&xt(e,!!r.multiple,n,!1)}}}var so=!1;function Vl(e,n,r){if(so)return e(n,r);so=!0;try{var o=e(n);return o}finally{if(so=!1,(di!==null||mi!==null)&&(bu(),di&&(n=di,e=mi,mi=di=null,gi(n),e)))for(n=0;n<e.length;n++)gi(e[n])}}function Yr(e,n){var r=e.stateNode;if(r===null)return null;var o=r[_e]||null;if(o===null)return null;r=o[n];t:switch(n){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(o=!o.disabled)||(e=e.type,o=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!o;break t;default:e=!1}if(e)return null;if(r&&typeof r!="function")throw Error(s(231,n,typeof r));return r}var yn=!1;if(an)try{var Xr={};Object.defineProperty(Xr,"passive",{get:function(){yn=!0}}),window.addEventListener("test",Xr,Xr),window.removeEventListener("test",Xr,Xr)}catch{yn=!1}var jn=null,rr=null,pi=null;function ao(){if(pi)return pi;var e,n=rr,r=n.length,o,c="value"in jn?jn.value:jn.textContent,f=c.length;for(e=0;e<r&&n[e]===c[e];e++);var y=r-e;for(o=1;o<=y&&n[r-o]===c[f-o];o++);return pi=c.slice(e,1<o?1-o:void 0)}function Gn(e){var n=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&n===13&&(e=13)):e=n,e===10&&(e=13),32<=e||e===13?e:0}function Fn(){return!0}function oo(){return!1}function Ce(e){function n(r,o,c,f,y){this._reactName=r,this._targetInst=c,this.type=o,this.nativeEvent=f,this.target=y,this.currentTarget=null;for(var E in e)e.hasOwnProperty(E)&&(r=e[E],this[E]=r?r(f):f[E]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Fn:oo,this.isPropagationStopped=oo,this}return C(n.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Fn)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Fn)},persist:function(){},isPersistent:Fn}),n}var jt={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Bs=Ce(jt),$r=C({},jt,{view:0,detail:0}),Ul=Ce($r),qs,Hs,Qn,Zr=C({},$r,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ts,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Qn&&(Qn&&e.type==="mousemove"?(qs=e.screenX-Qn.screenX,Hs=e.screenY-Qn.screenY):Hs=qs=0,Qn=e),qs)},movementY:function(e){return"movementY"in e?e.movementY:Hs}}),_n=Ce(Zr),Ll=C({},Zr,{dataTransfer:0}),Fc=Ce(Ll),Jr=C({},$r,{relatedTarget:0}),js=Ce(Jr),lo=C({},jt,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=Ce(lo),kl=C({},jt,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Fs=Ce(kl),Qc=C({},jt,{data:0}),uo=Ce(Qc),Wr={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Pl={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xl={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function co(e){var n=this.nativeEvent;return n.getModifierState?n.getModifierState(e):(e=xl[e])?!!n[e]:!1}function ts(){return co}var zl=C({},$r,{key:function(e){if(e.key){var n=Wr[e.key]||e.key;if(n!=="Unidentified")return n}return e.type==="keypress"?(e=Gn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Pl[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ts,charCode:function(e){return e.type==="keypress"?Gn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Gn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Qs=Ce(zl),Bl=C({},Zr,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ho=Ce(Bl),yi=C({},$r,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ts}),ql=Ce(yi),Hl=C({},jt,{propertyName:0,elapsedTime:0,pseudoElement:0}),jl=Ce(Hl),Gl=C({},Zr,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Ks=Ce(Gl),Xe=C({},jt,{newState:0,oldState:0}),Fl=Ce(Xe),Ql=[9,13,27,32],Kn=an&&"CompositionEvent"in window,u=null;an&&"documentMode"in document&&(u=document.documentMode);var m=an&&"TextEvent"in window&&!u,p=an&&(!Kn||u&&8<u&&11>=u),T=" ",L=!1;function B(e,n){switch(e){case"keyup":return Ql.indexOf(n.keyCode)!==-1;case"keydown":return n.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Y(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Nt=!1;function ve(e,n){switch(e){case"compositionend":return Y(n);case"keypress":return n.which!==32?null:(L=!0,T);case"textInput":return e=n.data,e===T&&L?null:e;default:return null}}function Mt(e,n){if(Nt)return e==="compositionend"||!Kn&&B(e,n)?(e=ao(),pi=rr=jn=null,Nt=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(n.ctrlKey||n.altKey||n.metaKey)||n.ctrlKey&&n.altKey){if(n.char&&1<n.char.length)return n.char;if(n.which)return String.fromCharCode(n.which)}return null;case"compositionend":return p&&n.locale!=="ko"?null:n.data;default:return null}}var Ie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ee(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n==="input"?!!Ie[e.type]:n==="textarea"}function _i(e,n,r,o){di?mi?mi.push(o):mi=[o]:di=o,n=Du(n,"onChange"),0<n.length&&(r=new Bs("onChange","change",null,r,o),e.push({event:r,listeners:n}))}var Ve=null,Yn=null;function fo(e){zp(e,0)}function Kl(e){var n=Ji(e);if(no(n))return e}function mm(e,n){if(e==="change")return n}var gm=!1;if(an){var Kc;if(an){var Yc="oninput"in document;if(!Yc){var pm=document.createElement("div");pm.setAttribute("oninput","return;"),Yc=typeof pm.oninput=="function"}Kc=Yc}else Kc=!1;gm=Kc&&(!document.documentMode||9<document.documentMode)}function ym(){Ve&&(Ve.detachEvent("onpropertychange",_m),Yn=Ve=null)}function _m(e){if(e.propertyName==="value"&&Kl(Yn)){var n=[];_i(n,Yn,e,zs(e)),Vl(fo,n)}}function J0(e,n,r){e==="focusin"?(ym(),Ve=n,Yn=r,Ve.attachEvent("onpropertychange",_m)):e==="focusout"&&ym()}function W0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Kl(Yn)}function tE(e,n){if(e==="click")return Kl(n)}function eE(e,n){if(e==="input"||e==="change")return Kl(n)}function nE(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var on=typeof Object.is=="function"?Object.is:nE;function mo(e,n){if(on(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var r=Object.keys(e),o=Object.keys(n);if(r.length!==o.length)return!1;for(o=0;o<r.length;o++){var c=r[o];if(!Ns.call(n,c)||!on(e[c],n[c]))return!1}return!0}function vm(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Em(e,n){var r=vm(e);e=0;for(var o;r;){if(r.nodeType===3){if(o=e+r.textContent.length,e<=n&&o>=n)return{node:r,offset:n-e};e=o}t:{for(;r;){if(r.nextSibling){r=r.nextSibling;break t}r=r.parentNode}r=void 0}r=vm(r)}}function Tm(e,n){return e&&n?e===n?!0:e&&e.nodeType===3?!1:n&&n.nodeType===3?Tm(e,n.parentNode):"contains"in e?e.contains(n):e.compareDocumentPosition?!!(e.compareDocumentPosition(n)&16):!1:!1}function Am(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var n=Ps(e.document);n instanceof e.HTMLIFrameElement;){try{var r=typeof n.contentWindow.location.href=="string"}catch{r=!1}if(r)e=n.contentWindow;else break;n=Ps(e.document)}return n}function Xc(e){var n=e&&e.nodeName&&e.nodeName.toLowerCase();return n&&(n==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||n==="textarea"||e.contentEditable==="true")}function iE(e,n){var r=Am(n);n=e.focusedElem;var o=e.selectionRange;if(r!==n&&n&&n.ownerDocument&&Tm(n.ownerDocument.documentElement,n)){if(o!==null&&Xc(n)){if(e=o.start,r=o.end,r===void 0&&(r=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(r,n.value.length);else if(r=(e=n.ownerDocument||document)&&e.defaultView||window,r.getSelection){r=r.getSelection();var c=n.textContent.length,f=Math.min(o.start,c);o=o.end===void 0?f:Math.min(o.end,c),!r.extend&&f>o&&(c=o,o=f,f=c),c=Em(n,f);var y=Em(n,o);c&&y&&(r.rangeCount!==1||r.anchorNode!==c.node||r.anchorOffset!==c.offset||r.focusNode!==y.node||r.focusOffset!==y.offset)&&(e=e.createRange(),e.setStart(c.node,c.offset),r.removeAllRanges(),f>o?(r.addRange(e),r.extend(y.node,y.offset)):(e.setEnd(y.node,y.offset),r.addRange(e)))}}for(e=[],r=n;r=r.parentNode;)r.nodeType===1&&e.push({element:r,left:r.scrollLeft,top:r.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)r=e[n],r.element.scrollLeft=r.left,r.element.scrollTop=r.top}}var rE=an&&"documentMode"in document&&11>=document.documentMode,Ys=null,$c=null,go=null,Zc=!1;function Sm(e,n,r){var o=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Zc||Ys==null||Ys!==Ps(o)||(o=Ys,"selectionStart"in o&&Xc(o)?o={start:o.selectionStart,end:o.selectionEnd}:(o=(o.ownerDocument&&o.ownerDocument.defaultView||window).getSelection(),o={anchorNode:o.anchorNode,anchorOffset:o.anchorOffset,focusNode:o.focusNode,focusOffset:o.focusOffset}),go&&mo(go,o)||(go=o,o=Du($c,"onSelect"),0<o.length&&(n=new Bs("onSelect","select",null,n,r),e.push({event:n,listeners:o}),n.target=Ys)))}function es(e,n){var r={};return r[e.toLowerCase()]=n.toLowerCase(),r["Webkit"+e]="webkit"+n,r["Moz"+e]="moz"+n,r}var Xs={animationend:es("Animation","AnimationEnd"),animationiteration:es("Animation","AnimationIteration"),animationstart:es("Animation","AnimationStart"),transitionrun:es("Transition","TransitionRun"),transitionstart:es("Transition","TransitionStart"),transitioncancel:es("Transition","TransitionCancel"),transitionend:es("Transition","TransitionEnd")},Jc={},bm={};an&&(bm=document.createElement("div").style,"AnimationEvent"in window||(delete Xs.animationend.animation,delete Xs.animationiteration.animation,delete Xs.animationstart.animation),"TransitionEvent"in window||delete Xs.transitionend.transition);function ns(e){if(Jc[e])return Jc[e];if(!Xs[e])return e;var n=Xs[e],r;for(r in n)if(n.hasOwnProperty(r)&&r in bm)return Jc[e]=n[r];return e}var Rm=ns("animationend"),wm=ns("animationiteration"),Cm=ns("animationstart"),sE=ns("transitionrun"),aE=ns("transitionstart"),oE=ns("transitioncancel"),Im=ns("transitionend"),Dm=new Map,Om="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mn(e,n){Dm.set(e,n),sn(n,[e])}var vn=[],$s=0,Wc=0;function Yl(){for(var e=$s,n=Wc=$s=0;n<e;){var r=vn[n];vn[n++]=null;var o=vn[n];vn[n++]=null;var c=vn[n];vn[n++]=null;var f=vn[n];if(vn[n++]=null,o!==null&&c!==null){var y=o.pending;y===null?c.next=c:(c.next=y.next,y.next=c),o.pending=c}f!==0&&Nm(r,c,f)}}function Xl(e,n,r,o){vn[$s++]=e,vn[$s++]=n,vn[$s++]=r,vn[$s++]=o,Wc|=o,e.lanes|=o,e=e.alternate,e!==null&&(e.lanes|=o)}function th(e,n,r,o){return Xl(e,n,r,o),$l(e)}function sr(e,n){return Xl(e,null,null,n),$l(e)}function Nm(e,n,r){e.lanes|=r;var o=e.alternate;o!==null&&(o.lanes|=r);for(var c=!1,f=e.return;f!==null;)f.childLanes|=r,o=f.alternate,o!==null&&(o.childLanes|=r),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;c&&n!==null&&e.tag===3&&(f=e.stateNode,c=31-Ke(r),f=f.hiddenUpdates,e=f[c],e===null?f[c]=[n]:e.push(n),n.lane=r|536870912)}function $l(e){if(50<Bo)throw Bo=0,of=null,Error(s(185));for(var n=e.return;n!==null;)e=n,n=e.return;return e.tag===3?e.stateNode:null}var Zs={},Mm=new WeakMap;function En(e,n){if(typeof e=="object"&&e!==null){var r=Mm.get(e);return r!==void 0?r:(n={value:e,source:n,stack:ct(n)},Mm.set(e,n),n)}return{value:e,source:n,stack:ct(n)}}var Js=[],Ws=0,Zl=null,Jl=0,Tn=[],An=0,is=null,vi=1,Ei="";function rs(e,n){Js[Ws++]=Jl,Js[Ws++]=Zl,Zl=e,Jl=n}function Vm(e,n,r){Tn[An++]=vi,Tn[An++]=Ei,Tn[An++]=is,is=e;var o=vi;e=Ei;var c=32-Ke(o)-1;o&=~(1<<c),r+=1;var f=32-Ke(n)+c;if(30<f){var y=c-c%5;f=(o&(1<<y)-1).toString(32),o>>=y,c-=y,vi=1<<32-Ke(n)+c|r<<c|o,Ei=f+e}else vi=1<<f|r<<c|o,Ei=e}function eh(e){e.return!==null&&(rs(e,1),Vm(e,1,0))}function nh(e){for(;e===Zl;)Zl=Js[--Ws],Js[Ws]=null,Jl=Js[--Ws],Js[Ws]=null;for(;e===is;)is=Tn[--An],Tn[An]=null,Ei=Tn[--An],Tn[An]=null,vi=Tn[--An],Tn[An]=null}var $e=null,Ue=null,zt=!1,Vn=null,Xn=!1,ih=Error(s(519));function ss(e){var n=Error(s(418,""));throw _o(En(n,e)),ih}function Um(e){var n=e.stateNode,r=e.type,o=e.memoizedProps;switch(n[we]=e,n[_e]=o,r){case"dialog":It("cancel",n),It("close",n);break;case"iframe":case"object":case"embed":It("load",n);break;case"video":case"audio":for(r=0;r<Ho.length;r++)It(Ho[r],n);break;case"source":It("error",n);break;case"img":case"image":case"link":It("error",n),It("load",n);break;case"details":It("toggle",n);break;case"input":It("invalid",n),Qr(n,o.value,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name,!0),Fr(n);break;case"select":It("invalid",n);break;case"textarea":It("invalid",n),ir(n,o.value,o.defaultValue,o.children),Fr(n)}r=o.children,typeof r!="string"&&typeof r!="number"&&typeof r!="bigint"||n.textContent===""+r||o.suppressHydrationWarning===!0||jp(n.textContent,r)?(o.popover!=null&&(It("beforetoggle",n),It("toggle",n)),o.onScroll!=null&&It("scroll",n),o.onScrollEnd!=null&&It("scrollend",n),o.onClick!=null&&(n.onclick=Ou),n=!0):n=!1,n||ss(e)}function Lm(e){for($e=e.return;$e;)switch($e.tag){case 3:case 27:Xn=!0;return;case 5:case 13:Xn=!1;return;default:$e=$e.return}}function po(e){if(e!==$e)return!1;if(!zt)return Lm(e),zt=!0,!1;var n=!1,r;if((r=e.tag!==3&&e.tag!==27)&&((r=e.tag===5)&&(r=e.type,r=!(r!=="form"&&r!=="button")||bf(e.type,e.memoizedProps)),r=!r),r&&(n=!0),n&&Ue&&ss(e),Lm(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(s(317));t:{for(e=e.nextSibling,n=0;e;){if(e.nodeType===8)if(r=e.data,r==="/$"){if(n===0){Ue=Ln(e.nextSibling);break t}n--}else r!=="$"&&r!=="$!"&&r!=="$?"||n++;e=e.nextSibling}Ue=null}}else Ue=$e?Ln(e.stateNode.nextSibling):null;return!0}function yo(){Ue=$e=null,zt=!1}function _o(e){Vn===null?Vn=[e]:Vn.push(e)}var vo=Error(s(460)),km=Error(s(474)),rh={then:function(){}};function Pm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Wl(){}function xm(e,n,r){switch(r=e[r],r===void 0?e.push(n):r!==n&&(n.then(Wl,Wl),n=r),n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===vo?Error(s(483)):e;default:if(typeof n.status=="string")n.then(Wl,Wl);else{if(e=Yt,e!==null&&100<e.shellSuspendCounter)throw Error(s(482));e=n,e.status="pending",e.then(function(o){if(n.status==="pending"){var c=n;c.status="fulfilled",c.value=o}},function(o){if(n.status==="pending"){var c=n;c.status="rejected",c.reason=o}})}switch(n.status){case"fulfilled":return n.value;case"rejected":throw e=n.reason,e===vo?Error(s(483)):e}throw Eo=n,vo}}var Eo=null;function zm(){if(Eo===null)throw Error(s(459));var e=Eo;return Eo=null,e}var ta=null,To=0;function tu(e){var n=To;return To+=1,ta===null&&(ta=[]),xm(ta,e,n)}function Ao(e,n){n=n.props.ref,e.ref=n!==void 0?n:null}function eu(e,n){throw n.$$typeof===h?Error(s(525)):(e=Object.prototype.toString.call(n),Error(s(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)))}function Bm(e){var n=e._init;return n(e._payload)}function qm(e){function n(U,D){if(e){var P=U.deletions;P===null?(U.deletions=[D],U.flags|=16):P.push(D)}}function r(U,D){if(!e)return null;for(;D!==null;)n(U,D),D=D.sibling;return null}function o(U){for(var D=new Map;U!==null;)U.key!==null?D.set(U.key,U):D.set(U.index,U),U=U.sibling;return D}function c(U,D){return U=yr(U,D),U.index=0,U.sibling=null,U}function f(U,D,P){return U.index=P,e?(P=U.alternate,P!==null?(P=P.index,P<D?(U.flags|=33554434,D):P):(U.flags|=33554434,D)):(U.flags|=1048576,D)}function y(U){return e&&U.alternate===null&&(U.flags|=33554434),U}function E(U,D,P,j){return D===null||D.tag!==6?(D=Jh(P,U.mode,j),D.return=U,D):(D=c(D,P),D.return=U,D)}function b(U,D,P,j){var nt=P.type;return nt===_?H(U,D,P.props.children,j,P.key):D!==null&&(D.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===pt&&Bm(nt)===D.type)?(D=c(D,P.props),Ao(D,P),D.return=U,D):(D=vu(P.type,P.key,P.props,null,U.mode,j),Ao(D,P),D.return=U,D)}function O(U,D,P,j){return D===null||D.tag!==4||D.stateNode.containerInfo!==P.containerInfo||D.stateNode.implementation!==P.implementation?(D=Wh(P,U.mode,j),D.return=U,D):(D=c(D,P.children||[]),D.return=U,D)}function H(U,D,P,j,nt){return D===null||D.tag!==7?(D=gs(P,U.mode,j,nt),D.return=U,D):(D=c(D,P),D.return=U,D)}function Q(U,D,P){if(typeof D=="string"&&D!==""||typeof D=="number"||typeof D=="bigint")return D=Jh(""+D,U.mode,P),D.return=U,D;if(typeof D=="object"&&D!==null){switch(D.$$typeof){case d:return P=vu(D.type,D.key,D.props,null,U.mode,P),Ao(P,D),P.return=U,P;case g:return D=Wh(D,U.mode,P),D.return=U,D;case pt:var j=D._init;return D=j(D._payload),Q(U,D,P)}if(W(D)||wt(D))return D=gs(D,U.mode,P,null),D.return=U,D;if(typeof D.then=="function")return Q(U,tu(D),P);if(D.$$typeof===F)return Q(U,pu(U,D),P);eu(U,D)}return null}function x(U,D,P,j){var nt=D!==null?D.key:null;if(typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint")return nt!==null?null:E(U,D,""+P,j);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case d:return P.key===nt?b(U,D,P,j):null;case g:return P.key===nt?O(U,D,P,j):null;case pt:return nt=P._init,P=nt(P._payload),x(U,D,P,j)}if(W(P)||wt(P))return nt!==null?null:H(U,D,P,j,null);if(typeof P.then=="function")return x(U,D,tu(P),j);if(P.$$typeof===F)return x(U,D,pu(U,P),j);eu(U,P)}return null}function q(U,D,P,j,nt){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return U=U.get(P)||null,E(D,U,""+j,nt);if(typeof j=="object"&&j!==null){switch(j.$$typeof){case d:return U=U.get(j.key===null?P:j.key)||null,b(D,U,j,nt);case g:return U=U.get(j.key===null?P:j.key)||null,O(D,U,j,nt);case pt:var St=j._init;return j=St(j._payload),q(U,D,P,j,nt)}if(W(j)||wt(j))return U=U.get(P)||null,H(D,U,j,nt,null);if(typeof j.then=="function")return q(U,D,P,tu(j),nt);if(j.$$typeof===F)return q(U,D,P,pu(D,j),nt);eu(D,j)}return null}function it(U,D,P,j){for(var nt=null,St=null,at=D,lt=D=0,Ne=null;at!==null&&lt<P.length;lt++){at.index>lt?(Ne=at,at=null):Ne=at.sibling;var Bt=x(U,at,P[lt],j);if(Bt===null){at===null&&(at=Ne);break}e&&at&&Bt.alternate===null&&n(U,at),D=f(Bt,D,lt),St===null?nt=Bt:St.sibling=Bt,St=Bt,at=Ne}if(lt===P.length)return r(U,at),zt&&rs(U,lt),nt;if(at===null){for(;lt<P.length;lt++)at=Q(U,P[lt],j),at!==null&&(D=f(at,D,lt),St===null?nt=at:St.sibling=at,St=at);return zt&&rs(U,lt),nt}for(at=o(at);lt<P.length;lt++)Ne=q(at,U,lt,P[lt],j),Ne!==null&&(e&&Ne.alternate!==null&&at.delete(Ne.key===null?lt:Ne.key),D=f(Ne,D,lt),St===null?nt=Ne:St.sibling=Ne,St=Ne);return e&&at.forEach(function(br){return n(U,br)}),zt&&rs(U,lt),nt}function mt(U,D,P,j){if(P==null)throw Error(s(151));for(var nt=null,St=null,at=D,lt=D=0,Ne=null,Bt=P.next();at!==null&&!Bt.done;lt++,Bt=P.next()){at.index>lt?(Ne=at,at=null):Ne=at.sibling;var br=x(U,at,Bt.value,j);if(br===null){at===null&&(at=Ne);break}e&&at&&br.alternate===null&&n(U,at),D=f(br,D,lt),St===null?nt=br:St.sibling=br,St=br,at=Ne}if(Bt.done)return r(U,at),zt&&rs(U,lt),nt;if(at===null){for(;!Bt.done;lt++,Bt=P.next())Bt=Q(U,Bt.value,j),Bt!==null&&(D=f(Bt,D,lt),St===null?nt=Bt:St.sibling=Bt,St=Bt);return zt&&rs(U,lt),nt}for(at=o(at);!Bt.done;lt++,Bt=P.next())Bt=q(at,U,lt,Bt.value,j),Bt!==null&&(e&&Bt.alternate!==null&&at.delete(Bt.key===null?lt:Bt.key),D=f(Bt,D,lt),St===null?nt=Bt:St.sibling=Bt,St=Bt);return e&&at.forEach(function(TT){return n(U,TT)}),zt&&rs(U,lt),nt}function re(U,D,P,j){if(typeof P=="object"&&P!==null&&P.type===_&&P.key===null&&(P=P.props.children),typeof P=="object"&&P!==null){switch(P.$$typeof){case d:t:{for(var nt=P.key;D!==null;){if(D.key===nt){if(nt=P.type,nt===_){if(D.tag===7){r(U,D.sibling),j=c(D,P.props.children),j.return=U,U=j;break t}}else if(D.elementType===nt||typeof nt=="object"&&nt!==null&&nt.$$typeof===pt&&Bm(nt)===D.type){r(U,D.sibling),j=c(D,P.props),Ao(j,P),j.return=U,U=j;break t}r(U,D);break}else n(U,D);D=D.sibling}P.type===_?(j=gs(P.props.children,U.mode,j,P.key),j.return=U,U=j):(j=vu(P.type,P.key,P.props,null,U.mode,j),Ao(j,P),j.return=U,U=j)}return y(U);case g:t:{for(nt=P.key;D!==null;){if(D.key===nt)if(D.tag===4&&D.stateNode.containerInfo===P.containerInfo&&D.stateNode.implementation===P.implementation){r(U,D.sibling),j=c(D,P.children||[]),j.return=U,U=j;break t}else{r(U,D);break}else n(U,D);D=D.sibling}j=Wh(P,U.mode,j),j.return=U,U=j}return y(U);case pt:return nt=P._init,P=nt(P._payload),re(U,D,P,j)}if(W(P))return it(U,D,P,j);if(wt(P)){if(nt=wt(P),typeof nt!="function")throw Error(s(150));return P=nt.call(P),mt(U,D,P,j)}if(typeof P.then=="function")return re(U,D,tu(P),j);if(P.$$typeof===F)return re(U,D,pu(U,P),j);eu(U,P)}return typeof P=="string"&&P!==""||typeof P=="number"||typeof P=="bigint"?(P=""+P,D!==null&&D.tag===6?(r(U,D.sibling),j=c(D,P),j.return=U,U=j):(r(U,D),j=Jh(P,U.mode,j),j.return=U,U=j),y(U)):r(U,D)}return function(U,D,P,j){try{To=0;var nt=re(U,D,P,j);return ta=null,nt}catch(at){if(at===vo)throw at;var St=wn(29,at,null,U.mode);return St.lanes=j,St.return=U,St}finally{}}}var as=qm(!0),Hm=qm(!1),ea=Pt(null),nu=Pt(0);function jm(e,n){e=Ni,Gt(nu,e),Gt(ea,n),Ni=e|n.baseLanes}function sh(){Gt(nu,Ni),Gt(ea,ea.current)}function ah(){Ni=nu.current,te(ea),te(nu)}var Sn=Pt(null),$n=null;function ar(e){var n=e.alternate;Gt(Te,Te.current&1),Gt(Sn,e),$n===null&&(n===null||ea.current!==null||n.memoizedState!==null)&&($n=e)}function Gm(e){if(e.tag===22){if(Gt(Te,Te.current),Gt(Sn,e),$n===null){var n=e.alternate;n!==null&&n.memoizedState!==null&&($n=e)}}else or()}function or(){Gt(Te,Te.current),Gt(Sn,Sn.current)}function Ti(e){te(Sn),$n===e&&($n=null),te(Te)}var Te=Pt(0);function iu(e){for(var n=e;n!==null;){if(n.tag===13){var r=n.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var lE=typeof AbortController<"u"?AbortController:function(){var e=[],n=this.signal={aborted:!1,addEventListener:function(r,o){e.push(o)}};this.abort=function(){n.aborted=!0,e.forEach(function(r){return r()})}},uE=a.unstable_scheduleCallback,cE=a.unstable_NormalPriority,Ae={$$typeof:F,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function oh(){return{controller:new lE,data:new Map,refCount:0}}function So(e){e.refCount--,e.refCount===0&&uE(cE,function(){e.controller.abort()})}var bo=null,lh=0,na=0,ia=null;function hE(e,n){if(bo===null){var r=bo=[];lh=0,na=gf(),ia={status:"pending",value:void 0,then:function(o){r.push(o)}}}return lh++,n.then(Fm,Fm),n}function Fm(){if(--lh===0&&bo!==null){ia!==null&&(ia.status="fulfilled");var e=bo;bo=null,na=0,ia=null;for(var n=0;n<e.length;n++)(0,e[n])()}}function fE(e,n){var r=[],o={status:"pending",value:null,reason:null,then:function(c){r.push(c)}};return e.then(function(){o.status="fulfilled",o.value=n;for(var c=0;c<r.length;c++)(0,r[c])(n)},function(c){for(o.status="rejected",o.reason=c,c=0;c<r.length;c++)(0,r[c])(void 0)}),o}var Qm=A.S;A.S=function(e,n){typeof n=="object"&&n!==null&&typeof n.then=="function"&&hE(e,n),Qm!==null&&Qm(e,n)};var os=Pt(null);function uh(){var e=os.current;return e!==null?e:Yt.pooledCache}function ru(e,n){n===null?Gt(os,os.current):Gt(os,n.pool)}function Km(){var e=uh();return e===null?null:{parent:Ae._currentValue,pool:e}}var lr=0,At=null,Ft=null,fe=null,su=!1,ra=!1,ls=!1,au=0,Ro=0,sa=null,dE=0;function oe(){throw Error(s(321))}function ch(e,n){if(n===null)return!1;for(var r=0;r<n.length&&r<e.length;r++)if(!on(e[r],n[r]))return!1;return!0}function hh(e,n,r,o,c,f){return lr=f,At=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,A.H=e===null||e.memoizedState===null?us:ur,ls=!1,f=r(o,c),ls=!1,ra&&(f=Xm(n,r,o,c)),Ym(e),f}function Ym(e){A.H=Zn;var n=Ft!==null&&Ft.next!==null;if(lr=0,fe=Ft=At=null,su=!1,Ro=0,sa=null,n)throw Error(s(300));e===null||De||(e=e.dependencies,e!==null&&gu(e)&&(De=!0))}function Xm(e,n,r,o){At=e;var c=0;do{if(ra&&(sa=null),Ro=0,ra=!1,25<=c)throw Error(s(301));if(c+=1,fe=Ft=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}A.H=cs,f=n(r,o)}while(ra);return f}function mE(){var e=A.H,n=e.useState()[0];return n=typeof n.then=="function"?wo(n):n,e=e.useState()[0],(Ft!==null?Ft.memoizedState:null)!==e&&(At.flags|=1024),n}function fh(){var e=au!==0;return au=0,e}function dh(e,n,r){n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~r}function mh(e){if(su){for(e=e.memoizedState;e!==null;){var n=e.queue;n!==null&&(n.pending=null),e=e.next}su=!1}lr=0,fe=Ft=At=null,ra=!1,Ro=au=0,sa=null}function en(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fe===null?At.memoizedState=fe=e:fe=fe.next=e,fe}function de(){if(Ft===null){var e=At.alternate;e=e!==null?e.memoizedState:null}else e=Ft.next;var n=fe===null?At.memoizedState:fe.next;if(n!==null)fe=n,Ft=e;else{if(e===null)throw At.alternate===null?Error(s(467)):Error(s(310));Ft=e,e={memoizedState:Ft.memoizedState,baseState:Ft.baseState,baseQueue:Ft.baseQueue,queue:Ft.queue,next:null},fe===null?At.memoizedState=fe=e:fe=fe.next=e}return fe}var ou;ou=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function wo(e){var n=Ro;return Ro+=1,sa===null&&(sa=[]),e=xm(sa,e,n),n=At,(fe===null?n.memoizedState:fe.next)===null&&(n=n.alternate,A.H=n===null||n.memoizedState===null?us:ur),e}function lu(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return wo(e);if(e.$$typeof===F)return Be(e)}throw Error(s(438,String(e)))}function gh(e){var n=null,r=At.updateQueue;if(r!==null&&(n=r.memoCache),n==null){var o=At.alternate;o!==null&&(o=o.updateQueue,o!==null&&(o=o.memoCache,o!=null&&(n={data:o.data.map(function(c){return c.slice()}),index:0})))}if(n==null&&(n={data:[],index:0}),r===null&&(r=ou(),At.updateQueue=r),r.memoCache=n,r=n.data[n.index],r===void 0)for(r=n.data[n.index]=Array(e),o=0;o<e;o++)r[o]=qt;return n.index++,r}function Ai(e,n){return typeof n=="function"?n(e):n}function uu(e){var n=de();return ph(n,Ft,e)}function ph(e,n,r){var o=e.queue;if(o===null)throw Error(s(311));o.lastRenderedReducer=r;var c=e.baseQueue,f=o.pending;if(f!==null){if(c!==null){var y=c.next;c.next=f.next,f.next=y}n.baseQueue=c=f,o.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{n=c.next;var E=y=null,b=null,O=n,H=!1;do{var Q=O.lane&-536870913;if(Q!==O.lane?(Vt&Q)===Q:(lr&Q)===Q){var x=O.revertLane;if(x===0)b!==null&&(b=b.next={lane:0,revertLane:0,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null}),Q===na&&(H=!0);else if((lr&x)===x){O=O.next,x===na&&(H=!0);continue}else Q={lane:0,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(E=b=Q,y=f):b=b.next=Q,At.lanes|=x,_r|=x;Q=O.action,ls&&r(f,Q),f=O.hasEagerState?O.eagerState:r(f,Q)}else x={lane:Q,revertLane:O.revertLane,action:O.action,hasEagerState:O.hasEagerState,eagerState:O.eagerState,next:null},b===null?(E=b=x,y=f):b=b.next=x,At.lanes|=Q,_r|=Q;O=O.next}while(O!==null&&O!==n);if(b===null?y=f:b.next=E,!on(f,e.memoizedState)&&(De=!0,H&&(r=ia,r!==null)))throw r;e.memoizedState=f,e.baseState=y,e.baseQueue=b,o.lastRenderedState=f}return c===null&&(o.lanes=0),[e.memoizedState,o.dispatch]}function yh(e){var n=de(),r=n.queue;if(r===null)throw Error(s(311));r.lastRenderedReducer=e;var o=r.dispatch,c=r.pending,f=n.memoizedState;if(c!==null){r.pending=null;var y=c=c.next;do f=e(f,y.action),y=y.next;while(y!==c);on(f,n.memoizedState)||(De=!0),n.memoizedState=f,n.baseQueue===null&&(n.baseState=f),r.lastRenderedState=f}return[f,o]}function $m(e,n,r){var o=At,c=de(),f=zt;if(f){if(r===void 0)throw Error(s(407));r=r()}else r=n();var y=!on((Ft||c).memoizedState,r);if(y&&(c.memoizedState=r,De=!0),c=c.queue,Eh(Wm.bind(null,o,c,e),[e]),c.getSnapshot!==n||y||fe!==null&&fe.memoizedState.tag&1){if(o.flags|=2048,aa(9,Jm.bind(null,o,c,r,n),{destroy:void 0},null),Yt===null)throw Error(s(349));f||lr&60||Zm(o,n,r)}return r}function Zm(e,n,r){e.flags|=16384,e={getSnapshot:n,value:r},n=At.updateQueue,n===null?(n=ou(),At.updateQueue=n,n.stores=[e]):(r=n.stores,r===null?n.stores=[e]:r.push(e))}function Jm(e,n,r,o){n.value=r,n.getSnapshot=o,tg(n)&&eg(e)}function Wm(e,n,r){return r(function(){tg(n)&&eg(e)})}function tg(e){var n=e.getSnapshot;e=e.value;try{var r=n();return!on(e,r)}catch{return!0}}function eg(e){var n=sr(e,2);n!==null&&Ze(n,e,2)}function _h(e){var n=en();if(typeof e=="function"){var r=e;if(e=r(),ls){xn(!0);try{r()}finally{xn(!1)}}}return n.memoizedState=n.baseState=e,n.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:e},n}function ng(e,n,r,o){return e.baseState=r,ph(e,Ft,typeof o=="function"?o:Ai)}function gE(e,n,r,o,c){if(fu(e))throw Error(s(485));if(e=n.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(y){f.listeners.push(y)}};A.T!==null?r(!0):f.isTransition=!1,o(f),r=n.pending,r===null?(f.next=n.pending=f,ig(n,f)):(f.next=r.next,n.pending=r.next=f)}}function ig(e,n){var r=n.action,o=n.payload,c=e.state;if(n.isTransition){var f=A.T,y={};A.T=y;try{var E=r(c,o),b=A.S;b!==null&&b(y,E),rg(e,n,E)}catch(O){vh(e,n,O)}finally{A.T=f}}else try{f=r(c,o),rg(e,n,f)}catch(O){vh(e,n,O)}}function rg(e,n,r){r!==null&&typeof r=="object"&&typeof r.then=="function"?r.then(function(o){sg(e,n,o)},function(o){return vh(e,n,o)}):sg(e,n,r)}function sg(e,n,r){n.status="fulfilled",n.value=r,ag(n),e.state=r,n=e.pending,n!==null&&(r=n.next,r===n?e.pending=null:(r=r.next,n.next=r,ig(e,r)))}function vh(e,n,r){var o=e.pending;if(e.pending=null,o!==null){o=o.next;do n.status="rejected",n.reason=r,ag(n),n=n.next;while(n!==o)}e.action=null}function ag(e){e=e.listeners;for(var n=0;n<e.length;n++)(0,e[n])()}function og(e,n){return n}function lg(e,n){if(zt){var r=Yt.formState;if(r!==null){t:{var o=At;if(zt){if(Ue){e:{for(var c=Ue,f=Xn;c.nodeType!==8;){if(!f){c=null;break e}if(c=Ln(c.nextSibling),c===null){c=null;break e}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){Ue=Ln(c.nextSibling),o=c.data==="F!";break t}}ss(o)}o=!1}o&&(n=r[0])}}return r=en(),r.memoizedState=r.baseState=n,o={pending:null,lanes:0,dispatch:null,lastRenderedReducer:og,lastRenderedState:n},r.queue=o,r=wg.bind(null,At,o),o.dispatch=r,o=_h(!1),f=Rh.bind(null,At,!1,o.queue),o=en(),c={state:n,dispatch:null,action:e,pending:null},o.queue=c,r=gE.bind(null,At,c,f,r),c.dispatch=r,o.memoizedState=e,[n,r,!1]}function ug(e){var n=de();return cg(n,Ft,e)}function cg(e,n,r){n=ph(e,n,og)[0],e=uu(Ai)[0],n=typeof n=="object"&&n!==null&&typeof n.then=="function"?wo(n):n;var o=de(),c=o.queue,f=c.dispatch;return r!==o.memoizedState&&(At.flags|=2048,aa(9,pE.bind(null,c,r),{destroy:void 0},null)),[n,f,e]}function pE(e,n){e.action=n}function hg(e){var n=de(),r=Ft;if(r!==null)return cg(n,r,e);de(),n=n.memoizedState,r=de();var o=r.queue.dispatch;return r.memoizedState=e,[n,o,!1]}function aa(e,n,r,o){return e={tag:e,create:n,inst:r,deps:o,next:null},n=At.updateQueue,n===null&&(n=ou(),At.updateQueue=n),r=n.lastEffect,r===null?n.lastEffect=e.next=e:(o=r.next,r.next=e,e.next=o,n.lastEffect=e),e}function fg(){return de().memoizedState}function cu(e,n,r,o){var c=en();At.flags|=e,c.memoizedState=aa(1|n,r,{destroy:void 0},o===void 0?null:o)}function hu(e,n,r,o){var c=de();o=o===void 0?null:o;var f=c.memoizedState.inst;Ft!==null&&o!==null&&ch(o,Ft.memoizedState.deps)?c.memoizedState=aa(n,r,f,o):(At.flags|=e,c.memoizedState=aa(1|n,r,f,o))}function dg(e,n){cu(8390656,8,e,n)}function Eh(e,n){hu(2048,8,e,n)}function mg(e,n){return hu(4,2,e,n)}function gg(e,n){return hu(4,4,e,n)}function pg(e,n){if(typeof n=="function"){e=e();var r=n(e);return function(){typeof r=="function"?r():n(null)}}if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function yg(e,n,r){r=r!=null?r.concat([e]):null,hu(4,4,pg.bind(null,n,e),r)}function Th(){}function _g(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;return n!==null&&ch(n,o[1])?o[0]:(r.memoizedState=[e,n],e)}function vg(e,n){var r=de();n=n===void 0?null:n;var o=r.memoizedState;if(n!==null&&ch(n,o[1]))return o[0];if(o=e(),ls){xn(!0);try{e()}finally{xn(!1)}}return r.memoizedState=[o,n],o}function Ah(e,n,r){return r===void 0||lr&1073741824?e.memoizedState=n:(e.memoizedState=r,e=Tp(),At.lanes|=e,_r|=e,r)}function Eg(e,n,r,o){return on(r,n)?r:ea.current!==null?(e=Ah(e,r,o),on(e,n)||(De=!0),e):lr&42?(e=Tp(),At.lanes|=e,_r|=e,n):(De=!0,e.memoizedState=r)}function Tg(e,n,r,o,c){var f=tt.p;tt.p=f!==0&&8>f?f:8;var y=A.T,E={};A.T=E,Rh(e,!1,n,r);try{var b=c(),O=A.S;if(O!==null&&O(E,b),b!==null&&typeof b=="object"&&typeof b.then=="function"){var H=fE(b,o);Co(e,n,H,hn(e))}else Co(e,n,o,hn(e))}catch(Q){Co(e,n,{then:function(){},status:"rejected",reason:Q},hn())}finally{tt.p=f,A.T=y}}function yE(){}function Sh(e,n,r,o){if(e.tag!==5)throw Error(s(476));var c=Ag(e).queue;Tg(e,c,n,Tt,r===null?yE:function(){return Sg(e),r(o)})}function Ag(e){var n=e.memoizedState;if(n!==null)return n;n={memoizedState:Tt,baseState:Tt,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:Tt},next:null};var r={};return n.next={memoizedState:r,baseState:r,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ai,lastRenderedState:r},next:null},e.memoizedState=n,e=e.alternate,e!==null&&(e.memoizedState=n),n}function Sg(e){var n=Ag(e).next.queue;Co(e,n,{},hn())}function bh(){return Be(Ko)}function bg(){return de().memoizedState}function Rg(){return de().memoizedState}function _E(e){for(var n=e.return;n!==null;){switch(n.tag){case 24:case 3:var r=hn();e=fr(r);var o=dr(n,e,r);o!==null&&(Ze(o,n,r),Oo(o,n,r)),n={cache:oh()},e.payload=n;return}n=n.return}}function vE(e,n,r){var o=hn();r={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null},fu(e)?Cg(n,r):(r=th(e,n,r,o),r!==null&&(Ze(r,e,o),Ig(r,n,o)))}function wg(e,n,r){var o=hn();Co(e,n,r,o)}function Co(e,n,r,o){var c={lane:o,revertLane:0,action:r,hasEagerState:!1,eagerState:null,next:null};if(fu(e))Cg(n,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=n.lastRenderedReducer,f!==null))try{var y=n.lastRenderedState,E=f(y,r);if(c.hasEagerState=!0,c.eagerState=E,on(E,y))return Xl(e,n,c,0),Yt===null&&Yl(),!1}catch{}finally{}if(r=th(e,n,c,o),r!==null)return Ze(r,e,o),Ig(r,n,o),!0}return!1}function Rh(e,n,r,o){if(o={lane:2,revertLane:gf(),action:o,hasEagerState:!1,eagerState:null,next:null},fu(e)){if(n)throw Error(s(479))}else n=th(e,r,o,2),n!==null&&Ze(n,e,2)}function fu(e){var n=e.alternate;return e===At||n!==null&&n===At}function Cg(e,n){ra=su=!0;var r=e.pending;r===null?n.next=n:(n.next=r.next,r.next=n),e.pending=n}function Ig(e,n,r){if(r&4194176){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Xi(e,r)}}var Zn={readContext:Be,use:lu,useCallback:oe,useContext:oe,useEffect:oe,useImperativeHandle:oe,useLayoutEffect:oe,useInsertionEffect:oe,useMemo:oe,useReducer:oe,useRef:oe,useState:oe,useDebugValue:oe,useDeferredValue:oe,useTransition:oe,useSyncExternalStore:oe,useId:oe};Zn.useCacheRefresh=oe,Zn.useMemoCache=oe,Zn.useHostTransitionStatus=oe,Zn.useFormState=oe,Zn.useActionState=oe,Zn.useOptimistic=oe;var us={readContext:Be,use:lu,useCallback:function(e,n){return en().memoizedState=[e,n===void 0?null:n],e},useContext:Be,useEffect:dg,useImperativeHandle:function(e,n,r){r=r!=null?r.concat([e]):null,cu(4194308,4,pg.bind(null,n,e),r)},useLayoutEffect:function(e,n){return cu(4194308,4,e,n)},useInsertionEffect:function(e,n){cu(4,2,e,n)},useMemo:function(e,n){var r=en();n=n===void 0?null:n;var o=e();if(ls){xn(!0);try{e()}finally{xn(!1)}}return r.memoizedState=[o,n],o},useReducer:function(e,n,r){var o=en();if(r!==void 0){var c=r(n);if(ls){xn(!0);try{r(n)}finally{xn(!1)}}}else c=n;return o.memoizedState=o.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},o.queue=e,e=e.dispatch=vE.bind(null,At,e),[o.memoizedState,e]},useRef:function(e){var n=en();return e={current:e},n.memoizedState=e},useState:function(e){e=_h(e);var n=e.queue,r=wg.bind(null,At,n);return n.dispatch=r,[e.memoizedState,r]},useDebugValue:Th,useDeferredValue:function(e,n){var r=en();return Ah(r,e,n)},useTransition:function(){var e=_h(!1);return e=Tg.bind(null,At,e.queue,!0,!1),en().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,n,r){var o=At,c=en();if(zt){if(r===void 0)throw Error(s(407));r=r()}else{if(r=n(),Yt===null)throw Error(s(349));Vt&60||Zm(o,n,r)}c.memoizedState=r;var f={value:r,getSnapshot:n};return c.queue=f,dg(Wm.bind(null,o,f,e),[e]),o.flags|=2048,aa(9,Jm.bind(null,o,f,r,n),{destroy:void 0},null),r},useId:function(){var e=en(),n=Yt.identifierPrefix;if(zt){var r=Ei,o=vi;r=(o&~(1<<32-Ke(o)-1)).toString(32)+r,n=":"+n+"R"+r,r=au++,0<r&&(n+="H"+r.toString(32)),n+=":"}else r=dE++,n=":"+n+"r"+r.toString(32)+":";return e.memoizedState=n},useCacheRefresh:function(){return en().memoizedState=_E.bind(null,At)}};us.useMemoCache=gh,us.useHostTransitionStatus=bh,us.useFormState=lg,us.useActionState=lg,us.useOptimistic=function(e){var n=en();n.memoizedState=n.baseState=e;var r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return n.queue=r,n=Rh.bind(null,At,!0,r),r.dispatch=n,[e,n]};var ur={readContext:Be,use:lu,useCallback:_g,useContext:Be,useEffect:Eh,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:vg,useReducer:uu,useRef:fg,useState:function(){return uu(Ai)},useDebugValue:Th,useDeferredValue:function(e,n){var r=de();return Eg(r,Ft.memoizedState,e,n)},useTransition:function(){var e=uu(Ai)[0],n=de().memoizedState;return[typeof e=="boolean"?e:wo(e),n]},useSyncExternalStore:$m,useId:bg};ur.useCacheRefresh=Rg,ur.useMemoCache=gh,ur.useHostTransitionStatus=bh,ur.useFormState=ug,ur.useActionState=ug,ur.useOptimistic=function(e,n){var r=de();return ng(r,Ft,e,n)};var cs={readContext:Be,use:lu,useCallback:_g,useContext:Be,useEffect:Eh,useImperativeHandle:yg,useInsertionEffect:mg,useLayoutEffect:gg,useMemo:vg,useReducer:yh,useRef:fg,useState:function(){return yh(Ai)},useDebugValue:Th,useDeferredValue:function(e,n){var r=de();return Ft===null?Ah(r,e,n):Eg(r,Ft.memoizedState,e,n)},useTransition:function(){var e=yh(Ai)[0],n=de().memoizedState;return[typeof e=="boolean"?e:wo(e),n]},useSyncExternalStore:$m,useId:bg};cs.useCacheRefresh=Rg,cs.useMemoCache=gh,cs.useHostTransitionStatus=bh,cs.useFormState=hg,cs.useActionState=hg,cs.useOptimistic=function(e,n){var r=de();return Ft!==null?ng(r,Ft,e,n):(r.baseState=e,[e,r.queue.dispatch])};function wh(e,n,r,o){n=e.memoizedState,r=r(o,n),r=r==null?n:C({},n,r),e.memoizedState=r,e.lanes===0&&(e.updateQueue.baseState=r)}var Ch={isMounted:function(e){return(e=e._reactInternals)?ot(e)===e:!1},enqueueSetState:function(e,n,r){e=e._reactInternals;var o=hn(),c=fr(o);c.payload=n,r!=null&&(c.callback=r),n=dr(e,c,o),n!==null&&(Ze(n,e,o),Oo(n,e,o))},enqueueReplaceState:function(e,n,r){e=e._reactInternals;var o=hn(),c=fr(o);c.tag=1,c.payload=n,r!=null&&(c.callback=r),n=dr(e,c,o),n!==null&&(Ze(n,e,o),Oo(n,e,o))},enqueueForceUpdate:function(e,n){e=e._reactInternals;var r=hn(),o=fr(r);o.tag=2,n!=null&&(o.callback=n),n=dr(e,o,r),n!==null&&(Ze(n,e,r),Oo(n,e,r))}};function Dg(e,n,r,o,c,f,y){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(o,f,y):n.prototype&&n.prototype.isPureReactComponent?!mo(r,o)||!mo(c,f):!0}function Og(e,n,r,o){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(r,o),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(r,o),n.state!==e&&Ch.enqueueReplaceState(n,n.state,null)}function hs(e,n){var r=n;if("ref"in n){r={};for(var o in n)o!=="ref"&&(r[o]=n[o])}if(e=e.defaultProps){r===n&&(r=C({},r));for(var c in e)r[c]===void 0&&(r[c]=e[c])}return r}var du=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var n=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(n))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function Ng(e){du(e)}function Mg(e){console.error(e)}function Vg(e){du(e)}function mu(e,n){try{var r=e.onUncaughtError;r(n.value,{componentStack:n.stack})}catch(o){setTimeout(function(){throw o})}}function Ug(e,n,r){try{var o=e.onCaughtError;o(r.value,{componentStack:r.stack,errorBoundary:n.tag===1?n.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Ih(e,n,r){return r=fr(r),r.tag=3,r.payload={element:null},r.callback=function(){mu(e,n)},r}function Lg(e){return e=fr(e),e.tag=3,e}function kg(e,n,r,o){var c=r.type.getDerivedStateFromError;if(typeof c=="function"){var f=o.value;e.payload=function(){return c(f)},e.callback=function(){Ug(n,r,o)}}var y=r.stateNode;y!==null&&typeof y.componentDidCatch=="function"&&(e.callback=function(){Ug(n,r,o),typeof c!="function"&&(vr===null?vr=new Set([this]):vr.add(this));var E=o.stack;this.componentDidCatch(o.value,{componentStack:E!==null?E:""})})}function EE(e,n,r,o,c){if(r.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){if(n=r.alternate,n!==null&&Do(n,r,c,!0),r=Sn.current,r!==null){switch(r.tag){case 13:return $n===null?cf():r.alternate===null&&ie===0&&(ie=3),r.flags&=-257,r.flags|=65536,r.lanes=c,o===rh?r.flags|=16384:(n=r.updateQueue,n===null?r.updateQueue=new Set([o]):n.add(o),ff(e,o,c)),!1;case 22:return r.flags|=65536,o===rh?r.flags|=16384:(n=r.updateQueue,n===null?(n={transitions:null,markerInstances:null,retryQueue:new Set([o])},r.updateQueue=n):(r=n.retryQueue,r===null?n.retryQueue=new Set([o]):r.add(o)),ff(e,o,c)),!1}throw Error(s(435,r.tag))}return ff(e,o,c),cf(),!1}if(zt)return n=Sn.current,n!==null?(!(n.flags&65536)&&(n.flags|=256),n.flags|=65536,n.lanes=c,o!==ih&&(e=Error(s(422),{cause:o}),_o(En(e,r)))):(o!==ih&&(n=Error(s(423),{cause:o}),_o(En(n,r))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,o=En(o,r),c=Ih(e.stateNode,o,c),jh(e,c),ie!==4&&(ie=2)),!1;var f=Error(s(520),{cause:o});if(f=En(f,r),xo===null?xo=[f]:xo.push(f),ie!==4&&(ie=2),n===null)return!0;o=En(o,r),r=n;do{switch(r.tag){case 3:return r.flags|=65536,e=c&-c,r.lanes|=e,e=Ih(r.stateNode,o,e),jh(r,e),!1;case 1:if(n=r.type,f=r.stateNode,(r.flags&128)===0&&(typeof n.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(vr===null||!vr.has(f))))return r.flags|=65536,c&=-c,r.lanes|=c,c=Lg(c),kg(c,e,r,o),jh(r,c),!1}r=r.return}while(r!==null);return!1}var Pg=Error(s(461)),De=!1;function Le(e,n,r,o){n.child=e===null?Hm(n,null,r,o):as(n,e.child,r,o)}function xg(e,n,r,o,c){r=r.render;var f=n.ref;if("ref"in o){var y={};for(var E in o)E!=="ref"&&(y[E]=o[E])}else y=o;return ds(n),o=hh(e,n,r,y,f,c),E=fh(),e!==null&&!De?(dh(e,n,c),Si(e,n,c)):(zt&&E&&eh(n),n.flags|=1,Le(e,n,o,c),n.child)}function zg(e,n,r,o,c){if(e===null){var f=r.type;return typeof f=="function"&&!Zh(f)&&f.defaultProps===void 0&&r.compare===null?(n.tag=15,n.type=f,Bg(e,n,f,o,c)):(e=vu(r.type,null,o,n,n.mode,c),e.ref=n.ref,e.return=n,n.child=e)}if(f=e.child,!Ph(e,c)){var y=f.memoizedProps;if(r=r.compare,r=r!==null?r:mo,r(y,o)&&e.ref===n.ref)return Si(e,n,c)}return n.flags|=1,e=yr(f,o),e.ref=n.ref,e.return=n,n.child=e}function Bg(e,n,r,o,c){if(e!==null){var f=e.memoizedProps;if(mo(f,o)&&e.ref===n.ref)if(De=!1,n.pendingProps=o=f,Ph(e,c))e.flags&131072&&(De=!0);else return n.lanes=e.lanes,Si(e,n,c)}return Dh(e,n,r,o,c)}function qg(e,n,r){var o=n.pendingProps,c=o.children,f=(n.stateNode._pendingVisibility&2)!==0,y=e!==null?e.memoizedState:null;if(Io(e,n),o.mode==="hidden"||f){if(n.flags&128){if(o=y!==null?y.baseLanes|r:r,e!==null){for(c=n.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;n.childLanes=f&~o}else n.childLanes=0,n.child=null;return Hg(e,n,o,r)}if(r&536870912)n.memoizedState={baseLanes:0,cachePool:null},e!==null&&ru(n,y!==null?y.cachePool:null),y!==null?jm(n,y):sh(),Gm(n);else return n.lanes=n.childLanes=536870912,Hg(e,n,y!==null?y.baseLanes|r:r,r)}else y!==null?(ru(n,y.cachePool),jm(n,y),or(),n.memoizedState=null):(e!==null&&ru(n,null),sh(),or());return Le(e,n,c,r),n.child}function Hg(e,n,r,o){var c=uh();return c=c===null?null:{parent:Ae._currentValue,pool:c},n.memoizedState={baseLanes:r,cachePool:c},e!==null&&ru(n,null),sh(),Gm(n),e!==null&&Do(e,n,o,!0),null}function Io(e,n){var r=n.ref;if(r===null)e!==null&&e.ref!==null&&(n.flags|=2097664);else{if(typeof r!="function"&&typeof r!="object")throw Error(s(284));(e===null||e.ref!==r)&&(n.flags|=2097664)}}function Dh(e,n,r,o,c){return ds(n),r=hh(e,n,r,o,void 0,c),o=fh(),e!==null&&!De?(dh(e,n,c),Si(e,n,c)):(zt&&o&&eh(n),n.flags|=1,Le(e,n,r,c),n.child)}function jg(e,n,r,o,c,f){return ds(n),n.updateQueue=null,r=Xm(n,o,r,c),Ym(e),o=fh(),e!==null&&!De?(dh(e,n,f),Si(e,n,f)):(zt&&o&&eh(n),n.flags|=1,Le(e,n,r,f),n.child)}function Gg(e,n,r,o,c){if(ds(n),n.stateNode===null){var f=Zs,y=r.contextType;typeof y=="object"&&y!==null&&(f=Be(y)),f=new r(o,f),n.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=Ch,n.stateNode=f,f._reactInternals=n,f=n.stateNode,f.props=o,f.state=n.memoizedState,f.refs={},qh(n),y=r.contextType,f.context=typeof y=="object"&&y!==null?Be(y):Zs,f.state=n.memoizedState,y=r.getDerivedStateFromProps,typeof y=="function"&&(wh(n,r,y,o),f.state=n.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(y=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),y!==f.state&&Ch.enqueueReplaceState(f,f.state,null),Mo(n,o,f,c),No(),f.state=n.memoizedState),typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!0}else if(e===null){f=n.stateNode;var E=n.memoizedProps,b=hs(r,E);f.props=b;var O=f.context,H=r.contextType;y=Zs,typeof H=="object"&&H!==null&&(y=Be(H));var Q=r.getDerivedStateFromProps;H=typeof Q=="function"||typeof f.getSnapshotBeforeUpdate=="function",E=n.pendingProps!==E,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(E||O!==y)&&Og(n,f,o,y),hr=!1;var x=n.memoizedState;f.state=x,Mo(n,o,f,c),No(),O=n.memoizedState,E||x!==O||hr?(typeof Q=="function"&&(wh(n,r,Q,o),O=n.memoizedState),(b=hr||Dg(n,r,b,o,x,O,y))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(n.flags|=4194308)):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=o,n.memoizedState=O),f.props=o,f.state=O,f.context=y,o=b):(typeof f.componentDidMount=="function"&&(n.flags|=4194308),o=!1)}else{f=n.stateNode,Hh(e,n),y=n.memoizedProps,H=hs(r,y),f.props=H,Q=n.pendingProps,x=f.context,O=r.contextType,b=Zs,typeof O=="object"&&O!==null&&(b=Be(O)),E=r.getDerivedStateFromProps,(O=typeof E=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(y!==Q||x!==b)&&Og(n,f,o,b),hr=!1,x=n.memoizedState,f.state=x,Mo(n,o,f,c),No();var q=n.memoizedState;y!==Q||x!==q||hr||e!==null&&e.dependencies!==null&&gu(e.dependencies)?(typeof E=="function"&&(wh(n,r,E,o),q=n.memoizedState),(H=hr||Dg(n,r,H,o,x,q,b)||e!==null&&e.dependencies!==null&&gu(e.dependencies))?(O||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(o,q,b),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(o,q,b)),typeof f.componentDidUpdate=="function"&&(n.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),n.memoizedProps=o,n.memoizedState=q),f.props=o,f.state=q,f.context=b,o=H):(typeof f.componentDidUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||y===e.memoizedProps&&x===e.memoizedState||(n.flags|=1024),o=!1)}return f=o,Io(e,n),o=(n.flags&128)!==0,f||o?(f=n.stateNode,r=o&&typeof r.getDerivedStateFromError!="function"?null:f.render(),n.flags|=1,e!==null&&o?(n.child=as(n,e.child,null,c),n.child=as(n,null,r,c)):Le(e,n,r,c),n.memoizedState=f.state,e=n.child):e=Si(e,n,c),e}function Fg(e,n,r,o){return yo(),n.flags|=256,Le(e,n,r,o),n.child}var Oh={dehydrated:null,treeContext:null,retryLane:0};function Nh(e){return{baseLanes:e,cachePool:Km()}}function Mh(e,n,r){return e=e!==null?e.childLanes&~r:0,n&&(e|=Cn),e}function Qg(e,n,r){var o=n.pendingProps,c=!1,f=(n.flags&128)!==0,y;if((y=f)||(y=e!==null&&e.memoizedState===null?!1:(Te.current&2)!==0),y&&(c=!0,n.flags&=-129),y=(n.flags&32)!==0,n.flags&=-33,e===null){if(zt){if(c?ar(n):or(),zt){var E=Ue,b;if(b=E){t:{for(b=E,E=Xn;b.nodeType!==8;){if(!E){E=null;break t}if(b=Ln(b.nextSibling),b===null){E=null;break t}}E=b}E!==null?(n.memoizedState={dehydrated:E,treeContext:is!==null?{id:vi,overflow:Ei}:null,retryLane:536870912},b=wn(18,null,null,0),b.stateNode=E,b.return=n,n.child=b,$e=n,Ue=null,b=!0):b=!1}b||ss(n)}if(E=n.memoizedState,E!==null&&(E=E.dehydrated,E!==null))return E.data==="$!"?n.lanes=16:n.lanes=536870912,null;Ti(n)}return E=o.children,o=o.fallback,c?(or(),c=n.mode,E=Uh({mode:"hidden",children:E},c),o=gs(o,c,r,null),E.return=n,o.return=n,E.sibling=o,n.child=E,c=n.child,c.memoizedState=Nh(r),c.childLanes=Mh(e,y,r),n.memoizedState=Oh,o):(ar(n),Vh(n,E))}if(b=e.memoizedState,b!==null&&(E=b.dehydrated,E!==null)){if(f)n.flags&256?(ar(n),n.flags&=-257,n=Lh(e,n,r)):n.memoizedState!==null?(or(),n.child=e.child,n.flags|=128,n=null):(or(),c=o.fallback,E=n.mode,o=Uh({mode:"visible",children:o.children},E),c=gs(c,E,r,null),c.flags|=2,o.return=n,c.return=n,o.sibling=c,n.child=o,as(n,e.child,null,r),o=n.child,o.memoizedState=Nh(r),o.childLanes=Mh(e,y,r),n.memoizedState=Oh,n=c);else if(ar(n),E.data==="$!"){if(y=E.nextSibling&&E.nextSibling.dataset,y)var O=y.dgst;y=O,o=Error(s(419)),o.stack="",o.digest=y,_o({value:o,source:null,stack:null}),n=Lh(e,n,r)}else if(De||Do(e,n,r,!1),y=(r&e.childLanes)!==0,De||y){if(y=Yt,y!==null){if(o=r&-r,o&42)o=1;else switch(o){case 2:o=1;break;case 8:o=4;break;case 32:o=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:o=64;break;case 268435456:o=134217728;break;default:o=0}if(o=o&(y.suspendedLanes|r)?0:o,o!==0&&o!==b.retryLane)throw b.retryLane=o,sr(e,o),Ze(y,e,o),Pg}E.data==="$?"||cf(),n=Lh(e,n,r)}else E.data==="$?"?(n.flags|=128,n.child=e.child,n=LE.bind(null,e),E._reactRetry=n,n=null):(e=b.treeContext,Ue=Ln(E.nextSibling),$e=n,zt=!0,Vn=null,Xn=!1,e!==null&&(Tn[An++]=vi,Tn[An++]=Ei,Tn[An++]=is,vi=e.id,Ei=e.overflow,is=n),n=Vh(n,o.children),n.flags|=4096);return n}return c?(or(),c=o.fallback,E=n.mode,b=e.child,O=b.sibling,o=yr(b,{mode:"hidden",children:o.children}),o.subtreeFlags=b.subtreeFlags&31457280,O!==null?c=yr(O,c):(c=gs(c,E,r,null),c.flags|=2),c.return=n,o.return=n,o.sibling=c,n.child=o,o=c,c=n.child,E=e.child.memoizedState,E===null?E=Nh(r):(b=E.cachePool,b!==null?(O=Ae._currentValue,b=b.parent!==O?{parent:O,pool:O}:b):b=Km(),E={baseLanes:E.baseLanes|r,cachePool:b}),c.memoizedState=E,c.childLanes=Mh(e,y,r),n.memoizedState=Oh,o):(ar(n),r=e.child,e=r.sibling,r=yr(r,{mode:"visible",children:o.children}),r.return=n,r.sibling=null,e!==null&&(y=n.deletions,y===null?(n.deletions=[e],n.flags|=16):y.push(e)),n.child=r,n.memoizedState=null,r)}function Vh(e,n){return n=Uh({mode:"visible",children:n},e.mode),n.return=e,e.child=n}function Uh(e,n){return _p(e,n,0,null)}function Lh(e,n,r){return as(n,e.child,null,r),e=Vh(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Kg(e,n,r){e.lanes|=n;var o=e.alternate;o!==null&&(o.lanes|=n),zh(e.return,n,r)}function kh(e,n,r,o,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:o,tail:r,tailMode:c}:(f.isBackwards=n,f.rendering=null,f.renderingStartTime=0,f.last=o,f.tail=r,f.tailMode=c)}function Yg(e,n,r){var o=n.pendingProps,c=o.revealOrder,f=o.tail;if(Le(e,n,o.children,r),o=Te.current,o&2)o=o&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)t:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Kg(e,r,n);else if(e.tag===19)Kg(e,r,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break t;for(;e.sibling===null;){if(e.return===null||e.return===n)break t;e=e.return}e.sibling.return=e.return,e=e.sibling}o&=1}switch(Gt(Te,o),c){case"forwards":for(r=n.child,c=null;r!==null;)e=r.alternate,e!==null&&iu(e)===null&&(c=r),r=r.sibling;r=c,r===null?(c=n.child,n.child=null):(c=r.sibling,r.sibling=null),kh(n,!1,c,r,f);break;case"backwards":for(r=null,c=n.child,n.child=null;c!==null;){if(e=c.alternate,e!==null&&iu(e)===null){n.child=c;break}e=c.sibling,c.sibling=r,r=c,c=e}kh(n,!0,r,null,f);break;case"together":kh(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function Si(e,n,r){if(e!==null&&(n.dependencies=e.dependencies),_r|=n.lanes,!(r&n.childLanes))if(e!==null){if(Do(e,n,r,!1),(r&n.childLanes)===0)return null}else return null;if(e!==null&&n.child!==e.child)throw Error(s(153));if(n.child!==null){for(e=n.child,r=yr(e,e.pendingProps),n.child=r,r.return=n;e.sibling!==null;)e=e.sibling,r=r.sibling=yr(e,e.pendingProps),r.return=n;r.sibling=null}return n.child}function Ph(e,n){return e.lanes&n?!0:(e=e.dependencies,!!(e!==null&&gu(e)))}function TE(e,n,r){switch(n.tag){case 3:ji(n,n.stateNode.containerInfo),cr(n,Ae,e.memoizedState.cache),yo();break;case 27:case 5:Qa(n);break;case 4:ji(n,n.stateNode.containerInfo);break;case 10:cr(n,n.type,n.memoizedProps.value);break;case 13:var o=n.memoizedState;if(o!==null)return o.dehydrated!==null?(ar(n),n.flags|=128,null):r&n.child.childLanes?Qg(e,n,r):(ar(n),e=Si(e,n,r),e!==null?e.sibling:null);ar(n);break;case 19:var c=(e.flags&128)!==0;if(o=(r&n.childLanes)!==0,o||(Do(e,n,r,!1),o=(r&n.childLanes)!==0),c){if(o)return Yg(e,n,r);n.flags|=128}if(c=n.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),Gt(Te,Te.current),o)break;return null;case 22:case 23:return n.lanes=0,qg(e,n,r);case 24:cr(n,Ae,e.memoizedState.cache)}return Si(e,n,r)}function Xg(e,n,r){if(e!==null)if(e.memoizedProps!==n.pendingProps)De=!0;else{if(!Ph(e,r)&&!(n.flags&128))return De=!1,TE(e,n,r);De=!!(e.flags&131072)}else De=!1,zt&&n.flags&1048576&&Vm(n,Jl,n.index);switch(n.lanes=0,n.tag){case 16:t:{e=n.pendingProps;var o=n.elementType,c=o._init;if(o=c(o._payload),n.type=o,typeof o=="function")Zh(o)?(e=hs(o,e),n.tag=1,n=Gg(null,n,o,e,r)):(n.tag=0,n=Dh(null,n,o,e,r));else{if(o!=null){if(c=o.$$typeof,c===$){n.tag=11,n=xg(null,n,o,e,r);break t}else if(c===Ot){n.tag=14,n=zg(null,n,o,e,r);break t}}throw n=R(o)||o,Error(s(306,n,""))}}return n;case 0:return Dh(e,n,n.type,n.pendingProps,r);case 1:return o=n.type,c=hs(o,n.pendingProps),Gg(e,n,o,c,r);case 3:t:{if(ji(n,n.stateNode.containerInfo),e===null)throw Error(s(387));var f=n.pendingProps;c=n.memoizedState,o=c.element,Hh(e,n),Mo(n,f,null,r);var y=n.memoizedState;if(f=y.cache,cr(n,Ae,f),f!==c.cache&&Bh(n,[Ae],r,!0),No(),f=y.element,c.isDehydrated)if(c={element:f,isDehydrated:!1,cache:y.cache},n.updateQueue.baseState=c,n.memoizedState=c,n.flags&256){n=Fg(e,n,f,r);break t}else if(f!==o){o=En(Error(s(424)),n),_o(o),n=Fg(e,n,f,r);break t}else for(Ue=Ln(n.stateNode.containerInfo.firstChild),$e=n,zt=!0,Vn=null,Xn=!0,r=Hm(n,null,f,r),n.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(yo(),f===o){n=Si(e,n,r);break t}Le(e,n,f,r)}n=n.child}return n;case 26:return Io(e,n),e===null?(r=Jp(n.type,null,n.pendingProps,null))?n.memoizedState=r:zt||(r=n.type,e=n.pendingProps,o=Nu(fn.current).createElement(r),o[we]=n,o[_e]=e,ke(o,r,e),$t(o),n.stateNode=o):n.memoizedState=Jp(n.type,e.memoizedProps,n.pendingProps,e.memoizedState),null;case 27:return Qa(n),e===null&&zt&&(o=n.stateNode=Xp(n.type,n.pendingProps,fn.current),$e=n,Xn=!0,Ue=Ln(o.firstChild)),o=n.pendingProps.children,e!==null||zt?Le(e,n,o,r):n.child=as(n,null,o,r),Io(e,n),n.child;case 5:return e===null&&zt&&((c=o=Ue)&&(o=ZE(o,n.type,n.pendingProps,Xn),o!==null?(n.stateNode=o,$e=n,Ue=Ln(o.firstChild),Xn=!1,c=!0):c=!1),c||ss(n)),Qa(n),c=n.type,f=n.pendingProps,y=e!==null?e.memoizedProps:null,o=f.children,bf(c,f)?o=null:y!==null&&bf(c,y)&&(n.flags|=32),n.memoizedState!==null&&(c=hh(e,n,mE,null,null,r),Ko._currentValue=c),Io(e,n),Le(e,n,o,r),n.child;case 6:return e===null&&zt&&((e=r=Ue)&&(r=JE(r,n.pendingProps,Xn),r!==null?(n.stateNode=r,$e=n,Ue=null,e=!0):e=!1),e||ss(n)),null;case 13:return Qg(e,n,r);case 4:return ji(n,n.stateNode.containerInfo),o=n.pendingProps,e===null?n.child=as(n,null,o,r):Le(e,n,o,r),n.child;case 11:return xg(e,n,n.type,n.pendingProps,r);case 7:return Le(e,n,n.pendingProps,r),n.child;case 8:return Le(e,n,n.pendingProps.children,r),n.child;case 12:return Le(e,n,n.pendingProps.children,r),n.child;case 10:return o=n.pendingProps,cr(n,n.type,o.value),Le(e,n,o.children,r),n.child;case 9:return c=n.type._context,o=n.pendingProps.children,ds(n),c=Be(c),o=o(c),n.flags|=1,Le(e,n,o,r),n.child;case 14:return zg(e,n,n.type,n.pendingProps,r);case 15:return Bg(e,n,n.type,n.pendingProps,r);case 19:return Yg(e,n,r);case 22:return qg(e,n,r);case 24:return ds(n),o=Be(Ae),e===null?(c=uh(),c===null&&(c=Yt,f=oh(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=r),c=f),n.memoizedState={parent:o,cache:c},qh(n),cr(n,Ae,c)):(e.lanes&r&&(Hh(e,n),Mo(n,null,null,r),No()),c=e.memoizedState,f=n.memoizedState,c.parent!==o?(c={parent:o,cache:o},n.memoizedState=c,n.lanes===0&&(n.memoizedState=n.updateQueue.baseState=c),cr(n,Ae,o)):(o=f.cache,cr(n,Ae,o),o!==c.cache&&Bh(n,[Ae],r,!0))),Le(e,n,n.pendingProps.children,r),n.child;case 29:throw n.pendingProps}throw Error(s(156,n.tag))}var xh=Pt(null),fs=null,bi=null;function cr(e,n,r){Gt(xh,n._currentValue),n._currentValue=r}function Ri(e){e._currentValue=xh.current,te(xh)}function zh(e,n,r){for(;e!==null;){var o=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,o!==null&&(o.childLanes|=n)):o!==null&&(o.childLanes&n)!==n&&(o.childLanes|=n),e===r)break;e=e.return}}function Bh(e,n,r,o){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var y=c.child;f=f.firstContext;t:for(;f!==null;){var E=f;f=c;for(var b=0;b<n.length;b++)if(E.context===n[b]){f.lanes|=r,E=f.alternate,E!==null&&(E.lanes|=r),zh(f.return,r,e),o||(y=null);break t}f=E.next}}else if(c.tag===18){if(y=c.return,y===null)throw Error(s(341));y.lanes|=r,f=y.alternate,f!==null&&(f.lanes|=r),zh(y,r,e),y=null}else y=c.child;if(y!==null)y.return=c;else for(y=c;y!==null;){if(y===e){y=null;break}if(c=y.sibling,c!==null){c.return=y.return,y=c;break}y=y.return}c=y}}function Do(e,n,r,o){e=null;for(var c=n,f=!1;c!==null;){if(!f){if(c.flags&524288)f=!0;else if(c.flags&262144)break}if(c.tag===10){var y=c.alternate;if(y===null)throw Error(s(387));if(y=y.memoizedProps,y!==null){var E=c.type;on(c.pendingProps.value,y.value)||(e!==null?e.push(E):e=[E])}}else if(c===Hi.current){if(y=c.alternate,y===null)throw Error(s(387));y.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Ko):e=[Ko])}c=c.return}e!==null&&Bh(n,e,r,o),n.flags|=262144}function gu(e){for(e=e.firstContext;e!==null;){if(!on(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ds(e){fs=e,bi=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Be(e){return $g(fs,e)}function pu(e,n){return fs===null&&ds(e),$g(e,n)}function $g(e,n){var r=n._currentValue;if(n={context:n,memoizedValue:r,next:null},bi===null){if(e===null)throw Error(s(308));bi=n,e.dependencies={lanes:0,firstContext:n},e.flags|=524288}else bi=bi.next=n;return r}var hr=!1;function qh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Hh(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function fr(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function dr(e,n,r){var o=e.updateQueue;if(o===null)return null;if(o=o.shared,Jt&2){var c=o.pending;return c===null?n.next=n:(n.next=c.next,c.next=n),o.pending=n,n=$l(e),Nm(e,null,r),n}return Xl(e,o,n,r),$l(e)}function Oo(e,n,r){if(n=n.updateQueue,n!==null&&(n=n.shared,(r&4194176)!==0)){var o=n.lanes;o&=e.pendingLanes,r|=o,n.lanes=r,Xi(e,r)}}function jh(e,n){var r=e.updateQueue,o=e.alternate;if(o!==null&&(o=o.updateQueue,r===o)){var c=null,f=null;if(r=r.firstBaseUpdate,r!==null){do{var y={lane:r.lane,tag:r.tag,payload:r.payload,callback:null,next:null};f===null?c=f=y:f=f.next=y,r=r.next}while(r!==null);f===null?c=f=n:f=f.next=n}else c=f=n;r={baseState:o.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:o.shared,callbacks:o.callbacks},e.updateQueue=r;return}e=r.lastBaseUpdate,e===null?r.firstBaseUpdate=n:e.next=n,r.lastBaseUpdate=n}var Gh=!1;function No(){if(Gh){var e=ia;if(e!==null)throw e}}function Mo(e,n,r,o){Gh=!1;var c=e.updateQueue;hr=!1;var f=c.firstBaseUpdate,y=c.lastBaseUpdate,E=c.shared.pending;if(E!==null){c.shared.pending=null;var b=E,O=b.next;b.next=null,y===null?f=O:y.next=O,y=b;var H=e.alternate;H!==null&&(H=H.updateQueue,E=H.lastBaseUpdate,E!==y&&(E===null?H.firstBaseUpdate=O:E.next=O,H.lastBaseUpdate=b))}if(f!==null){var Q=c.baseState;y=0,H=O=b=null,E=f;do{var x=E.lane&-536870913,q=x!==E.lane;if(q?(Vt&x)===x:(o&x)===x){x!==0&&x===na&&(Gh=!0),H!==null&&(H=H.next={lane:0,tag:E.tag,payload:E.payload,callback:null,next:null});t:{var it=e,mt=E;x=n;var re=r;switch(mt.tag){case 1:if(it=mt.payload,typeof it=="function"){Q=it.call(re,Q,x);break t}Q=it;break t;case 3:it.flags=it.flags&-65537|128;case 0:if(it=mt.payload,x=typeof it=="function"?it.call(re,Q,x):it,x==null)break t;Q=C({},Q,x);break t;case 2:hr=!0}}x=E.callback,x!==null&&(e.flags|=64,q&&(e.flags|=8192),q=c.callbacks,q===null?c.callbacks=[x]:q.push(x))}else q={lane:x,tag:E.tag,payload:E.payload,callback:E.callback,next:null},H===null?(O=H=q,b=Q):H=H.next=q,y|=x;if(E=E.next,E===null){if(E=c.shared.pending,E===null)break;q=E,E=q.next,q.next=null,c.lastBaseUpdate=q,c.shared.pending=null}}while(!0);H===null&&(b=Q),c.baseState=b,c.firstBaseUpdate=O,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),_r|=y,e.lanes=y,e.memoizedState=Q}}function Zg(e,n){if(typeof e!="function")throw Error(s(191,e));e.call(n)}function Jg(e,n){var r=e.callbacks;if(r!==null)for(e.callbacks=null,e=0;e<r.length;e++)Zg(r[e],n)}function Vo(e,n){try{var r=n.updateQueue,o=r!==null?r.lastEffect:null;if(o!==null){var c=o.next;r=c;do{if((r.tag&e)===e){o=void 0;var f=r.create,y=r.inst;o=f(),y.destroy=o}r=r.next}while(r!==c)}}catch(E){Kt(n,n.return,E)}}function mr(e,n,r){try{var o=n.updateQueue,c=o!==null?o.lastEffect:null;if(c!==null){var f=c.next;o=f;do{if((o.tag&e)===e){var y=o.inst,E=y.destroy;if(E!==void 0){y.destroy=void 0,c=n;var b=r;try{E()}catch(O){Kt(c,b,O)}}}o=o.next}while(o!==f)}}catch(O){Kt(n,n.return,O)}}function Wg(e){var n=e.updateQueue;if(n!==null){var r=e.stateNode;try{Jg(n,r)}catch(o){Kt(e,e.return,o)}}}function tp(e,n,r){r.props=hs(e.type,e.memoizedProps),r.state=e.memoizedState;try{r.componentWillUnmount()}catch(o){Kt(e,n,o)}}function ms(e,n){try{var r=e.ref;if(r!==null){var o=e.stateNode;switch(e.tag){case 26:case 27:case 5:var c=o;break;default:c=o}typeof r=="function"?e.refCleanup=r(c):r.current=c}}catch(f){Kt(e,n,f)}}function ln(e,n){var r=e.ref,o=e.refCleanup;if(r!==null)if(typeof o=="function")try{o()}catch(c){Kt(e,n,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof r=="function")try{r(null)}catch(c){Kt(e,n,c)}else r.current=null}function ep(e){var n=e.type,r=e.memoizedProps,o=e.stateNode;try{t:switch(n){case"button":case"input":case"select":case"textarea":r.autoFocus&&o.focus();break t;case"img":r.src?o.src=r.src:r.srcSet&&(o.srcset=r.srcSet)}}catch(c){Kt(e,e.return,c)}}function np(e,n,r){try{var o=e.stateNode;QE(o,e.type,r,n),o[_e]=n}catch(c){Kt(e,e.return,c)}}function ip(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27||e.tag===4}function Fh(e){t:for(;;){for(;e.sibling===null;){if(e.return===null||ip(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==27&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue t;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qh(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.nodeType===8?r.parentNode.insertBefore(e,n):r.insertBefore(e,n):(r.nodeType===8?(n=r.parentNode,n.insertBefore(e,r)):(n=r,n.appendChild(e)),r=r._reactRootContainer,r!=null||n.onclick!==null||(n.onclick=Ou));else if(o!==4&&o!==27&&(e=e.child,e!==null))for(Qh(e,n,r),e=e.sibling;e!==null;)Qh(e,n,r),e=e.sibling}function yu(e,n,r){var o=e.tag;if(o===5||o===6)e=e.stateNode,n?r.insertBefore(e,n):r.appendChild(e);else if(o!==4&&o!==27&&(e=e.child,e!==null))for(yu(e,n,r),e=e.sibling;e!==null;)yu(e,n,r),e=e.sibling}var wi=!1,ne=!1,Kh=!1,rp=typeof WeakSet=="function"?WeakSet:Set,Oe=null,sp=!1;function AE(e,n){if(e=e.containerInfo,Af=Pu,e=Am(e),Xc(e)){if("selectionStart"in e)var r={start:e.selectionStart,end:e.selectionEnd};else t:{r=(r=e.ownerDocument)&&r.defaultView||window;var o=r.getSelection&&r.getSelection();if(o&&o.rangeCount!==0){r=o.anchorNode;var c=o.anchorOffset,f=o.focusNode;o=o.focusOffset;try{r.nodeType,f.nodeType}catch{r=null;break t}var y=0,E=-1,b=-1,O=0,H=0,Q=e,x=null;e:for(;;){for(var q;Q!==r||c!==0&&Q.nodeType!==3||(E=y+c),Q!==f||o!==0&&Q.nodeType!==3||(b=y+o),Q.nodeType===3&&(y+=Q.nodeValue.length),(q=Q.firstChild)!==null;)x=Q,Q=q;for(;;){if(Q===e)break e;if(x===r&&++O===c&&(E=y),x===f&&++H===o&&(b=y),(q=Q.nextSibling)!==null)break;Q=x,x=Q.parentNode}Q=q}r=E===-1||b===-1?null:{start:E,end:b}}else r=null}r=r||{start:0,end:0}}else r=null;for(Sf={focusedElem:e,selectionRange:r},Pu=!1,Oe=n;Oe!==null;)if(n=Oe,e=n.child,(n.subtreeFlags&1028)!==0&&e!==null)e.return=n,Oe=e;else for(;Oe!==null;){switch(n=Oe,f=n.alternate,e=n.flags,n.tag){case 0:break;case 11:case 15:break;case 1:if(e&1024&&f!==null){e=void 0,r=n,c=f.memoizedProps,f=f.memoizedState,o=r.stateNode;try{var it=hs(r.type,c,r.elementType===r.type);e=o.getSnapshotBeforeUpdate(it,f),o.__reactInternalSnapshotBeforeUpdate=e}catch(mt){Kt(r,r.return,mt)}}break;case 3:if(e&1024){if(e=n.stateNode.containerInfo,r=e.nodeType,r===9)Cf(e);else if(r===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Cf(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(e&1024)throw Error(s(163))}if(e=n.sibling,e!==null){e.return=n.return,Oe=e;break}Oe=n.return}return it=sp,sp=!1,it}function ap(e,n,r){var o=r.flags;switch(r.tag){case 0:case 11:case 15:Ii(e,r),o&4&&Vo(5,r);break;case 1:if(Ii(e,r),o&4)if(e=r.stateNode,n===null)try{e.componentDidMount()}catch(E){Kt(r,r.return,E)}else{var c=hs(r.type,n.memoizedProps);n=n.memoizedState;try{e.componentDidUpdate(c,n,e.__reactInternalSnapshotBeforeUpdate)}catch(E){Kt(r,r.return,E)}}o&64&&Wg(r),o&512&&ms(r,r.return);break;case 3:if(Ii(e,r),o&64&&(o=r.updateQueue,o!==null)){if(e=null,r.child!==null)switch(r.child.tag){case 27:case 5:e=r.child.stateNode;break;case 1:e=r.child.stateNode}try{Jg(o,e)}catch(E){Kt(r,r.return,E)}}break;case 26:Ii(e,r),o&512&&ms(r,r.return);break;case 27:case 5:Ii(e,r),n===null&&o&4&&ep(r),o&512&&ms(r,r.return);break;case 12:Ii(e,r);break;case 13:Ii(e,r),o&4&&up(e,r);break;case 22:if(c=r.memoizedState!==null||wi,!c){n=n!==null&&n.memoizedState!==null||ne;var f=wi,y=ne;wi=c,(ne=n)&&!y?gr(e,r,(r.subtreeFlags&8772)!==0):Ii(e,r),wi=f,ne=y}o&512&&(r.memoizedProps.mode==="manual"?ms(r,r.return):ln(r,r.return));break;default:Ii(e,r)}}function op(e){var n=e.alternate;n!==null&&(e.alternate=null,op(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Gr(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var me=null,un=!1;function Ci(e,n,r){for(r=r.child;r!==null;)lp(e,n,r),r=r.sibling}function lp(e,n,r){if(ze&&typeof ze.onCommitFiberUnmount=="function")try{ze.onCommitFiberUnmount(Gi,r)}catch{}switch(r.tag){case 26:ne||ln(r,n),Ci(e,n,r),r.memoizedState?r.memoizedState.count--:r.stateNode&&(r=r.stateNode,r.parentNode.removeChild(r));break;case 27:ne||ln(r,n);var o=me,c=un;for(me=r.stateNode,Ci(e,n,r),r=r.stateNode,n=r.attributes;n.length;)r.removeAttributeNode(n[0]);Gr(r),me=o,un=c;break;case 5:ne||ln(r,n);case 6:c=me;var f=un;if(me=null,Ci(e,n,r),me=c,un=f,me!==null)if(un)try{e=me,o=r.stateNode,e.nodeType===8?e.parentNode.removeChild(o):e.removeChild(o)}catch(y){Kt(r,n,y)}else try{me.removeChild(r.stateNode)}catch(y){Kt(r,n,y)}break;case 18:me!==null&&(un?(n=me,r=r.stateNode,n.nodeType===8?wf(n.parentNode,r):n.nodeType===1&&wf(n,r),Zo(n)):wf(me,r.stateNode));break;case 4:o=me,c=un,me=r.stateNode.containerInfo,un=!0,Ci(e,n,r),me=o,un=c;break;case 0:case 11:case 14:case 15:ne||mr(2,r,n),ne||mr(4,r,n),Ci(e,n,r);break;case 1:ne||(ln(r,n),o=r.stateNode,typeof o.componentWillUnmount=="function"&&tp(r,n,o)),Ci(e,n,r);break;case 21:Ci(e,n,r);break;case 22:ne||ln(r,n),ne=(o=ne)||r.memoizedState!==null,Ci(e,n,r),ne=o;break;default:Ci(e,n,r)}}function up(e,n){if(n.memoizedState===null&&(e=n.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Zo(e)}catch(r){Kt(n,n.return,r)}}function SE(e){switch(e.tag){case 13:case 19:var n=e.stateNode;return n===null&&(n=e.stateNode=new rp),n;case 22:return e=e.stateNode,n=e._retryCache,n===null&&(n=e._retryCache=new rp),n;default:throw Error(s(435,e.tag))}}function Yh(e,n){var r=SE(e);n.forEach(function(o){var c=kE.bind(null,e,o);r.has(o)||(r.add(o),o.then(c,c))})}function bn(e,n){var r=n.deletions;if(r!==null)for(var o=0;o<r.length;o++){var c=r[o],f=e,y=n,E=y;t:for(;E!==null;){switch(E.tag){case 27:case 5:me=E.stateNode,un=!1;break t;case 3:me=E.stateNode.containerInfo,un=!0;break t;case 4:me=E.stateNode.containerInfo,un=!0;break t}E=E.return}if(me===null)throw Error(s(160));lp(f,y,c),me=null,un=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(n.subtreeFlags&13878)for(n=n.child;n!==null;)cp(n,e),n=n.sibling}var Un=null;function cp(e,n){var r=e.alternate,o=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:bn(n,e),Rn(e),o&4&&(mr(3,e,e.return),Vo(3,e),mr(5,e,e.return));break;case 1:bn(n,e),Rn(e),o&512&&(ne||r===null||ln(r,r.return)),o&64&&wi&&(e=e.updateQueue,e!==null&&(o=e.callbacks,o!==null&&(r=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=r===null?o:r.concat(o))));break;case 26:var c=Un;if(bn(n,e),Rn(e),o&512&&(ne||r===null||ln(r,r.return)),o&4){var f=r!==null?r.memoizedState:null;if(o=e.memoizedState,r===null)if(o===null)if(e.stateNode===null){t:{o=e.type,r=e.memoizedProps,c=c.ownerDocument||c;e:switch(o){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Zi]||f[we]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(o),c.head.insertBefore(f,c.querySelector("head > title"))),ke(f,o,r),f[we]=e,$t(f),o=f;break t;case"link":var y=ey("link","href",c).get(o+(r.href||""));if(y){for(var E=0;E<y.length;E++)if(f=y[E],f.getAttribute("href")===(r.href==null?null:r.href)&&f.getAttribute("rel")===(r.rel==null?null:r.rel)&&f.getAttribute("title")===(r.title==null?null:r.title)&&f.getAttribute("crossorigin")===(r.crossOrigin==null?null:r.crossOrigin)){y.splice(E,1);break e}}f=c.createElement(o),ke(f,o,r),c.head.appendChild(f);break;case"meta":if(y=ey("meta","content",c).get(o+(r.content||""))){for(E=0;E<y.length;E++)if(f=y[E],f.getAttribute("content")===(r.content==null?null:""+r.content)&&f.getAttribute("name")===(r.name==null?null:r.name)&&f.getAttribute("property")===(r.property==null?null:r.property)&&f.getAttribute("http-equiv")===(r.httpEquiv==null?null:r.httpEquiv)&&f.getAttribute("charset")===(r.charSet==null?null:r.charSet)){y.splice(E,1);break e}}f=c.createElement(o),ke(f,o,r),c.head.appendChild(f);break;default:throw Error(s(468,o))}f[we]=e,$t(f),o=f}e.stateNode=o}else ny(c,e.type,e.stateNode);else e.stateNode=ty(c,o,e.memoizedProps);else f!==o?(f===null?r.stateNode!==null&&(r=r.stateNode,r.parentNode.removeChild(r)):f.count--,o===null?ny(c,e.type,e.stateNode):ty(c,o,e.memoizedProps)):o===null&&e.stateNode!==null&&np(e,e.memoizedProps,r.memoizedProps)}break;case 27:if(o&4&&e.alternate===null){c=e.stateNode,f=e.memoizedProps;try{for(var b=c.firstChild;b;){var O=b.nextSibling,H=b.nodeName;b[Zi]||H==="HEAD"||H==="BODY"||H==="SCRIPT"||H==="STYLE"||H==="LINK"&&b.rel.toLowerCase()==="stylesheet"||c.removeChild(b),b=O}for(var Q=e.type,x=c.attributes;x.length;)c.removeAttributeNode(x[0]);ke(c,Q,f),c[we]=e,c[_e]=f}catch(it){Kt(e,e.return,it)}}case 5:if(bn(n,e),Rn(e),o&512&&(ne||r===null||ln(r,r.return)),e.flags&32){c=e.stateNode;try{gn(c,"")}catch(it){Kt(e,e.return,it)}}o&4&&e.stateNode!=null&&(c=e.memoizedProps,np(e,c,r!==null?r.memoizedProps:c)),o&1024&&(Kh=!0);break;case 6:if(bn(n,e),Rn(e),o&4){if(e.stateNode===null)throw Error(s(162));o=e.memoizedProps,r=e.stateNode;try{r.nodeValue=o}catch(it){Kt(e,e.return,it)}}break;case 3:if(Uu=null,c=Un,Un=Mu(n.containerInfo),bn(n,e),Un=c,Rn(e),o&4&&r!==null&&r.memoizedState.isDehydrated)try{Zo(n.containerInfo)}catch(it){Kt(e,e.return,it)}Kh&&(Kh=!1,hp(e));break;case 4:o=Un,Un=Mu(e.stateNode.containerInfo),bn(n,e),Rn(e),Un=o;break;case 12:bn(n,e),Rn(e);break;case 13:bn(n,e),Rn(e),e.child.flags&8192&&e.memoizedState!==null!=(r!==null&&r.memoizedState!==null)&&(rf=We()),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yh(e,o)));break;case 22:if(o&512&&(ne||r===null||ln(r,r.return)),b=e.memoizedState!==null,O=r!==null&&r.memoizedState!==null,H=wi,Q=ne,wi=H||b,ne=Q||O,bn(n,e),ne=Q,wi=H,Rn(e),n=e.stateNode,n._current=e,n._visibility&=-3,n._visibility|=n._pendingVisibility&2,o&8192&&(n._visibility=b?n._visibility&-2:n._visibility|1,b&&(n=wi||ne,r===null||O||n||oa(e)),e.memoizedProps===null||e.memoizedProps.mode!=="manual"))t:for(r=null,n=e;;){if(n.tag===5||n.tag===26||n.tag===27){if(r===null){O=r=n;try{if(c=O.stateNode,b)f=c.style,typeof f.setProperty=="function"?f.setProperty("display","none","important"):f.display="none";else{y=O.stateNode,E=O.memoizedProps.style;var q=E!=null&&E.hasOwnProperty("display")?E.display:null;y.style.display=q==null||typeof q=="boolean"?"":(""+q).trim()}}catch(it){Kt(O,O.return,it)}}}else if(n.tag===6){if(r===null){O=n;try{O.stateNode.nodeValue=b?"":O.memoizedProps}catch(it){Kt(O,O.return,it)}}}else if((n.tag!==22&&n.tag!==23||n.memoizedState===null||n===e)&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break t;for(;n.sibling===null;){if(n.return===null||n.return===e)break t;r===n&&(r=null),n=n.return}r===n&&(r=null),n.sibling.return=n.return,n=n.sibling}o&4&&(o=e.updateQueue,o!==null&&(r=o.retryQueue,r!==null&&(o.retryQueue=null,Yh(e,r))));break;case 19:bn(n,e),Rn(e),o&4&&(o=e.updateQueue,o!==null&&(e.updateQueue=null,Yh(e,o)));break;case 21:break;default:bn(n,e),Rn(e)}}function Rn(e){var n=e.flags;if(n&2){try{if(e.tag!==27){t:{for(var r=e.return;r!==null;){if(ip(r)){var o=r;break t}r=r.return}throw Error(s(160))}switch(o.tag){case 27:var c=o.stateNode,f=Fh(e);yu(e,f,c);break;case 5:var y=o.stateNode;o.flags&32&&(gn(y,""),o.flags&=-33);var E=Fh(e);yu(e,E,y);break;case 3:case 4:var b=o.stateNode.containerInfo,O=Fh(e);Qh(e,O,b);break;default:throw Error(s(161))}}}catch(H){Kt(e,e.return,H)}e.flags&=-3}n&4096&&(e.flags&=-4097)}function hp(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var n=e;hp(n),n.tag===5&&n.flags&1024&&n.stateNode.reset(),e=e.sibling}}function Ii(e,n){if(n.subtreeFlags&8772)for(n=n.child;n!==null;)ap(e,n.alternate,n),n=n.sibling}function oa(e){for(e=e.child;e!==null;){var n=e;switch(n.tag){case 0:case 11:case 14:case 15:mr(4,n,n.return),oa(n);break;case 1:ln(n,n.return);var r=n.stateNode;typeof r.componentWillUnmount=="function"&&tp(n,n.return,r),oa(n);break;case 26:case 27:case 5:ln(n,n.return),oa(n);break;case 22:ln(n,n.return),n.memoizedState===null&&oa(n);break;default:oa(n)}e=e.sibling}}function gr(e,n,r){for(r=r&&(n.subtreeFlags&8772)!==0,n=n.child;n!==null;){var o=n.alternate,c=e,f=n,y=f.flags;switch(f.tag){case 0:case 11:case 15:gr(c,f,r),Vo(4,f);break;case 1:if(gr(c,f,r),o=f,c=o.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(O){Kt(o,o.return,O)}if(o=f,c=o.updateQueue,c!==null){var E=o.stateNode;try{var b=c.shared.hiddenCallbacks;if(b!==null)for(c.shared.hiddenCallbacks=null,c=0;c<b.length;c++)Zg(b[c],E)}catch(O){Kt(o,o.return,O)}}r&&y&64&&Wg(f),ms(f,f.return);break;case 26:case 27:case 5:gr(c,f,r),r&&o===null&&y&4&&ep(f),ms(f,f.return);break;case 12:gr(c,f,r);break;case 13:gr(c,f,r),r&&y&4&&up(c,f);break;case 22:f.memoizedState===null&&gr(c,f,r),ms(f,f.return);break;default:gr(c,f,r)}n=n.sibling}}function Xh(e,n){var r=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),e=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(e=n.memoizedState.cachePool.pool),e!==r&&(e!=null&&e.refCount++,r!=null&&So(r))}function $h(e,n){e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&So(e))}function pr(e,n,r,o){if(n.subtreeFlags&10256)for(n=n.child;n!==null;)fp(e,n,r,o),n=n.sibling}function fp(e,n,r,o){var c=n.flags;switch(n.tag){case 0:case 11:case 15:pr(e,n,r,o),c&2048&&Vo(9,n);break;case 3:pr(e,n,r,o),c&2048&&(e=null,n.alternate!==null&&(e=n.alternate.memoizedState.cache),n=n.memoizedState.cache,n!==e&&(n.refCount++,e!=null&&So(e)));break;case 12:if(c&2048){pr(e,n,r,o),e=n.stateNode;try{var f=n.memoizedProps,y=f.id,E=f.onPostCommit;typeof E=="function"&&E(y,n.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(b){Kt(n,n.return,b)}}else pr(e,n,r,o);break;case 23:break;case 22:f=n.stateNode,n.memoizedState!==null?f._visibility&4?pr(e,n,r,o):Uo(e,n):f._visibility&4?pr(e,n,r,o):(f._visibility|=4,la(e,n,r,o,(n.subtreeFlags&10256)!==0)),c&2048&&Xh(n.alternate,n);break;case 24:pr(e,n,r,o),c&2048&&$h(n.alternate,n);break;default:pr(e,n,r,o)}}function la(e,n,r,o,c){for(c=c&&(n.subtreeFlags&10256)!==0,n=n.child;n!==null;){var f=e,y=n,E=r,b=o,O=y.flags;switch(y.tag){case 0:case 11:case 15:la(f,y,E,b,c),Vo(8,y);break;case 23:break;case 22:var H=y.stateNode;y.memoizedState!==null?H._visibility&4?la(f,y,E,b,c):Uo(f,y):(H._visibility|=4,la(f,y,E,b,c)),c&&O&2048&&Xh(y.alternate,y);break;case 24:la(f,y,E,b,c),c&&O&2048&&$h(y.alternate,y);break;default:la(f,y,E,b,c)}n=n.sibling}}function Uo(e,n){if(n.subtreeFlags&10256)for(n=n.child;n!==null;){var r=e,o=n,c=o.flags;switch(o.tag){case 22:Uo(r,o),c&2048&&Xh(o.alternate,o);break;case 24:Uo(r,o),c&2048&&$h(o.alternate,o);break;default:Uo(r,o)}n=n.sibling}}var Lo=8192;function ua(e){if(e.subtreeFlags&Lo)for(e=e.child;e!==null;)dp(e),e=e.sibling}function dp(e){switch(e.tag){case 26:ua(e),e.flags&Lo&&e.memoizedState!==null&&hT(Un,e.memoizedState,e.memoizedProps);break;case 5:ua(e);break;case 3:case 4:var n=Un;Un=Mu(e.stateNode.containerInfo),ua(e),Un=n;break;case 22:e.memoizedState===null&&(n=e.alternate,n!==null&&n.memoizedState!==null?(n=Lo,Lo=16777216,ua(e),Lo=n):ua(e));break;default:ua(e)}}function mp(e){var n=e.alternate;if(n!==null&&(e=n.child,e!==null)){n.child=null;do n=e.sibling,e.sibling=null,e=n;while(e!==null)}}function ko(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Oe=o,pp(o,e)}mp(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)gp(e),e=e.sibling}function gp(e){switch(e.tag){case 0:case 11:case 15:ko(e),e.flags&2048&&mr(9,e,e.return);break;case 3:ko(e);break;case 12:ko(e);break;case 22:var n=e.stateNode;e.memoizedState!==null&&n._visibility&4&&(e.return===null||e.return.tag!==13)?(n._visibility&=-5,_u(e)):ko(e);break;default:ko(e)}}function _u(e){var n=e.deletions;if(e.flags&16){if(n!==null)for(var r=0;r<n.length;r++){var o=n[r];Oe=o,pp(o,e)}mp(e)}for(e=e.child;e!==null;){switch(n=e,n.tag){case 0:case 11:case 15:mr(8,n,n.return),_u(n);break;case 22:r=n.stateNode,r._visibility&4&&(r._visibility&=-5,_u(n));break;default:_u(n)}e=e.sibling}}function pp(e,n){for(;Oe!==null;){var r=Oe;switch(r.tag){case 0:case 11:case 15:mr(8,r,n);break;case 23:case 22:if(r.memoizedState!==null&&r.memoizedState.cachePool!==null){var o=r.memoizedState.cachePool.pool;o!=null&&o.refCount++}break;case 24:So(r.memoizedState.cache)}if(o=r.child,o!==null)o.return=r,Oe=o;else t:for(r=e;Oe!==null;){o=Oe;var c=o.sibling,f=o.return;if(op(o),o===r){Oe=null;break t}if(c!==null){c.return=f,Oe=c;break t}Oe=f}}}function bE(e,n,r,o){this.tag=e,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=o,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function wn(e,n,r,o){return new bE(e,n,r,o)}function Zh(e){return e=e.prototype,!(!e||!e.isReactComponent)}function yr(e,n){var r=e.alternate;return r===null?(r=wn(e.tag,n,e.key,e.mode),r.elementType=e.elementType,r.type=e.type,r.stateNode=e.stateNode,r.alternate=e,e.alternate=r):(r.pendingProps=n,r.type=e.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=e.flags&31457280,r.childLanes=e.childLanes,r.lanes=e.lanes,r.child=e.child,r.memoizedProps=e.memoizedProps,r.memoizedState=e.memoizedState,r.updateQueue=e.updateQueue,n=e.dependencies,r.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},r.sibling=e.sibling,r.index=e.index,r.ref=e.ref,r.refCleanup=e.refCleanup,r}function yp(e,n){e.flags&=31457282;var r=e.alternate;return r===null?(e.childLanes=0,e.lanes=n,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=r.childLanes,e.lanes=r.lanes,e.child=r.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=r.memoizedProps,e.memoizedState=r.memoizedState,e.updateQueue=r.updateQueue,e.type=r.type,n=r.dependencies,e.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),e}function vu(e,n,r,o,c,f){var y=0;if(o=e,typeof e=="function")Zh(e)&&(y=1);else if(typeof e=="string")y=uT(e,r,Qe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else t:switch(e){case _:return gs(r.children,c,f,n);case v:y=8,c|=24;break;case S:return e=wn(12,r,n,c|2),e.elementType=S,e.lanes=f,e;case rt:return e=wn(13,r,n,c),e.elementType=rt,e.lanes=f,e;case J:return e=wn(19,r,n,c),e.elementType=J,e.lanes=f,e;case Et:return _p(r,c,f,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case V:case F:y=10;break t;case z:y=9;break t;case $:y=11;break t;case Ot:y=14;break t;case pt:y=16,o=null;break t}y=29,r=Error(s(130,e===null?"null":typeof e,"")),o=null}return n=wn(y,r,n,c),n.elementType=e,n.type=o,n.lanes=f,n}function gs(e,n,r,o){return e=wn(7,e,o,n),e.lanes=r,e}function _p(e,n,r,o){e=wn(22,e,o,n),e.elementType=Et,e.lanes=r;var c={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var f=c._current;if(f===null)throw Error(s(456));if(!(c._pendingVisibility&2)){var y=sr(f,2);y!==null&&(c._pendingVisibility|=2,Ze(y,f,2))}},attach:function(){var f=c._current;if(f===null)throw Error(s(456));if(c._pendingVisibility&2){var y=sr(f,2);y!==null&&(c._pendingVisibility&=-3,Ze(y,f,2))}}};return e.stateNode=c,e}function Jh(e,n,r){return e=wn(6,e,null,n),e.lanes=r,e}function Wh(e,n,r){return n=wn(4,e.children!==null?e.children:[],e.key,n),n.lanes=r,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Di(e){e.flags|=4}function vp(e,n){if(n.type!=="stylesheet"||n.state.loading&4)e.flags&=-16777217;else if(e.flags|=16777216,!iy(n)){if(n=Sn.current,n!==null&&((Vt&4194176)===Vt?$n!==null:(Vt&62914560)!==Vt&&!(Vt&536870912)||n!==$n))throw Eo=rh,km;e.flags|=8192}}function Eu(e,n){n!==null&&(e.flags|=4),e.flags&16384&&(n=e.tag!==22?Ki():536870912,e.lanes|=n,ha|=n)}function Po(e,n){if(!zt)switch(e.tailMode){case"hidden":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e.tail=null:r.sibling=null;break;case"collapsed":r=e.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:o.sibling=null}}function Zt(e){var n=e.alternate!==null&&e.alternate.child===e.child,r=0,o=0;if(n)for(var c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags&31457280,o|=c.flags&31457280,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)r|=c.lanes|c.childLanes,o|=c.subtreeFlags,o|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=o,e.childLanes=r,n}function RE(e,n,r){var o=n.pendingProps;switch(nh(n),n.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Zt(n),null;case 1:return Zt(n),null;case 3:return r=n.stateNode,o=null,e!==null&&(o=e.memoizedState.cache),n.memoizedState.cache!==o&&(n.flags|=2048),Ri(Ae),li(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(po(n)?Di(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,Vn!==null&&(lf(Vn),Vn=null))),Zt(n),null;case 26:return r=n.memoizedState,e===null?(Di(n),r!==null?(Zt(n),vp(n,r)):(Zt(n),n.flags&=-16777217)):r?r!==e.memoizedState?(Di(n),Zt(n),vp(n,r)):(Zt(n),n.flags&=-16777217):(e.memoizedProps!==o&&Di(n),Zt(n),n.flags&=-16777217),null;case 27:Os(n),r=fn.current;var c=n.type;if(e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Zt(n),null}e=Qe.current,po(n)?Um(n):(e=Xp(c,o,r),n.stateNode=e,Di(n))}return Zt(n),null;case 5:if(Os(n),r=n.type,e!==null&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(!o){if(n.stateNode===null)throw Error(s(166));return Zt(n),null}if(e=Qe.current,po(n))Um(n);else{switch(c=Nu(fn.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;default:switch(r){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",r);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",r);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof o.is=="string"?c.createElement("select",{is:o.is}):c.createElement("select"),o.multiple?e.multiple=!0:o.size&&(e.size=o.size);break;default:e=typeof o.is=="string"?c.createElement(r,{is:o.is}):c.createElement(r)}}e[we]=n,e[_e]=o;t:for(c=n.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===n)break t;for(;c.sibling===null;){if(c.return===null||c.return===n)break t;c=c.return}c.sibling.return=c.return,c=c.sibling}n.stateNode=e;t:switch(ke(e,r,o),r){case"button":case"input":case"select":case"textarea":e=!!o.autoFocus;break t;case"img":e=!0;break t;default:e=!1}e&&Di(n)}}return Zt(n),n.flags&=-16777217,null;case 6:if(e&&n.stateNode!=null)e.memoizedProps!==o&&Di(n);else{if(typeof o!="string"&&n.stateNode===null)throw Error(s(166));if(e=fn.current,po(n)){if(e=n.stateNode,r=n.memoizedProps,o=null,c=$e,c!==null)switch(c.tag){case 27:case 5:o=c.memoizedProps}e[we]=n,e=!!(e.nodeValue===r||o!==null&&o.suppressHydrationWarning===!0||jp(e.nodeValue,r)),e||ss(n)}else e=Nu(e).createTextNode(o),e[we]=n,n.stateNode=e}return Zt(n),null;case 13:if(o=n.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=po(n),o!==null&&o.dehydrated!==null){if(e===null){if(!c)throw Error(s(318));if(c=n.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(s(317));c[we]=n}else yo(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;Zt(n),c=!1}else Vn!==null&&(lf(Vn),Vn=null),c=!0;if(!c)return n.flags&256?(Ti(n),n):(Ti(n),null)}if(Ti(n),n.flags&128)return n.lanes=r,n;if(r=o!==null,e=e!==null&&e.memoizedState!==null,r){o=n.child,c=null,o.alternate!==null&&o.alternate.memoizedState!==null&&o.alternate.memoizedState.cachePool!==null&&(c=o.alternate.memoizedState.cachePool.pool);var f=null;o.memoizedState!==null&&o.memoizedState.cachePool!==null&&(f=o.memoizedState.cachePool.pool),f!==c&&(o.flags|=2048)}return r!==e&&r&&(n.child.flags|=8192),Eu(n,n.updateQueue),Zt(n),null;case 4:return li(),e===null&&vf(n.stateNode.containerInfo),Zt(n),null;case 10:return Ri(n.type),Zt(n),null;case 19:if(te(Te),c=n.memoizedState,c===null)return Zt(n),null;if(o=(n.flags&128)!==0,f=c.rendering,f===null)if(o)Po(c,!1);else{if(ie!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(f=iu(e),f!==null){for(n.flags|=128,Po(c,!1),e=f.updateQueue,n.updateQueue=e,Eu(n,e),n.subtreeFlags=0,e=r,r=n.child;r!==null;)yp(r,e),r=r.sibling;return Gt(Te,Te.current&1|2),n.child}e=e.sibling}c.tail!==null&&We()>Tu&&(n.flags|=128,o=!0,Po(c,!1),n.lanes=4194304)}else{if(!o)if(e=iu(f),e!==null){if(n.flags|=128,o=!0,e=e.updateQueue,n.updateQueue=e,Eu(n,e),Po(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!zt)return Zt(n),null}else 2*We()-c.renderingStartTime>Tu&&r!==536870912&&(n.flags|=128,o=!0,Po(c,!1),n.lanes=4194304);c.isBackwards?(f.sibling=n.child,n.child=f):(e=c.last,e!==null?e.sibling=f:n.child=f,c.last=f)}return c.tail!==null?(n=c.tail,c.rendering=n,c.tail=n.sibling,c.renderingStartTime=We(),n.sibling=null,e=Te.current,Gt(Te,o?e&1|2:e&1),n):(Zt(n),null);case 22:case 23:return Ti(n),ah(),o=n.memoizedState!==null,e!==null?e.memoizedState!==null!==o&&(n.flags|=8192):o&&(n.flags|=8192),o?r&536870912&&!(n.flags&128)&&(Zt(n),n.subtreeFlags&6&&(n.flags|=8192)):Zt(n),r=n.updateQueue,r!==null&&Eu(n,r.retryQueue),r=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(r=e.memoizedState.cachePool.pool),o=null,n.memoizedState!==null&&n.memoizedState.cachePool!==null&&(o=n.memoizedState.cachePool.pool),o!==r&&(n.flags|=2048),e!==null&&te(os),null;case 24:return r=null,e!==null&&(r=e.memoizedState.cache),n.memoizedState.cache!==r&&(n.flags|=2048),Ri(Ae),Zt(n),null;case 25:return null}throw Error(s(156,n.tag))}function wE(e,n){switch(nh(n),n.tag){case 1:return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return Ri(Ae),li(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 26:case 27:case 5:return Os(n),null;case 13:if(Ti(n),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(s(340));yo()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return te(Te),null;case 4:return li(),null;case 10:return Ri(n.type),null;case 22:case 23:return Ti(n),ah(),e!==null&&te(os),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 24:return Ri(Ae),null;case 25:return null;default:return null}}function Ep(e,n){switch(nh(n),n.tag){case 3:Ri(Ae),li();break;case 26:case 27:case 5:Os(n);break;case 4:li();break;case 13:Ti(n);break;case 19:te(Te);break;case 10:Ri(n.type);break;case 22:case 23:Ti(n),ah(),e!==null&&te(os);break;case 24:Ri(Ae)}}var CE={getCacheForType:function(e){var n=Be(Ae),r=n.data.get(e);return r===void 0&&(r=e(),n.data.set(e,r)),r}},IE=typeof WeakMap=="function"?WeakMap:Map,Jt=0,Yt=null,Rt=null,Vt=0,Xt=0,cn=null,Oi=!1,ca=!1,tf=!1,Ni=0,ie=0,_r=0,ps=0,ef=0,Cn=0,ha=0,xo=null,Jn=null,nf=!1,rf=0,Tu=1/0,Au=null,vr=null,Su=!1,ys=null,zo=0,sf=0,af=null,Bo=0,of=null;function hn(){if(Jt&2&&Vt!==0)return Vt&-Vt;if(A.T!==null){var e=na;return e!==0?e:gf()}return Dl()}function Tp(){Cn===0&&(Cn=!(Vt&536870912)||zt?Za():536870912);var e=Sn.current;return e!==null&&(e.flags|=32),Cn}function Ze(e,n,r){(e===Yt&&Xt===2||e.cancelPendingCommit!==null)&&(fa(e,0),Mi(e,Vt,Cn,!1)),ae(e,r),(!(Jt&2)||e!==Yt)&&(e===Yt&&(!(Jt&2)&&(ps|=r),ie===4&&Mi(e,Vt,Cn,!1)),Wn(e))}function Ap(e,n,r){if(Jt&6)throw Error(s(327));var o=!r&&(n&60)===0&&(n&e.expiredLanes)===0||Qi(e,n),c=o?NE(e,n):hf(e,n,!0),f=o;do{if(c===0){ca&&!o&&Mi(e,n,0,!1);break}else if(c===6)Mi(e,n,0,!Oi);else{if(r=e.current.alternate,f&&!DE(r)){c=hf(e,n,!1),f=!1;continue}if(c===2){if(f=n,e.errorRecoveryDisabledLanes&f)var y=0;else y=e.pendingLanes&-536870913,y=y!==0?y:y&536870912?536870912:0;if(y!==0){n=y;t:{var E=e;c=xo;var b=E.current.memoizedState.isDehydrated;if(b&&(fa(E,y).flags|=256),y=hf(E,y,!1),y!==2){if(tf&&!b){E.errorRecoveryDisabledLanes|=f,ps|=f,c=4;break t}f=Jn,Jn=c,f!==null&&lf(f)}c=y}if(f=!1,c!==2)continue}}if(c===1){fa(e,0),Mi(e,n,0,!0);break}t:{switch(o=e,c){case 0:case 1:throw Error(s(345));case 4:if((n&4194176)===n){Mi(o,n,Cn,!Oi);break t}break;case 2:Jn=null;break;case 3:case 5:break;default:throw Error(s(329))}if(o.finishedWork=r,o.finishedLanes=n,(n&62914560)===n&&(f=rf+300-We(),10<f)){if(Mi(o,n,Cn,!Oi),dn(o,0)!==0)break t;o.timeoutHandle=Qp(Sp.bind(null,o,r,Jn,Au,nf,n,Cn,ps,ha,Oi,2,-0,0),f);break t}Sp(o,r,Jn,Au,nf,n,Cn,ps,ha,Oi,0,-0,0)}}break}while(!0);Wn(e)}function lf(e){Jn===null?Jn=e:Jn.push.apply(Jn,e)}function Sp(e,n,r,o,c,f,y,E,b,O,H,Q,x){var q=n.subtreeFlags;if((q&8192||(q&16785408)===16785408)&&(Qo={stylesheets:null,count:0,unsuspend:cT},dp(n),n=fT(),n!==null)){e.cancelPendingCommit=n(Op.bind(null,e,r,o,c,y,E,b,1,Q,x)),Mi(e,f,y,!O);return}Op(e,r,o,c,y,E,b,H,Q,x)}function DE(e){for(var n=e;;){var r=n.tag;if((r===0||r===11||r===15)&&n.flags&16384&&(r=n.updateQueue,r!==null&&(r=r.stores,r!==null)))for(var o=0;o<r.length;o++){var c=r[o],f=c.getSnapshot;c=c.value;try{if(!on(f(),c))return!1}catch{return!1}}if(r=n.child,n.subtreeFlags&16384&&r!==null)r.return=n,n=r;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function Mi(e,n,r,o){n&=~ef,n&=~ps,e.suspendedLanes|=n,e.pingedLanes&=~n,o&&(e.warmLanes|=n),o=e.expirationTimes;for(var c=n;0<c;){var f=31-Ke(c),y=1<<f;o[f]=-1,c&=~y}r!==0&&Yi(e,r,n)}function bu(){return Jt&6?!0:(qo(0),!1)}function uf(){if(Rt!==null){if(Xt===0)var e=Rt.return;else e=Rt,bi=fs=null,mh(e),ta=null,To=0,e=Rt;for(;e!==null;)Ep(e.alternate,e),e=e.return;Rt=null}}function fa(e,n){e.finishedWork=null,e.finishedLanes=0;var r=e.timeoutHandle;r!==-1&&(e.timeoutHandle=-1,YE(r)),r=e.cancelPendingCommit,r!==null&&(e.cancelPendingCommit=null,r()),uf(),Yt=e,Rt=r=yr(e.current,null),Vt=n,Xt=0,cn=null,Oi=!1,ca=Qi(e,n),tf=!1,ha=Cn=ef=ps=_r=ie=0,Jn=xo=null,nf=!1,n&8&&(n|=n&32);var o=e.entangledLanes;if(o!==0)for(e=e.entanglements,o&=n;0<o;){var c=31-Ke(o),f=1<<c;n|=e[c],o&=~f}return Ni=n,Yl(),r}function bp(e,n){At=null,A.H=Zn,n===vo?(n=zm(),Xt=3):n===km?(n=zm(),Xt=4):Xt=n===Pg?8:n!==null&&typeof n=="object"&&typeof n.then=="function"?6:1,cn=n,Rt===null&&(ie=1,mu(e,En(n,e.current)))}function Rp(){var e=A.H;return A.H=Zn,e===null?Zn:e}function wp(){var e=A.A;return A.A=CE,e}function cf(){ie=4,Oi||(Vt&4194176)!==Vt&&Sn.current!==null||(ca=!0),!(_r&134217727)&&!(ps&134217727)||Yt===null||Mi(Yt,Vt,Cn,!1)}function hf(e,n,r){var o=Jt;Jt|=2;var c=Rp(),f=wp();(Yt!==e||Vt!==n)&&(Au=null,fa(e,n)),n=!1;var y=ie;t:do try{if(Xt!==0&&Rt!==null){var E=Rt,b=cn;switch(Xt){case 8:uf(),y=6;break t;case 3:case 2:case 6:Sn.current===null&&(n=!0);var O=Xt;if(Xt=0,cn=null,da(e,E,b,O),r&&ca){y=0;break t}break;default:O=Xt,Xt=0,cn=null,da(e,E,b,O)}}OE(),y=ie;break}catch(H){bp(e,H)}while(!0);return n&&e.shellSuspendCounter++,bi=fs=null,Jt=o,A.H=c,A.A=f,Rt===null&&(Yt=null,Vt=0,Yl()),y}function OE(){for(;Rt!==null;)Cp(Rt)}function NE(e,n){var r=Jt;Jt|=2;var o=Rp(),c=wp();Yt!==e||Vt!==n?(Au=null,Tu=We()+500,fa(e,n)):ca=Qi(e,n);t:do try{if(Xt!==0&&Rt!==null){n=Rt;var f=cn;e:switch(Xt){case 1:Xt=0,cn=null,da(e,n,f,1);break;case 2:if(Pm(f)){Xt=0,cn=null,Ip(n);break}n=function(){Xt===2&&Yt===e&&(Xt=7),Wn(e)},f.then(n,n);break t;case 3:Xt=7;break t;case 4:Xt=5;break t;case 7:Pm(f)?(Xt=0,cn=null,Ip(n)):(Xt=0,cn=null,da(e,n,f,7));break;case 5:var y=null;switch(Rt.tag){case 26:y=Rt.memoizedState;case 5:case 27:var E=Rt;if(!y||iy(y)){Xt=0,cn=null;var b=E.sibling;if(b!==null)Rt=b;else{var O=E.return;O!==null?(Rt=O,Ru(O)):Rt=null}break e}}Xt=0,cn=null,da(e,n,f,5);break;case 6:Xt=0,cn=null,da(e,n,f,6);break;case 8:uf(),ie=6;break t;default:throw Error(s(462))}}ME();break}catch(H){bp(e,H)}while(!0);return bi=fs=null,A.H=o,A.A=c,Jt=r,Rt!==null?0:(Yt=null,Vt=0,Yl(),ie)}function ME(){for(;Rt!==null&&!xc();)Cp(Rt)}function Cp(e){var n=Xg(e.alternate,e,Ni);e.memoizedProps=e.pendingProps,n===null?Ru(e):Rt=n}function Ip(e){var n=e,r=n.alternate;switch(n.tag){case 15:case 0:n=jg(r,n,n.pendingProps,n.type,void 0,Vt);break;case 11:n=jg(r,n,n.pendingProps,n.type.render,n.ref,Vt);break;case 5:mh(n);default:Ep(r,n),n=Rt=yp(n,Ni),n=Xg(r,n,Ni)}e.memoizedProps=e.pendingProps,n===null?Ru(e):Rt=n}function da(e,n,r,o){bi=fs=null,mh(n),ta=null,To=0;var c=n.return;try{if(EE(e,c,n,r,Vt)){ie=1,mu(e,En(r,e.current)),Rt=null;return}}catch(f){if(c!==null)throw Rt=c,f;ie=1,mu(e,En(r,e.current)),Rt=null;return}n.flags&32768?(zt||o===1?e=!0:ca||Vt&536870912?e=!1:(Oi=e=!0,(o===2||o===3||o===6)&&(o=Sn.current,o!==null&&o.tag===13&&(o.flags|=16384))),Dp(n,e)):Ru(n)}function Ru(e){var n=e;do{if(n.flags&32768){Dp(n,Oi);return}e=n.return;var r=RE(n.alternate,n,Ni);if(r!==null){Rt=r;return}if(n=n.sibling,n!==null){Rt=n;return}Rt=n=e}while(n!==null);ie===0&&(ie=5)}function Dp(e,n){do{var r=wE(e.alternate,e);if(r!==null){r.flags&=32767,Rt=r;return}if(r=e.return,r!==null&&(r.flags|=32768,r.subtreeFlags=0,r.deletions=null),!n&&(e=e.sibling,e!==null)){Rt=e;return}Rt=e=r}while(e!==null);ie=6,Rt=null}function Op(e,n,r,o,c,f,y,E,b,O){var H=A.T,Q=tt.p;try{tt.p=2,A.T=null,VE(e,n,r,o,Q,c,f,y,E,b,O)}finally{A.T=H,tt.p=Q}}function VE(e,n,r,o,c,f,y,E){do ma();while(ys!==null);if(Jt&6)throw Error(s(327));var b=e.finishedWork;if(o=e.finishedLanes,b===null)return null;if(e.finishedWork=null,e.finishedLanes=0,b===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0,e.cancelPendingCommit=null;var O=b.lanes|b.childLanes;if(O|=Wc,Cl(e,o,O,f,y,E),e===Yt&&(Rt=Yt=null,Vt=0),!(b.subtreeFlags&10256)&&!(b.flags&10256)||Su||(Su=!0,sf=O,af=r,PE(ui,function(){return ma(),null})),r=(b.flags&15990)!==0,b.subtreeFlags&15990||r?(r=A.T,A.T=null,f=tt.p,tt.p=2,y=Jt,Jt|=4,AE(e,b),cp(b,e),iE(Sf,e.containerInfo),Pu=!!Af,Sf=Af=null,e.current=b,ap(e,b.alternate,b),Ka(),Jt=y,tt.p=f,A.T=r):e.current=b,Su?(Su=!1,ys=e,zo=o):Np(e,O),O=e.pendingLanes,O===0&&(vr=null),Xa(b.stateNode),Wn(e),n!==null)for(c=e.onRecoverableError,b=0;b<n.length;b++)O=n[b],c(O.value,{componentStack:O.stack});return zo&3&&ma(),O=e.pendingLanes,o&4194218&&O&42?e===of?Bo++:(Bo=0,of=e):Bo=0,qo(0),null}function Np(e,n){(e.pooledCacheLanes&=n)===0&&(n=e.pooledCache,n!=null&&(e.pooledCache=null,So(n)))}function ma(){if(ys!==null){var e=ys,n=sf;sf=0;var r=Il(zo),o=A.T,c=tt.p;try{if(tt.p=32>r?32:r,A.T=null,ys===null)var f=!1;else{r=af,af=null;var y=ys,E=zo;if(ys=null,zo=0,Jt&6)throw Error(s(331));var b=Jt;if(Jt|=4,gp(y.current),fp(y,y.current,E,r),Jt=b,qo(0,!1),ze&&typeof ze.onPostCommitFiberRoot=="function")try{ze.onPostCommitFiberRoot(Gi,y)}catch{}f=!0}return f}finally{tt.p=c,A.T=o,Np(e,n)}}return!1}function Mp(e,n,r){n=En(r,n),n=Ih(e.stateNode,n,2),e=dr(e,n,2),e!==null&&(ae(e,2),Wn(e))}function Kt(e,n,r){if(e.tag===3)Mp(e,e,r);else for(;n!==null;){if(n.tag===3){Mp(n,e,r);break}else if(n.tag===1){var o=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof o.componentDidCatch=="function"&&(vr===null||!vr.has(o))){e=En(r,e),r=Lg(2),o=dr(n,r,2),o!==null&&(kg(r,o,n,e),ae(o,2),Wn(o));break}}n=n.return}}function ff(e,n,r){var o=e.pingCache;if(o===null){o=e.pingCache=new IE;var c=new Set;o.set(n,c)}else c=o.get(n),c===void 0&&(c=new Set,o.set(n,c));c.has(r)||(tf=!0,c.add(r),e=UE.bind(null,e,n,r),n.then(e,e))}function UE(e,n,r){var o=e.pingCache;o!==null&&o.delete(n),e.pingedLanes|=e.suspendedLanes&r,e.warmLanes&=~r,Yt===e&&(Vt&r)===r&&(ie===4||ie===3&&(Vt&62914560)===Vt&&300>We()-rf?!(Jt&2)&&fa(e,0):ef|=r,ha===Vt&&(ha=0)),Wn(e)}function Vp(e,n){n===0&&(n=Ki()),e=sr(e,n),e!==null&&(ae(e,n),Wn(e))}function LE(e){var n=e.memoizedState,r=0;n!==null&&(r=n.retryLane),Vp(e,r)}function kE(e,n){var r=0;switch(e.tag){case 13:var o=e.stateNode,c=e.memoizedState;c!==null&&(r=c.retryLane);break;case 19:o=e.stateNode;break;case 22:o=e.stateNode._retryCache;break;default:throw Error(s(314))}o!==null&&o.delete(n),Vp(e,r)}function PE(e,n){return qr(e,n)}var wu=null,ga=null,df=!1,Cu=!1,mf=!1,_s=0;function Wn(e){e!==ga&&e.next===null&&(ga===null?wu=ga=e:ga=ga.next=e),Cu=!0,df||(df=!0,zE(xE))}function qo(e,n){if(!mf&&Cu){mf=!0;do for(var r=!1,o=wu;o!==null;){if(e!==0){var c=o.pendingLanes;if(c===0)var f=0;else{var y=o.suspendedLanes,E=o.pingedLanes;f=(1<<31-Ke(42|e)+1)-1,f&=c&~(y&~E),f=f&201326677?f&201326677|1:f?f|2:0}f!==0&&(r=!0,kp(o,f))}else f=Vt,f=dn(o,o===Yt?f:0),!(f&3)||Qi(o,f)||(r=!0,kp(o,f));o=o.next}while(r);mf=!1}}function xE(){Cu=df=!1;var e=0;_s!==0&&(KE()&&(e=_s),_s=0);for(var n=We(),r=null,o=wu;o!==null;){var c=o.next,f=Up(o,n);f===0?(o.next=null,r===null?wu=c:r.next=c,c===null&&(ga=r)):(r=o,(e!==0||f&3)&&(Cu=!0)),o=c}qo(e)}function Up(e,n){for(var r=e.suspendedLanes,o=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var y=31-Ke(f),E=1<<y,b=c[y];b===-1?(!(E&r)||E&o)&&(c[y]=Vs(E,n)):b<=n&&(e.expiredLanes|=E),f&=~E}if(n=Yt,r=Vt,r=dn(e,e===n?r:0),o=e.callbackNode,r===0||e===n&&Xt===2||e.cancelPendingCommit!==null)return o!==null&&o!==null&&Ms(o),e.callbackNode=null,e.callbackPriority=0;if(!(r&3)||Qi(e,r)){if(n=r&-r,n===e.callbackPriority)return n;switch(o!==null&&Ms(o),Il(r)){case 2:case 8:r=Re;break;case 32:r=ui;break;case 268435456:r=Ya;break;default:r=ui}return o=Lp.bind(null,e),r=qr(r,o),e.callbackPriority=n,e.callbackNode=r,n}return o!==null&&o!==null&&Ms(o),e.callbackPriority=2,e.callbackNode=null,2}function Lp(e,n){var r=e.callbackNode;if(ma()&&e.callbackNode!==r)return null;var o=Vt;return o=dn(e,e===Yt?o:0),o===0?null:(Ap(e,o,n),Up(e,We()),e.callbackNode!=null&&e.callbackNode===r?Lp.bind(null,e):null)}function kp(e,n){if(ma())return null;Ap(e,n,!0)}function zE(e){XE(function(){Jt&6?qr(ye,e):e()})}function gf(){return _s===0&&(_s=Za()),_s}function Pp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Hn(""+e)}function xp(e,n){var r=n.ownerDocument.createElement("input");return r.name=n.name,r.value=n.value,e.id&&r.setAttribute("form",e.id),n.parentNode.insertBefore(r,n),e=new FormData(e),r.parentNode.removeChild(r),e}function BE(e,n,r,o,c){if(n==="submit"&&r&&r.stateNode===c){var f=Pp((c[_e]||null).action),y=o.submitter;y&&(n=(n=y[_e]||null)?Pp(n.formAction):y.getAttribute("formAction"),n!==null&&(f=n,y=null));var E=new Bs("action","action",null,o,c);e.push({event:E,listeners:[{instance:null,listener:function(){if(o.defaultPrevented){if(_s!==0){var b=y?xp(c,y):new FormData(c);Sh(r,{pending:!0,data:b,method:c.method,action:f},null,b)}}else typeof f=="function"&&(E.preventDefault(),b=y?xp(c,y):new FormData(c),Sh(r,{pending:!0,data:b,method:c.method,action:f},f,b))},currentTarget:c}]})}}for(var pf=0;pf<Om.length;pf++){var yf=Om[pf],qE=yf.toLowerCase(),HE=yf[0].toUpperCase()+yf.slice(1);Mn(qE,"on"+HE)}Mn(Rm,"onAnimationEnd"),Mn(wm,"onAnimationIteration"),Mn(Cm,"onAnimationStart"),Mn("dblclick","onDoubleClick"),Mn("focusin","onFocus"),Mn("focusout","onBlur"),Mn(sE,"onTransitionRun"),Mn(aE,"onTransitionStart"),Mn(oE,"onTransitionCancel"),Mn(Im,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),sn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),sn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),sn("onBeforeInput",["compositionend","keypress","textInput","paste"]),sn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),sn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ho="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jE=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Ho));function zp(e,n){n=(n&4)!==0;for(var r=0;r<e.length;r++){var o=e[r],c=o.event;o=o.listeners;t:{var f=void 0;if(n)for(var y=o.length-1;0<=y;y--){var E=o[y],b=E.instance,O=E.currentTarget;if(E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){du(H)}c.currentTarget=null,f=b}else for(y=0;y<o.length;y++){if(E=o[y],b=E.instance,O=E.currentTarget,E=E.listener,b!==f&&c.isPropagationStopped())break t;f=E,c.currentTarget=O;try{f(c)}catch(H){du(H)}c.currentTarget=null,f=b}}}}function It(e,n){var r=n[jr];r===void 0&&(r=n[jr]=new Set);var o=e+"__bubble";r.has(o)||(Bp(n,e,2,!1),r.add(o))}function _f(e,n,r){var o=0;n&&(o|=4),Bp(r,e,o,n)}var Iu="_reactListening"+Math.random().toString(36).slice(2);function vf(e){if(!e[Iu]){e[Iu]=!0,Wa.forEach(function(r){r!=="selectionchange"&&(jE.has(r)||_f(r,!1,e),_f(r,!0,e))});var n=e.nodeType===9?e:e.ownerDocument;n===null||n[Iu]||(n[Iu]=!0,_f("selectionchange",!1,n))}}function Bp(e,n,r,o){switch(uy(n)){case 2:var c=gT;break;case 8:c=pT;break;default:c=Mf}r=c.bind(null,n,r,e),c=void 0,!yn||n!=="touchstart"&&n!=="touchmove"&&n!=="wheel"||(c=!0),o?c!==void 0?e.addEventListener(n,r,{capture:!0,passive:c}):e.addEventListener(n,r,!0):c!==void 0?e.addEventListener(n,r,{passive:c}):e.addEventListener(n,r,!1)}function Ef(e,n,r,o,c){var f=o;if(!(n&1)&&!(n&2)&&o!==null)t:for(;;){if(o===null)return;var y=o.tag;if(y===3||y===4){var E=o.stateNode.containerInfo;if(E===c||E.nodeType===8&&E.parentNode===c)break;if(y===4)for(y=o.return;y!==null;){var b=y.tag;if((b===3||b===4)&&(b=y.stateNode.containerInfo,b===c||b.nodeType===8&&b.parentNode===c))return;y=y.return}for(;E!==null;){if(y=Nn(E),y===null)return;if(b=y.tag,b===5||b===6||b===26||b===27){o=f=y;continue t}E=E.parentNode}}o=o.return}Vl(function(){var O=f,H=zs(r),Q=[];t:{var x=Dm.get(e);if(x!==void 0){var q=Bs,it=e;switch(e){case"keypress":if(Gn(r)===0)break t;case"keydown":case"keyup":q=Qs;break;case"focusin":it="focus",q=js;break;case"focusout":it="blur",q=js;break;case"beforeblur":case"afterblur":q=js;break;case"click":if(r.button===2)break t;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":q=_n;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":q=Fc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":q=ql;break;case Rm:case wm:case Cm:q=Gs;break;case Im:q=jl;break;case"scroll":case"scrollend":q=Ul;break;case"wheel":q=Ks;break;case"copy":case"cut":case"paste":q=Fs;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":q=ho;break;case"toggle":case"beforetoggle":q=Fl}var mt=(n&4)!==0,re=!mt&&(e==="scroll"||e==="scrollend"),U=mt?x!==null?x+"Capture":null:x;mt=[];for(var D=O,P;D!==null;){var j=D;if(P=j.stateNode,j=j.tag,j!==5&&j!==26&&j!==27||P===null||U===null||(j=Yr(D,U),j!=null&&mt.push(jo(D,j,P))),re)break;D=D.return}0<mt.length&&(x=new q(x,it,null,r,H),Q.push({event:x,listeners:mt}))}}if(!(n&7)){t:{if(x=e==="mouseover"||e==="pointerover",q=e==="mouseout"||e==="pointerout",x&&r!==pn&&(it=r.relatedTarget||r.fromElement)&&(Nn(it)||it[ci]))break t;if((q||x)&&(x=H.window===H?H:(x=H.ownerDocument)?x.defaultView||x.parentWindow:window,q?(it=r.relatedTarget||r.toElement,q=O,it=it?Nn(it):null,it!==null&&(re=ot(it),mt=it.tag,it!==re||mt!==5&&mt!==27&&mt!==6)&&(it=null)):(q=null,it=O),q!==it)){if(mt=_n,j="onMouseLeave",U="onMouseEnter",D="mouse",(e==="pointerout"||e==="pointerover")&&(mt=ho,j="onPointerLeave",U="onPointerEnter",D="pointer"),re=q==null?x:Ji(q),P=it==null?x:Ji(it),x=new mt(j,D+"leave",q,r,H),x.target=re,x.relatedTarget=P,j=null,Nn(H)===O&&(mt=new mt(U,D+"enter",it,r,H),mt.target=P,mt.relatedTarget=re,j=mt),re=j,q&&it)e:{for(mt=q,U=it,D=0,P=mt;P;P=pa(P))D++;for(P=0,j=U;j;j=pa(j))P++;for(;0<D-P;)mt=pa(mt),D--;for(;0<P-D;)U=pa(U),P--;for(;D--;){if(mt===U||U!==null&&mt===U.alternate)break e;mt=pa(mt),U=pa(U)}mt=null}else mt=null;q!==null&&qp(Q,x,q,mt,!1),it!==null&&re!==null&&qp(Q,re,it,mt,!0)}}t:{if(x=O?Ji(O):window,q=x.nodeName&&x.nodeName.toLowerCase(),q==="select"||q==="input"&&x.type==="file")var nt=mm;else if(Ee(x))if(gm)nt=eE;else{nt=W0;var St=J0}else q=x.nodeName,!q||q.toLowerCase()!=="input"||x.type!=="checkbox"&&x.type!=="radio"?O&&ro(O.elementType)&&(nt=mm):nt=tE;if(nt&&(nt=nt(e,O))){_i(Q,nt,r,H);break t}St&&St(e,x,O),e==="focusout"&&O&&x.type==="number"&&O.memoizedProps.value!=null&&xs(x,"number",x.value)}switch(St=O?Ji(O):window,e){case"focusin":(Ee(St)||St.contentEditable==="true")&&(Ys=St,$c=O,go=null);break;case"focusout":go=$c=Ys=null;break;case"mousedown":Zc=!0;break;case"contextmenu":case"mouseup":case"dragend":Zc=!1,Sm(Q,r,H);break;case"selectionchange":if(rE)break;case"keydown":case"keyup":Sm(Q,r,H)}var at;if(Kn)t:{switch(e){case"compositionstart":var lt="onCompositionStart";break t;case"compositionend":lt="onCompositionEnd";break t;case"compositionupdate":lt="onCompositionUpdate";break t}lt=void 0}else Nt?B(e,r)&&(lt="onCompositionEnd"):e==="keydown"&&r.keyCode===229&&(lt="onCompositionStart");lt&&(p&&r.locale!=="ko"&&(Nt||lt!=="onCompositionStart"?lt==="onCompositionEnd"&&Nt&&(at=ao()):(jn=H,rr="value"in jn?jn.value:jn.textContent,Nt=!0)),St=Du(O,lt),0<St.length&&(lt=new uo(lt,e,null,r,H),Q.push({event:lt,listeners:St}),at?lt.data=at:(at=Y(r),at!==null&&(lt.data=at)))),(at=m?ve(e,r):Mt(e,r))&&(lt=Du(O,"onBeforeInput"),0<lt.length&&(St=new uo("onBeforeInput","beforeinput",null,r,H),Q.push({event:St,listeners:lt}),St.data=at)),BE(Q,e,O,r,H)}zp(Q,n)})}function jo(e,n,r){return{instance:e,listener:n,currentTarget:r}}function Du(e,n){for(var r=n+"Capture",o=[];e!==null;){var c=e,f=c.stateNode;c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=Yr(e,r),c!=null&&o.unshift(jo(e,c,f)),c=Yr(e,n),c!=null&&o.push(jo(e,c,f))),e=e.return}return o}function pa(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function qp(e,n,r,o,c){for(var f=n._reactName,y=[];r!==null&&r!==o;){var E=r,b=E.alternate,O=E.stateNode;if(E=E.tag,b!==null&&b===o)break;E!==5&&E!==26&&E!==27||O===null||(b=O,c?(O=Yr(r,f),O!=null&&y.unshift(jo(r,O,b))):c||(O=Yr(r,f),O!=null&&y.push(jo(r,O,b)))),r=r.return}y.length!==0&&e.push({event:n,listeners:y})}var GE=/\r\n?/g,FE=/\u0000|\uFFFD/g;function Hp(e){return(typeof e=="string"?e:""+e).replace(GE,`
`).replace(FE,"")}function jp(e,n){return n=Hp(n),Hp(e)===n}function Ou(){}function Qt(e,n,r,o,c,f){switch(r){case"children":typeof o=="string"?n==="body"||n==="textarea"&&o===""||gn(e,o):(typeof o=="number"||typeof o=="bigint")&&n!=="body"&&gn(e,""+o);break;case"className":er(e,"class",o);break;case"tabIndex":er(e,"tabindex",o);break;case"dir":case"role":case"viewBox":case"width":case"height":er(e,r,o);break;case"style":Ml(e,o,f);break;case"data":if(n!=="object"){er(e,"data",o);break}case"src":case"href":if(o===""&&(n!=="a"||r!=="href")){e.removeAttribute(r);break}if(o==null||typeof o=="function"||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Hn(""+o),e.setAttribute(r,o);break;case"action":case"formAction":if(typeof o=="function"){e.setAttribute(r,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(r==="formAction"?(n!=="input"&&Qt(e,n,"name",c.name,c,null),Qt(e,n,"formEncType",c.formEncType,c,null),Qt(e,n,"formMethod",c.formMethod,c,null),Qt(e,n,"formTarget",c.formTarget,c,null)):(Qt(e,n,"encType",c.encType,c,null),Qt(e,n,"method",c.method,c,null),Qt(e,n,"target",c.target,c,null)));if(o==null||typeof o=="symbol"||typeof o=="boolean"){e.removeAttribute(r);break}o=Hn(""+o),e.setAttribute(r,o);break;case"onClick":o!=null&&(e.onclick=Ou);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"multiple":e.multiple=o&&typeof o!="function"&&typeof o!="symbol";break;case"muted":e.muted=o&&typeof o!="function"&&typeof o!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(o==null||typeof o=="function"||typeof o=="boolean"||typeof o=="symbol"){e.removeAttribute("xlink:href");break}r=Hn(""+o),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",r);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""+o):e.removeAttribute(r);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":o&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,""):e.removeAttribute(r);break;case"capture":case"download":o===!0?e.setAttribute(r,""):o!==!1&&o!=null&&typeof o!="function"&&typeof o!="symbol"?e.setAttribute(r,o):e.removeAttribute(r);break;case"cols":case"rows":case"size":case"span":o!=null&&typeof o!="function"&&typeof o!="symbol"&&!isNaN(o)&&1<=o?e.setAttribute(r,o):e.removeAttribute(r);break;case"rowSpan":case"start":o==null||typeof o=="function"||typeof o=="symbol"||isNaN(o)?e.removeAttribute(r):e.setAttribute(r,o);break;case"popover":It("beforetoggle",e),It("toggle",e),tr(e,"popover",o);break;case"xlinkActuate":mn(e,"http://www.w3.org/1999/xlink","xlink:actuate",o);break;case"xlinkArcrole":mn(e,"http://www.w3.org/1999/xlink","xlink:arcrole",o);break;case"xlinkRole":mn(e,"http://www.w3.org/1999/xlink","xlink:role",o);break;case"xlinkShow":mn(e,"http://www.w3.org/1999/xlink","xlink:show",o);break;case"xlinkTitle":mn(e,"http://www.w3.org/1999/xlink","xlink:title",o);break;case"xlinkType":mn(e,"http://www.w3.org/1999/xlink","xlink:type",o);break;case"xmlBase":mn(e,"http://www.w3.org/XML/1998/namespace","xml:base",o);break;case"xmlLang":mn(e,"http://www.w3.org/XML/1998/namespace","xml:lang",o);break;case"xmlSpace":mn(e,"http://www.w3.org/XML/1998/namespace","xml:space",o);break;case"is":tr(e,"is",o);break;case"innerText":case"textContent":break;default:(!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(r=jc.get(r)||r,tr(e,r,o))}}function Tf(e,n,r,o,c,f){switch(r){case"style":Ml(e,o,f);break;case"dangerouslySetInnerHTML":if(o!=null){if(typeof o!="object"||!("__html"in o))throw Error(s(61));if(r=o.__html,r!=null){if(c.children!=null)throw Error(s(60));e.innerHTML=r}}break;case"children":typeof o=="string"?gn(e,o):(typeof o=="number"||typeof o=="bigint")&&gn(e,""+o);break;case"onScroll":o!=null&&It("scroll",e);break;case"onScrollEnd":o!=null&&It("scrollend",e);break;case"onClick":o!=null&&(e.onclick=Ou);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!ks.hasOwnProperty(r))t:{if(r[0]==="o"&&r[1]==="n"&&(c=r.endsWith("Capture"),n=r.slice(2,c?r.length-7:void 0),f=e[_e]||null,f=f!=null?f[r]:null,typeof f=="function"&&e.removeEventListener(n,f,c),typeof o=="function")){typeof f!="function"&&f!==null&&(r in e?e[r]=null:e.hasAttribute(r)&&e.removeAttribute(r)),e.addEventListener(n,o,c);break t}r in e?e[r]=o:o===!0?e.setAttribute(r,""):tr(e,r,o)}}}function ke(e,n,r){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":It("error",e),It("load",e);var o=!1,c=!1,f;for(f in r)if(r.hasOwnProperty(f)){var y=r[f];if(y!=null)switch(f){case"src":o=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,f,y,r,null)}}c&&Qt(e,n,"srcSet",r.srcSet,r,null),o&&Qt(e,n,"src",r.src,r,null);return;case"input":It("invalid",e);var E=f=y=c=null,b=null,O=null;for(o in r)if(r.hasOwnProperty(o)){var H=r[o];if(H!=null)switch(o){case"name":c=H;break;case"type":y=H;break;case"checked":b=H;break;case"defaultChecked":O=H;break;case"value":f=H;break;case"defaultValue":E=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(s(137,n));break;default:Qt(e,n,o,H,r,null)}}Qr(e,f,E,b,O,y,c,!1),Fr(e);return;case"select":It("invalid",e),o=y=f=null;for(c in r)if(r.hasOwnProperty(c)&&(E=r[c],E!=null))switch(c){case"value":f=E;break;case"defaultValue":y=E;break;case"multiple":o=E;default:Qt(e,n,c,E,r,null)}n=f,r=y,e.multiple=!!o,n!=null?xt(e,!!o,n,!1):r!=null&&xt(e,!!o,r,!0);return;case"textarea":It("invalid",e),f=c=o=null;for(y in r)if(r.hasOwnProperty(y)&&(E=r[y],E!=null))switch(y){case"value":o=E;break;case"defaultValue":c=E;break;case"children":f=E;break;case"dangerouslySetInnerHTML":if(E!=null)throw Error(s(91));break;default:Qt(e,n,y,E,r,null)}ir(e,o,c,f),Fr(e);return;case"option":for(b in r)if(r.hasOwnProperty(b)&&(o=r[b],o!=null))switch(b){case"selected":e.selected=o&&typeof o!="function"&&typeof o!="symbol";break;default:Qt(e,n,b,o,r,null)}return;case"dialog":It("cancel",e),It("close",e);break;case"iframe":case"object":It("load",e);break;case"video":case"audio":for(o=0;o<Ho.length;o++)It(Ho[o],e);break;case"image":It("error",e),It("load",e);break;case"details":It("toggle",e);break;case"embed":case"source":case"link":It("error",e),It("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(O in r)if(r.hasOwnProperty(O)&&(o=r[O],o!=null))switch(O){case"children":case"dangerouslySetInnerHTML":throw Error(s(137,n));default:Qt(e,n,O,o,r,null)}return;default:if(ro(n)){for(H in r)r.hasOwnProperty(H)&&(o=r[H],o!==void 0&&Tf(e,n,H,o,r,void 0));return}}for(E in r)r.hasOwnProperty(E)&&(o=r[E],o!=null&&Qt(e,n,E,o,r,null))}function QE(e,n,r,o){switch(n){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,y=null,E=null,b=null,O=null,H=null;for(q in r){var Q=r[q];if(r.hasOwnProperty(q)&&Q!=null)switch(q){case"checked":break;case"value":break;case"defaultValue":b=Q;default:o.hasOwnProperty(q)||Qt(e,n,q,null,o,Q)}}for(var x in o){var q=o[x];if(Q=r[x],o.hasOwnProperty(x)&&(q!=null||Q!=null))switch(x){case"type":f=q;break;case"name":c=q;break;case"checked":O=q;break;case"defaultChecked":H=q;break;case"value":y=q;break;case"defaultValue":E=q;break;case"children":case"dangerouslySetInnerHTML":if(q!=null)throw Error(s(137,n));break;default:q!==Q&&Qt(e,n,x,q,o,Q)}}nr(e,y,E,b,O,H,f,c);return;case"select":q=y=E=x=null;for(f in r)if(b=r[f],r.hasOwnProperty(f)&&b!=null)switch(f){case"value":break;case"multiple":q=b;default:o.hasOwnProperty(f)||Qt(e,n,f,null,o,b)}for(c in o)if(f=o[c],b=r[c],o.hasOwnProperty(c)&&(f!=null||b!=null))switch(c){case"value":x=f;break;case"defaultValue":E=f;break;case"multiple":y=f;default:f!==b&&Qt(e,n,c,f,o,b)}n=E,r=y,o=q,x!=null?xt(e,!!r,x,!1):!!o!=!!r&&(n!=null?xt(e,!!r,n,!0):xt(e,!!r,r?[]:"",!1));return;case"textarea":q=x=null;for(E in r)if(c=r[E],r.hasOwnProperty(E)&&c!=null&&!o.hasOwnProperty(E))switch(E){case"value":break;case"children":break;default:Qt(e,n,E,null,o,c)}for(y in o)if(c=o[y],f=r[y],o.hasOwnProperty(y)&&(c!=null||f!=null))switch(y){case"value":x=c;break;case"defaultValue":q=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(s(91));break;default:c!==f&&Qt(e,n,y,c,o,f)}Kr(e,x,q);return;case"option":for(var it in r)if(x=r[it],r.hasOwnProperty(it)&&x!=null&&!o.hasOwnProperty(it))switch(it){case"selected":e.selected=!1;break;default:Qt(e,n,it,null,o,x)}for(b in o)if(x=o[b],q=r[b],o.hasOwnProperty(b)&&x!==q&&(x!=null||q!=null))switch(b){case"selected":e.selected=x&&typeof x!="function"&&typeof x!="symbol";break;default:Qt(e,n,b,x,o,q)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var mt in r)x=r[mt],r.hasOwnProperty(mt)&&x!=null&&!o.hasOwnProperty(mt)&&Qt(e,n,mt,null,o,x);for(O in o)if(x=o[O],q=r[O],o.hasOwnProperty(O)&&x!==q&&(x!=null||q!=null))switch(O){case"children":case"dangerouslySetInnerHTML":if(x!=null)throw Error(s(137,n));break;default:Qt(e,n,O,x,o,q)}return;default:if(ro(n)){for(var re in r)x=r[re],r.hasOwnProperty(re)&&x!==void 0&&!o.hasOwnProperty(re)&&Tf(e,n,re,void 0,o,x);for(H in o)x=o[H],q=r[H],!o.hasOwnProperty(H)||x===q||x===void 0&&q===void 0||Tf(e,n,H,x,o,q);return}}for(var U in r)x=r[U],r.hasOwnProperty(U)&&x!=null&&!o.hasOwnProperty(U)&&Qt(e,n,U,null,o,x);for(Q in o)x=o[Q],q=r[Q],!o.hasOwnProperty(Q)||x===q||x==null&&q==null||Qt(e,n,Q,x,o,q)}var Af=null,Sf=null;function Nu(e){return e.nodeType===9?e:e.ownerDocument}function Gp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function Fp(e,n){if(e===0)switch(n){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&n==="foreignObject"?0:e}function bf(e,n){return e==="textarea"||e==="noscript"||typeof n.children=="string"||typeof n.children=="number"||typeof n.children=="bigint"||typeof n.dangerouslySetInnerHTML=="object"&&n.dangerouslySetInnerHTML!==null&&n.dangerouslySetInnerHTML.__html!=null}var Rf=null;function KE(){var e=window.event;return e&&e.type==="popstate"?e===Rf?!1:(Rf=e,!0):(Rf=null,!1)}var Qp=typeof setTimeout=="function"?setTimeout:void 0,YE=typeof clearTimeout=="function"?clearTimeout:void 0,Kp=typeof Promise=="function"?Promise:void 0,XE=typeof queueMicrotask=="function"?queueMicrotask:typeof Kp<"u"?function(e){return Kp.resolve(null).then(e).catch($E)}:Qp;function $E(e){setTimeout(function(){throw e})}function wf(e,n){var r=n,o=0;do{var c=r.nextSibling;if(e.removeChild(r),c&&c.nodeType===8)if(r=c.data,r==="/$"){if(o===0){e.removeChild(c),Zo(n);return}o--}else r!=="$"&&r!=="$?"&&r!=="$!"||o++;r=c}while(r);Zo(n)}function Cf(e){var n=e.firstChild;for(n&&n.nodeType===10&&(n=n.nextSibling);n;){var r=n;switch(n=n.nextSibling,r.nodeName){case"HTML":case"HEAD":case"BODY":Cf(r),Gr(r);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(r.rel.toLowerCase()==="stylesheet")continue}e.removeChild(r)}}function ZE(e,n,r,o){for(;e.nodeType===1;){var c=r;if(e.nodeName.toLowerCase()!==n.toLowerCase()){if(!o&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(o){if(!e[Zi])switch(n){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(n==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Ln(e.nextSibling),e===null)break}return null}function JE(e,n,r){if(n==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!r||(e=Ln(e.nextSibling),e===null))return null;return e}function Ln(e){for(;e!=null;e=e.nextSibling){var n=e.nodeType;if(n===1||n===3)break;if(n===8){if(n=e.data,n==="$"||n==="$!"||n==="$?"||n==="F!"||n==="F")break;if(n==="/$")return null}}return e}function Yp(e){e=e.previousSibling;for(var n=0;e;){if(e.nodeType===8){var r=e.data;if(r==="$"||r==="$!"||r==="$?"){if(n===0)return e;n--}else r==="/$"&&n++}e=e.previousSibling}return null}function Xp(e,n,r){switch(n=Nu(r),e){case"html":if(e=n.documentElement,!e)throw Error(s(452));return e;case"head":if(e=n.head,!e)throw Error(s(453));return e;case"body":if(e=n.body,!e)throw Error(s(454));return e;default:throw Error(s(451))}}var In=new Map,$p=new Set;function Mu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.ownerDocument}var Vi=tt.d;tt.d={f:WE,r:tT,D:eT,C:nT,L:iT,m:rT,X:aT,S:sT,M:oT};function WE(){var e=Vi.f(),n=bu();return e||n}function tT(e){var n=hi(e);n!==null&&n.tag===5&&n.type==="form"?Sg(n):Vi.r(e)}var ya=typeof document>"u"?null:document;function Zp(e,n,r){var o=ya;if(o&&typeof n=="string"&&n){var c=ee(n);c='link[rel="'+e+'"][href="'+c+'"]',typeof r=="string"&&(c+='[crossorigin="'+r+'"]'),$p.has(c)||($p.add(c),e={rel:e,crossOrigin:r,href:n},o.querySelector(c)===null&&(n=o.createElement("link"),ke(n,"link",e),$t(n),o.head.appendChild(n)))}}function eT(e){Vi.D(e),Zp("dns-prefetch",e,null)}function nT(e,n){Vi.C(e,n),Zp("preconnect",e,n)}function iT(e,n,r){Vi.L(e,n,r);var o=ya;if(o&&e&&n){var c='link[rel="preload"][as="'+ee(n)+'"]';n==="image"&&r&&r.imageSrcSet?(c+='[imagesrcset="'+ee(r.imageSrcSet)+'"]',typeof r.imageSizes=="string"&&(c+='[imagesizes="'+ee(r.imageSizes)+'"]')):c+='[href="'+ee(e)+'"]';var f=c;switch(n){case"style":f=_a(e);break;case"script":f=va(e)}In.has(f)||(e=C({rel:"preload",href:n==="image"&&r&&r.imageSrcSet?void 0:e,as:n},r),In.set(f,e),o.querySelector(c)!==null||n==="style"&&o.querySelector(Go(f))||n==="script"&&o.querySelector(Fo(f))||(n=o.createElement("link"),ke(n,"link",e),$t(n),o.head.appendChild(n)))}}function rT(e,n){Vi.m(e,n);var r=ya;if(r&&e){var o=n&&typeof n.as=="string"?n.as:"script",c='link[rel="modulepreload"][as="'+ee(o)+'"][href="'+ee(e)+'"]',f=c;switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=va(e)}if(!In.has(f)&&(e=C({rel:"modulepreload",href:e},n),In.set(f,e),r.querySelector(c)===null)){switch(o){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(r.querySelector(Fo(f)))return}o=r.createElement("link"),ke(o,"link",e),$t(o),r.head.appendChild(o)}}}function sT(e,n,r){Vi.S(e,n,r);var o=ya;if(o&&e){var c=Wi(o).hoistableStyles,f=_a(e);n=n||"default";var y=c.get(f);if(!y){var E={loading:0,preload:null};if(y=o.querySelector(Go(f)))E.loading=5;else{e=C({rel:"stylesheet",href:e,"data-precedence":n},r),(r=In.get(f))&&If(e,r);var b=y=o.createElement("link");$t(b),ke(b,"link",e),b._p=new Promise(function(O,H){b.onload=O,b.onerror=H}),b.addEventListener("load",function(){E.loading|=1}),b.addEventListener("error",function(){E.loading|=2}),E.loading|=4,Vu(y,n,o)}y={type:"stylesheet",instance:y,count:1,state:E},c.set(f,y)}}}function aT(e,n){Vi.X(e,n);var r=ya;if(r&&e){var o=Wi(r).hoistableScripts,c=va(e),f=o.get(c);f||(f=r.querySelector(Fo(c)),f||(e=C({src:e,async:!0},n),(n=In.get(c))&&Df(e,n),f=r.createElement("script"),$t(f),ke(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function oT(e,n){Vi.M(e,n);var r=ya;if(r&&e){var o=Wi(r).hoistableScripts,c=va(e),f=o.get(c);f||(f=r.querySelector(Fo(c)),f||(e=C({src:e,async:!0,type:"module"},n),(n=In.get(c))&&Df(e,n),f=r.createElement("script"),$t(f),ke(f,"link",e),r.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},o.set(c,f))}}function Jp(e,n,r,o){var c=(c=fn.current)?Mu(c):null;if(!c)throw Error(s(446));switch(e){case"meta":case"title":return null;case"style":return typeof r.precedence=="string"&&typeof r.href=="string"?(n=_a(r.href),r=Wi(c).hoistableStyles,o=r.get(n),o||(o={type:"style",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};case"link":if(r.rel==="stylesheet"&&typeof r.href=="string"&&typeof r.precedence=="string"){e=_a(r.href);var f=Wi(c).hoistableStyles,y=f.get(e);if(y||(c=c.ownerDocument||c,y={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,y),(f=c.querySelector(Go(e)))&&!f._p&&(y.instance=f,y.state.loading=5),In.has(e)||(r={rel:"preload",as:"style",href:r.href,crossOrigin:r.crossOrigin,integrity:r.integrity,media:r.media,hrefLang:r.hrefLang,referrerPolicy:r.referrerPolicy},In.set(e,r),f||lT(c,e,r,y.state))),n&&o===null)throw Error(s(528,""));return y}if(n&&o!==null)throw Error(s(529,""));return null;case"script":return n=r.async,r=r.src,typeof r=="string"&&n&&typeof n!="function"&&typeof n!="symbol"?(n=va(r),r=Wi(c).hoistableScripts,o=r.get(n),o||(o={type:"script",instance:null,count:0,state:null},r.set(n,o)),o):{type:"void",instance:null,count:0,state:null};default:throw Error(s(444,e))}}function _a(e){return'href="'+ee(e)+'"'}function Go(e){return'link[rel="stylesheet"]['+e+"]"}function Wp(e){return C({},e,{"data-precedence":e.precedence,precedence:null})}function lT(e,n,r,o){e.querySelector('link[rel="preload"][as="style"]['+n+"]")?o.loading=1:(n=e.createElement("link"),o.preload=n,n.addEventListener("load",function(){return o.loading|=1}),n.addEventListener("error",function(){return o.loading|=2}),ke(n,"link",r),$t(n),e.head.appendChild(n))}function va(e){return'[src="'+ee(e)+'"]'}function Fo(e){return"script[async]"+e}function ty(e,n,r){if(n.count++,n.instance===null)switch(n.type){case"style":var o=e.querySelector('style[data-href~="'+ee(r.href)+'"]');if(o)return n.instance=o,$t(o),o;var c=C({},r,{"data-href":r.href,"data-precedence":r.precedence,href:null,precedence:null});return o=(e.ownerDocument||e).createElement("style"),$t(o),ke(o,"style",c),Vu(o,r.precedence,e),n.instance=o;case"stylesheet":c=_a(r.href);var f=e.querySelector(Go(c));if(f)return n.state.loading|=4,n.instance=f,$t(f),f;o=Wp(r),(c=In.get(c))&&If(o,c),f=(e.ownerDocument||e).createElement("link"),$t(f);var y=f;return y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ke(f,"link",o),n.state.loading|=4,Vu(f,r.precedence,e),n.instance=f;case"script":return f=va(r.src),(c=e.querySelector(Fo(f)))?(n.instance=c,$t(c),c):(o=r,(c=In.get(f))&&(o=C({},r),Df(o,c)),e=e.ownerDocument||e,c=e.createElement("script"),$t(c),ke(c,"link",o),e.head.appendChild(c),n.instance=c);case"void":return null;default:throw Error(s(443,n.type))}else n.type==="stylesheet"&&!(n.state.loading&4)&&(o=n.instance,n.state.loading|=4,Vu(o,r.precedence,e));return n.instance}function Vu(e,n,r){for(var o=r.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=o.length?o[o.length-1]:null,f=c,y=0;y<o.length;y++){var E=o[y];if(E.dataset.precedence===n)f=E;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(n=r.nodeType===9?r.head:r,n.insertBefore(e,n.firstChild))}function If(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.title==null&&(e.title=n.title)}function Df(e,n){e.crossOrigin==null&&(e.crossOrigin=n.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=n.referrerPolicy),e.integrity==null&&(e.integrity=n.integrity)}var Uu=null;function ey(e,n,r){if(Uu===null){var o=new Map,c=Uu=new Map;c.set(r,o)}else c=Uu,o=c.get(r),o||(o=new Map,c.set(r,o));if(o.has(e))return o;for(o.set(e,null),r=r.getElementsByTagName(e),c=0;c<r.length;c++){var f=r[c];if(!(f[Zi]||f[we]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var y=f.getAttribute(n)||"";y=e+y;var E=o.get(y);E?E.push(f):o.set(y,[f])}}return o}function ny(e,n,r){e=e.ownerDocument||e,e.head.insertBefore(r,n==="title"?e.querySelector("head > title"):null)}function uT(e,n,r){if(r===1||n.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof n.precedence!="string"||typeof n.href!="string"||n.href==="")break;return!0;case"link":if(typeof n.rel!="string"||typeof n.href!="string"||n.href===""||n.onLoad||n.onError)break;switch(n.rel){case"stylesheet":return e=n.disabled,typeof n.precedence=="string"&&e==null;default:return!0}case"script":if(n.async&&typeof n.async!="function"&&typeof n.async!="symbol"&&!n.onLoad&&!n.onError&&n.src&&typeof n.src=="string")return!0}return!1}function iy(e){return!(e.type==="stylesheet"&&!(e.state.loading&3))}var Qo=null;function cT(){}function hT(e,n,r){if(Qo===null)throw Error(s(475));var o=Qo;if(n.type==="stylesheet"&&(typeof r.media!="string"||matchMedia(r.media).matches!==!1)&&!(n.state.loading&4)){if(n.instance===null){var c=_a(r.href),f=e.querySelector(Go(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(o.count++,o=Lu.bind(o),e.then(o,o)),n.state.loading|=4,n.instance=f,$t(f);return}f=e.ownerDocument||e,r=Wp(r),(c=In.get(c))&&If(r,c),f=f.createElement("link"),$t(f);var y=f;y._p=new Promise(function(E,b){y.onload=E,y.onerror=b}),ke(f,"link",r),n.instance=f}o.stylesheets===null&&(o.stylesheets=new Map),o.stylesheets.set(n,e),(e=n.state.preload)&&!(n.state.loading&3)&&(o.count++,n=Lu.bind(o),e.addEventListener("load",n),e.addEventListener("error",n))}}function fT(){if(Qo===null)throw Error(s(475));var e=Qo;return e.stylesheets&&e.count===0&&Of(e,e.stylesheets),0<e.count?function(n){var r=setTimeout(function(){if(e.stylesheets&&Of(e,e.stylesheets),e.unsuspend){var o=e.unsuspend;e.unsuspend=null,o()}},6e4);return e.unsuspend=n,function(){e.unsuspend=null,clearTimeout(r)}}:null}function Lu(){if(this.count--,this.count===0){if(this.stylesheets)Of(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var ku=null;function Of(e,n){e.stylesheets=null,e.unsuspend!==null&&(e.count++,ku=new Map,n.forEach(dT,e),ku=null,Lu.call(e))}function dT(e,n){if(!(n.state.loading&4)){var r=ku.get(e);if(r)var o=r.get(null);else{r=new Map,ku.set(e,r);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var y=c[f];(y.nodeName==="LINK"||y.getAttribute("media")!=="not all")&&(r.set(y.dataset.precedence,y),o=y)}o&&r.set(null,o)}c=n.instance,y=c.getAttribute("data-precedence"),f=r.get(y)||o,f===o&&r.set(null,c),r.set(y,c),this.count++,o=Lu.bind(this),c.addEventListener("load",o),c.addEventListener("error",o),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),n.state.loading|=4}}var Ko={$$typeof:F,Provider:null,Consumer:null,_currentValue:Tt,_currentValue2:Tt,_threadCount:0};function mT(e,n,r,o,c,f,y,E){this.tag=1,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=Us(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Us(0),this.hiddenUpdates=Us(null),this.identifierPrefix=o,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=y,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=E,this.incompleteTransitions=new Map}function ry(e,n,r,o,c,f,y,E,b,O,H,Q){return e=new mT(e,n,r,y,E,b,O,Q),n=1,f===!0&&(n|=24),f=wn(3,null,null,n),e.current=f,f.stateNode=e,n=oh(),n.refCount++,e.pooledCache=n,n.refCount++,f.memoizedState={element:o,isDehydrated:r,cache:n},qh(f),e}function sy(e){return e?(e=Zs,e):Zs}function ay(e,n,r,o,c,f){c=sy(c),o.context===null?o.context=c:o.pendingContext=c,o=fr(n),o.payload={element:r},f=f===void 0?null:f,f!==null&&(o.callback=f),r=dr(e,o,n),r!==null&&(Ze(r,e,n),Oo(r,e,n))}function oy(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var r=e.retryLane;e.retryLane=r!==0&&r<n?r:n}}function Nf(e,n){oy(e,n),(e=e.alternate)&&oy(e,n)}function ly(e){if(e.tag===13){var n=sr(e,67108864);n!==null&&Ze(n,e,67108864),Nf(e,67108864)}}var Pu=!0;function gT(e,n,r,o){var c=A.T;A.T=null;var f=tt.p;try{tt.p=2,Mf(e,n,r,o)}finally{tt.p=f,A.T=c}}function pT(e,n,r,o){var c=A.T;A.T=null;var f=tt.p;try{tt.p=8,Mf(e,n,r,o)}finally{tt.p=f,A.T=c}}function Mf(e,n,r,o){if(Pu){var c=Vf(o);if(c===null)Ef(e,n,o,xu,r),cy(e,o);else if(_T(c,e,n,r,o))o.stopPropagation();else if(cy(e,o),n&4&&-1<yT.indexOf(e)){for(;c!==null;){var f=hi(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var y=On(f.pendingLanes);if(y!==0){var E=f;for(E.pendingLanes|=2,E.entangledLanes|=2;y;){var b=1<<31-Ke(y);E.entanglements[1]|=b,y&=~b}Wn(f),!(Jt&6)&&(Tu=We()+500,qo(0))}}break;case 13:E=sr(f,2),E!==null&&Ze(E,f,2),bu(),Nf(f,2)}if(f=Vf(o),f===null&&Ef(e,n,o,xu,r),f===c)break;c=f}c!==null&&o.stopPropagation()}else Ef(e,n,o,null,r)}}function Vf(e){return e=zs(e),Uf(e)}var xu=null;function Uf(e){if(xu=null,e=Nn(e),e!==null){var n=ot(e);if(n===null)e=null;else{var r=n.tag;if(r===13){if(e=Ht(n),e!==null)return e;e=null}else if(r===3){if(n.stateNode.current.memoizedState.isDehydrated)return n.tag===3?n.stateNode.containerInfo:null;e=null}else n!==e&&(e=null)}}return xu=e,null}function uy(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Sl()){case ye:return 2;case Re:return 8;case ui:case bl:return 32;case Ya:return 268435456;default:return 32}default:return 32}}var Lf=!1,Er=null,Tr=null,Ar=null,Yo=new Map,Xo=new Map,Sr=[],yT="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function cy(e,n){switch(e){case"focusin":case"focusout":Er=null;break;case"dragenter":case"dragleave":Tr=null;break;case"mouseover":case"mouseout":Ar=null;break;case"pointerover":case"pointerout":Yo.delete(n.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xo.delete(n.pointerId)}}function $o(e,n,r,o,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:n,domEventName:r,eventSystemFlags:o,nativeEvent:f,targetContainers:[c]},n!==null&&(n=hi(n),n!==null&&ly(n)),e):(e.eventSystemFlags|=o,n=e.targetContainers,c!==null&&n.indexOf(c)===-1&&n.push(c),e)}function _T(e,n,r,o,c){switch(n){case"focusin":return Er=$o(Er,e,n,r,o,c),!0;case"dragenter":return Tr=$o(Tr,e,n,r,o,c),!0;case"mouseover":return Ar=$o(Ar,e,n,r,o,c),!0;case"pointerover":var f=c.pointerId;return Yo.set(f,$o(Yo.get(f)||null,e,n,r,o,c)),!0;case"gotpointercapture":return f=c.pointerId,Xo.set(f,$o(Xo.get(f)||null,e,n,r,o,c)),!0}return!1}function hy(e){var n=Nn(e.target);if(n!==null){var r=ot(n);if(r!==null){if(n=r.tag,n===13){if(n=Ht(r),n!==null){e.blockedOn=n,$i(e.priority,function(){if(r.tag===13){var o=hn(),c=sr(r,o);c!==null&&Ze(c,r,o),Nf(r,o)}});return}}else if(n===3&&r.stateNode.current.memoizedState.isDehydrated){e.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zu(e){if(e.blockedOn!==null)return!1;for(var n=e.targetContainers;0<n.length;){var r=Vf(e.nativeEvent);if(r===null){r=e.nativeEvent;var o=new r.constructor(r.type,r);pn=o,r.target.dispatchEvent(o),pn=null}else return n=hi(r),n!==null&&ly(n),e.blockedOn=r,!1;n.shift()}return!0}function fy(e,n,r){zu(e)&&r.delete(n)}function vT(){Lf=!1,Er!==null&&zu(Er)&&(Er=null),Tr!==null&&zu(Tr)&&(Tr=null),Ar!==null&&zu(Ar)&&(Ar=null),Yo.forEach(fy),Xo.forEach(fy)}function Bu(e,n){e.blockedOn===n&&(e.blockedOn=null,Lf||(Lf=!0,a.unstable_scheduleCallback(a.unstable_NormalPriority,vT)))}var qu=null;function dy(e){qu!==e&&(qu=e,a.unstable_scheduleCallback(a.unstable_NormalPriority,function(){qu===e&&(qu=null);for(var n=0;n<e.length;n+=3){var r=e[n],o=e[n+1],c=e[n+2];if(typeof o!="function"){if(Uf(o||r)===null)continue;break}var f=hi(r);f!==null&&(e.splice(n,3),n-=3,Sh(f,{pending:!0,data:c,method:r.method,action:o},o,c))}}))}function Zo(e){function n(b){return Bu(b,e)}Er!==null&&Bu(Er,e),Tr!==null&&Bu(Tr,e),Ar!==null&&Bu(Ar,e),Yo.forEach(n),Xo.forEach(n);for(var r=0;r<Sr.length;r++){var o=Sr[r];o.blockedOn===e&&(o.blockedOn=null)}for(;0<Sr.length&&(r=Sr[0],r.blockedOn===null);)hy(r),r.blockedOn===null&&Sr.shift();if(r=(e.ownerDocument||e).$$reactFormReplay,r!=null)for(o=0;o<r.length;o+=3){var c=r[o],f=r[o+1],y=c[_e]||null;if(typeof f=="function")y||dy(r);else if(y){var E=null;if(f&&f.hasAttribute("formAction")){if(c=f,y=f[_e]||null)E=y.formAction;else if(Uf(c)!==null)continue}else E=y.action;typeof E=="function"?r[o+1]=E:(r.splice(o,3),o-=3),dy(r)}}}function kf(e){this._internalRoot=e}Hu.prototype.render=kf.prototype.render=function(e){var n=this._internalRoot;if(n===null)throw Error(s(409));var r=n.current,o=hn();ay(r,o,e,n,null,null)},Hu.prototype.unmount=kf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var n=e.containerInfo;e.tag===0&&ma(),ay(e.current,2,null,e,null,null),bu(),n[ci]=null}};function Hu(e){this._internalRoot=e}Hu.prototype.unstable_scheduleHydration=function(e){if(e){var n=Dl();e={blockedOn:null,target:e,priority:n};for(var r=0;r<Sr.length&&n!==0&&n<Sr[r].priority;r++);Sr.splice(r,0,e),r===0&&hy(e)}};var my=t.version;if(my!=="19.0.0")throw Error(s(527,my,"19.0.0"));tt.findDOMNode=function(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(s(188)):(e=Object.keys(e).join(","),Error(s(268,e)));return e=K(n),e=e!==null?st(e):null,e=e===null?null:e.stateNode,e};var ET={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:A,findFiberByHostInstance:Nn,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ju=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ju.isDisabled&&ju.supportsFiber)try{Gi=ju.inject(ET),ze=ju}catch{}}return Wo.createRoot=function(e,n){if(!l(e))throw Error(s(299));var r=!1,o="",c=Ng,f=Mg,y=Vg,E=null;return n!=null&&(n.unstable_strictMode===!0&&(r=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onUncaughtError!==void 0&&(c=n.onUncaughtError),n.onCaughtError!==void 0&&(f=n.onCaughtError),n.onRecoverableError!==void 0&&(y=n.onRecoverableError),n.unstable_transitionCallbacks!==void 0&&(E=n.unstable_transitionCallbacks)),n=ry(e,1,!1,null,null,r,o,c,f,y,E,null),e[ci]=n.current,vf(e.nodeType===8?e.parentNode:e),new kf(n)},Wo.hydrateRoot=function(e,n,r){if(!l(e))throw Error(s(299));var o=!1,c="",f=Ng,y=Mg,E=Vg,b=null,O=null;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onUncaughtError!==void 0&&(f=r.onUncaughtError),r.onCaughtError!==void 0&&(y=r.onCaughtError),r.onRecoverableError!==void 0&&(E=r.onRecoverableError),r.unstable_transitionCallbacks!==void 0&&(b=r.unstable_transitionCallbacks),r.formState!==void 0&&(O=r.formState)),n=ry(e,1,!0,n,r??null,o,c,f,y,E,b,O),n.context=sy(null),r=n.current,o=hn(),c=fr(o),c.callback=null,dr(r,c,o),n.current.lanes=o,ae(n,o),Wn(n),e[ci]=n.current,vf(e),new Hu(n)},Wo.version="19.0.0",Wo}var by;function NT(){if(by)return zf.exports;by=1;function a(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a)}catch(t){console.error(t)}}return a(),zf.exports=OT(),zf.exports}var MT=NT(),Ry={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_=function(a){const t=[];let i=0;for(let s=0;s<a.length;s++){let l=a.charCodeAt(s);l<128?t[i++]=l:l<2048?(t[i++]=l>>6|192,t[i++]=l&63|128):(l&64512)===55296&&s+1<a.length&&(a.charCodeAt(s+1)&64512)===56320?(l=65536+((l&1023)<<10)+(a.charCodeAt(++s)&1023),t[i++]=l>>18|240,t[i++]=l>>12&63|128,t[i++]=l>>6&63|128,t[i++]=l&63|128):(t[i++]=l>>12|224,t[i++]=l>>6&63|128,t[i++]=l&63|128)}return t},VT=function(a){const t=[];let i=0,s=0;for(;i<a.length;){const l=a[i++];if(l<128)t[s++]=String.fromCharCode(l);else if(l>191&&l<224){const h=a[i++];t[s++]=String.fromCharCode((l&31)<<6|h&63)}else if(l>239&&l<365){const h=a[i++],d=a[i++],g=a[i++],_=((l&7)<<18|(h&63)<<12|(d&63)<<6|g&63)-65536;t[s++]=String.fromCharCode(55296+(_>>10)),t[s++]=String.fromCharCode(56320+(_&1023))}else{const h=a[i++],d=a[i++];t[s++]=String.fromCharCode((l&15)<<12|(h&63)<<6|d&63)}}return t.join("")},W_={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(a,t){if(!Array.isArray(a))throw Error("encodeByteArray takes an array as a parameter");this.init_();const i=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let l=0;l<a.length;l+=3){const h=a[l],d=l+1<a.length,g=d?a[l+1]:0,_=l+2<a.length,v=_?a[l+2]:0,S=h>>2,V=(h&3)<<4|g>>4;let z=(g&15)<<2|v>>6,F=v&63;_||(F=64,d||(z=64)),s.push(i[S],i[V],i[z],i[F])}return s.join("")},encodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(a):this.encodeByteArray(J_(a),t)},decodeString(a,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(a):VT(this.decodeStringToByteArray(a,t))},decodeStringToByteArray(a,t){this.init_();const i=t?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let l=0;l<a.length;){const h=i[a.charAt(l++)],g=l<a.length?i[a.charAt(l)]:0;++l;const v=l<a.length?i[a.charAt(l)]:64;++l;const V=l<a.length?i[a.charAt(l)]:64;if(++l,h==null||g==null||v==null||V==null)throw new UT;const z=h<<2|g>>4;if(s.push(z),v!==64){const F=g<<4&240|v>>2;if(s.push(F),V!==64){const $=v<<6&192|V;s.push($)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let a=0;a<this.ENCODED_VALS.length;a++)this.byteToCharMap_[a]=this.ENCODED_VALS.charAt(a),this.charToByteMap_[this.byteToCharMap_[a]]=a,this.byteToCharMapWebSafe_[a]=this.ENCODED_VALS_WEBSAFE.charAt(a),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[a]]=a,a>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(a)]=a,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(a)]=a)}}};class UT extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const LT=function(a){const t=J_(a);return W_.encodeByteArray(t,!0)},ac=function(a){return LT(a).replace(/\./g,"")},tv=function(a){try{return W_.decodeString(a,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kT(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PT=()=>kT().__FIREBASE_DEFAULTS__,xT=()=>{if(typeof process>"u"||typeof Ry>"u")return;const a=Ry.__FIREBASE_DEFAULTS__;if(a)return JSON.parse(a)},zT=()=>{if(typeof document>"u")return;let a;try{a=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=a&&tv(a[1]);return t&&JSON.parse(t)},Ac=()=>{try{return PT()||xT()||zT()}catch(a){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${a}`);return}},ev=a=>{var t,i;return(i=(t=Ac())===null||t===void 0?void 0:t.emulatorHosts)===null||i===void 0?void 0:i[a]},BT=a=>{const t=ev(a);if(!t)return;const i=t.lastIndexOf(":");if(i<=0||i+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const s=parseInt(t.substring(i+1),10);return t[0]==="["?[t.substring(1,i-1),s]:[t.substring(0,i),s]},nv=()=>{var a;return(a=Ac())===null||a===void 0?void 0:a.config},iv=a=>{var t;return(t=Ac())===null||t===void 0?void 0:t[`_${a}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}wrapCallback(t){return(i,s)=>{i?this.reject(i):this.resolve(s),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(i):t(i,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HT(a,t){if(a.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const i={alg:"none",type:"JWT"},s=t||"demo-project",l=a.iat||0,h=a.sub||a.user_id;if(!h)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const d=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:l,exp:l+3600,auth_time:l,sub:h,user_id:h,firebase:{sign_in_provider:"custom",identities:{}}},a);return[ac(JSON.stringify(i)),ac(JSON.stringify(d)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fe(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function jT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Fe())}function GT(){var a;const t=(a=Ac())===null||a===void 0?void 0:a.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function FT(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function QT(){const a=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof a=="object"&&a.id!==void 0}function KT(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function YT(){const a=Fe();return a.indexOf("MSIE ")>=0||a.indexOf("Trident/")>=0}function XT(){return!GT()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function $T(){try{return typeof indexedDB=="object"}catch{return!1}}function ZT(){return new Promise((a,t)=>{try{let i=!0;const s="validate-browser-context-for-indexeddb-analytics-module",l=self.indexedDB.open(s);l.onsuccess=()=>{l.result.close(),i||self.indexedDB.deleteDatabase(s),a(!0)},l.onupgradeneeded=()=>{i=!1},l.onerror=()=>{var h;t(((h=l.error)===null||h===void 0?void 0:h.message)||"")}}catch(i){t(i)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT="FirebaseError";class qi extends Error{constructor(t,i,s){super(i),this.code=t,this.customData=s,this.name=JT,Object.setPrototypeOf(this,qi.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ml.prototype.create)}}class ml{constructor(t,i,s){this.service=t,this.serviceName=i,this.errors=s}create(t,...i){const s=i[0]||{},l=`${this.service}/${t}`,h=this.errors[t],d=h?WT(h,s):"Error",g=`${this.serviceName}: ${d} (${l}).`;return new qi(l,g,s)}}function WT(a,t){return a.replace(tA,(i,s)=>{const l=t[s];return l!=null?String(l):`<${s}?>`})}const tA=/\{\$([^}]+)}/g;function eA(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}function oc(a,t){if(a===t)return!0;const i=Object.keys(a),s=Object.keys(t);for(const l of i){if(!s.includes(l))return!1;const h=a[l],d=t[l];if(wy(h)&&wy(d)){if(!oc(h,d))return!1}else if(h!==d)return!1}for(const l of s)if(!i.includes(l))return!1;return!0}function wy(a){return a!==null&&typeof a=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(a){const t=[];for(const[i,s]of Object.entries(a))Array.isArray(s)?s.forEach(l=>{t.push(encodeURIComponent(i)+"="+encodeURIComponent(l))}):t.push(encodeURIComponent(i)+"="+encodeURIComponent(s));return t.length?"&"+t.join("&"):""}function nA(a,t){const i=new iA(a,t);return i.subscribe.bind(i)}class iA{constructor(t,i){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=i,this.task.then(()=>{t(this)}).catch(s=>{this.error(s)})}next(t){this.forEachObserver(i=>{i.next(t)})}error(t){this.forEachObserver(i=>{i.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,i,s){let l;if(t===void 0&&i===void 0&&s===void 0)throw new Error("Missing Observer.");rA(t,["next","error","complete"])?l=t:l={next:t,error:i,complete:s},l.next===void 0&&(l.next=jf),l.error===void 0&&(l.error=jf),l.complete===void 0&&(l.complete=jf);const h=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?l.error(this.finalError):l.complete()}catch{}}),this.observers.push(l),h}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let i=0;i<this.observers.length;i++)this.sendOne(i,t)}sendOne(t,i){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{i(this.observers[t])}catch(s){typeof console<"u"&&console.error&&console.error(s)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function rA(a,t){if(typeof a!="object"||a===null)return!1;for(const i of t)if(i in a&&typeof a[i]=="function")return!0;return!1}function jf(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Is(a){return a&&a._delegate?a._delegate:a}class Rs{constructor(t,i,s){this.name=t,this.instanceFactory=i,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sA{constructor(t,i){this.name=t,this.container=i,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const i=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(i)){const s=new qT;if(this.instancesDeferred.set(i,s),this.isInitialized(i)||this.shouldAutoInitialize())try{const l=this.getOrInitializeService({instanceIdentifier:i});l&&s.resolve(l)}catch{}}return this.instancesDeferred.get(i).promise}getImmediate(t){var i;const s=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),l=(i=t==null?void 0:t.optional)!==null&&i!==void 0?i:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(h){if(l)return null;throw h}else{if(l)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(oA(t))try{this.getOrInitializeService({instanceIdentifier:vs})}catch{}for(const[i,s]of this.instancesDeferred.entries()){const l=this.normalizeInstanceIdentifier(i);try{const h=this.getOrInitializeService({instanceIdentifier:l});s.resolve(h)}catch{}}}}clearInstance(t=vs){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(i=>"INTERNAL"in i).map(i=>i.INTERNAL.delete()),...t.filter(i=>"_delete"in i).map(i=>i._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=vs){return this.instances.has(t)}getOptions(t=vs){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:i={}}=t,s=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const l=this.getOrInitializeService({instanceIdentifier:s,options:i});for(const[h,d]of this.instancesDeferred.entries()){const g=this.normalizeInstanceIdentifier(h);s===g&&d.resolve(l)}return l}onInit(t,i){var s;const l=this.normalizeInstanceIdentifier(i),h=(s=this.onInitCallbacks.get(l))!==null&&s!==void 0?s:new Set;h.add(t),this.onInitCallbacks.set(l,h);const d=this.instances.get(l);return d&&t(d,l),()=>{h.delete(t)}}invokeOnInitCallbacks(t,i){const s=this.onInitCallbacks.get(i);if(s)for(const l of s)try{l(t,i)}catch{}}getOrInitializeService({instanceIdentifier:t,options:i={}}){let s=this.instances.get(t);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:aA(t),options:i}),this.instances.set(t,s),this.instancesOptions.set(t,i),this.invokeOnInitCallbacks(s,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,s)}catch{}return s||null}normalizeInstanceIdentifier(t=vs){return this.component?this.component.multipleInstances?t:vs:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function aA(a){return a===vs?void 0:a}function oA(a){return a.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lA{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const i=this.getProvider(t.name);if(i.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);i.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const i=new sA(t,this);return this.providers.set(t,i),i}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ct;(function(a){a[a.DEBUG=0]="DEBUG",a[a.VERBOSE=1]="VERBOSE",a[a.INFO=2]="INFO",a[a.WARN=3]="WARN",a[a.ERROR=4]="ERROR",a[a.SILENT=5]="SILENT"})(Ct||(Ct={}));const uA={debug:Ct.DEBUG,verbose:Ct.VERBOSE,info:Ct.INFO,warn:Ct.WARN,error:Ct.ERROR,silent:Ct.SILENT},cA=Ct.INFO,hA={[Ct.DEBUG]:"log",[Ct.VERBOSE]:"log",[Ct.INFO]:"info",[Ct.WARN]:"warn",[Ct.ERROR]:"error"},fA=(a,t,...i)=>{if(t<a.logLevel)return;const s=new Date().toISOString(),l=hA[t];if(l)console[l](`[${s}]  ${a.name}:`,...i);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Vd{constructor(t){this.name=t,this._logLevel=cA,this._logHandler=fA,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Ct))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?uA[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Ct.DEBUG,...t),this._logHandler(this,Ct.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Ct.VERBOSE,...t),this._logHandler(this,Ct.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Ct.INFO,...t),this._logHandler(this,Ct.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Ct.WARN,...t),this._logHandler(this,Ct.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Ct.ERROR,...t),this._logHandler(this,Ct.ERROR,...t)}}const dA=(a,t)=>t.some(i=>a instanceof i);let Cy,Iy;function mA(){return Cy||(Cy=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function gA(){return Iy||(Iy=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const rv=new WeakMap,rd=new WeakMap,sv=new WeakMap,Gf=new WeakMap,Ud=new WeakMap;function pA(a){const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("success",h),a.removeEventListener("error",d)},h=()=>{i(Nr(a.result)),l()},d=()=>{s(a.error),l()};a.addEventListener("success",h),a.addEventListener("error",d)});return t.then(i=>{i instanceof IDBCursor&&rv.set(i,a)}).catch(()=>{}),Ud.set(t,a),t}function yA(a){if(rd.has(a))return;const t=new Promise((i,s)=>{const l=()=>{a.removeEventListener("complete",h),a.removeEventListener("error",d),a.removeEventListener("abort",d)},h=()=>{i(),l()},d=()=>{s(a.error||new DOMException("AbortError","AbortError")),l()};a.addEventListener("complete",h),a.addEventListener("error",d),a.addEventListener("abort",d)});rd.set(a,t)}let sd={get(a,t,i){if(a instanceof IDBTransaction){if(t==="done")return rd.get(a);if(t==="objectStoreNames")return a.objectStoreNames||sv.get(a);if(t==="store")return i.objectStoreNames[1]?void 0:i.objectStore(i.objectStoreNames[0])}return Nr(a[t])},set(a,t,i){return a[t]=i,!0},has(a,t){return a instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in a}};function _A(a){sd=a(sd)}function vA(a){return a===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...i){const s=a.call(Ff(this),t,...i);return sv.set(s,t.sort?t.sort():[t]),Nr(s)}:gA().includes(a)?function(...t){return a.apply(Ff(this),t),Nr(rv.get(this))}:function(...t){return Nr(a.apply(Ff(this),t))}}function EA(a){return typeof a=="function"?vA(a):(a instanceof IDBTransaction&&yA(a),dA(a,mA())?new Proxy(a,sd):a)}function Nr(a){if(a instanceof IDBRequest)return pA(a);if(Gf.has(a))return Gf.get(a);const t=EA(a);return t!==a&&(Gf.set(a,t),Ud.set(t,a)),t}const Ff=a=>Ud.get(a);function TA(a,t,{blocked:i,upgrade:s,blocking:l,terminated:h}={}){const d=indexedDB.open(a,t),g=Nr(d);return s&&d.addEventListener("upgradeneeded",_=>{s(Nr(d.result),_.oldVersion,_.newVersion,Nr(d.transaction),_)}),i&&d.addEventListener("blocked",_=>i(_.oldVersion,_.newVersion,_)),g.then(_=>{h&&_.addEventListener("close",()=>h()),l&&_.addEventListener("versionchange",v=>l(v.oldVersion,v.newVersion,v))}).catch(()=>{}),g}const AA=["get","getKey","getAll","getAllKeys","count"],SA=["put","add","delete","clear"],Qf=new Map;function Dy(a,t){if(!(a instanceof IDBDatabase&&!(t in a)&&typeof t=="string"))return;if(Qf.get(t))return Qf.get(t);const i=t.replace(/FromIndex$/,""),s=t!==i,l=SA.includes(i);if(!(i in(s?IDBIndex:IDBObjectStore).prototype)||!(l||AA.includes(i)))return;const h=async function(d,...g){const _=this.transaction(d,l?"readwrite":"readonly");let v=_.store;return s&&(v=v.index(g.shift())),(await Promise.all([v[i](...g),l&&_.done]))[0]};return Qf.set(t,h),h}_A(a=>({...a,get:(t,i,s)=>Dy(t,i)||a.get(t,i,s),has:(t,i)=>!!Dy(t,i)||a.has(t,i)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bA{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(i=>{if(RA(i)){const s=i.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(i=>i).join(" ")}}function RA(a){const t=a.getComponent();return(t==null?void 0:t.type)==="VERSION"}const ad="@firebase/app",Oy="0.11.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xi=new Vd("@firebase/app"),wA="@firebase/app-compat",CA="@firebase/analytics-compat",IA="@firebase/analytics",DA="@firebase/app-check-compat",OA="@firebase/app-check",NA="@firebase/auth",MA="@firebase/auth-compat",VA="@firebase/database",UA="@firebase/data-connect",LA="@firebase/database-compat",kA="@firebase/functions",PA="@firebase/functions-compat",xA="@firebase/installations",zA="@firebase/installations-compat",BA="@firebase/messaging",qA="@firebase/messaging-compat",HA="@firebase/performance",jA="@firebase/performance-compat",GA="@firebase/remote-config",FA="@firebase/remote-config-compat",QA="@firebase/storage",KA="@firebase/storage-compat",YA="@firebase/firestore",XA="@firebase/vertexai",$A="@firebase/firestore-compat",ZA="firebase",JA="11.3.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const od="[DEFAULT]",WA={[ad]:"fire-core",[wA]:"fire-core-compat",[IA]:"fire-analytics",[CA]:"fire-analytics-compat",[OA]:"fire-app-check",[DA]:"fire-app-check-compat",[NA]:"fire-auth",[MA]:"fire-auth-compat",[VA]:"fire-rtdb",[UA]:"fire-data-connect",[LA]:"fire-rtdb-compat",[kA]:"fire-fn",[PA]:"fire-fn-compat",[xA]:"fire-iid",[zA]:"fire-iid-compat",[BA]:"fire-fcm",[qA]:"fire-fcm-compat",[HA]:"fire-perf",[jA]:"fire-perf-compat",[GA]:"fire-rc",[FA]:"fire-rc-compat",[QA]:"fire-gcs",[KA]:"fire-gcs-compat",[YA]:"fire-fst",[$A]:"fire-fst-compat",[XA]:"fire-vertex","fire-js":"fire-js",[ZA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lc=new Map,tS=new Map,ld=new Map;function Ny(a,t){try{a.container.addComponent(t)}catch(i){xi.debug(`Component ${t.name} failed to register with FirebaseApp ${a.name}`,i)}}function Na(a){const t=a.name;if(ld.has(t))return xi.debug(`There were multiple attempts to register component ${t}.`),!1;ld.set(t,a);for(const i of lc.values())Ny(i,a);for(const i of tS.values())Ny(i,a);return!0}function Ld(a,t){const i=a.container.getProvider("heartbeat").getImmediate({optional:!0});return i&&i.triggerHeartbeat(),a.container.getProvider(t)}function kn(a){return a==null?!1:a.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eS={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mr=new ml("app","Firebase",eS);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nS{constructor(t,i,s){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},i),this._name=i.name,this._automaticDataCollectionEnabled=i.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new Rs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw Mr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ba=JA;function av(a,t={}){let i=a;typeof t!="object"&&(t={name:t});const s=Object.assign({name:od,automaticDataCollectionEnabled:!1},t),l=s.name;if(typeof l!="string"||!l)throw Mr.create("bad-app-name",{appName:String(l)});if(i||(i=nv()),!i)throw Mr.create("no-options");const h=lc.get(l);if(h){if(oc(i,h.options)&&oc(s,h.config))return h;throw Mr.create("duplicate-app",{appName:l})}const d=new lA(l);for(const _ of ld.values())d.addComponent(_);const g=new nS(i,s,d);return lc.set(l,g),g}function ov(a=od){const t=lc.get(a);if(!t&&a===od&&nv())return av();if(!t)throw Mr.create("no-app",{appName:a});return t}function Vr(a,t,i){var s;let l=(s=WA[a])!==null&&s!==void 0?s:a;i&&(l+=`-${i}`);const h=l.match(/\s|\//),d=t.match(/\s|\//);if(h||d){const g=[`Unable to register library "${l}" with version "${t}":`];h&&g.push(`library name "${l}" contains illegal characters (whitespace or "/")`),h&&d&&g.push("and"),d&&g.push(`version name "${t}" contains illegal characters (whitespace or "/")`),xi.warn(g.join(" "));return}Na(new Rs(`${l}-version`,()=>({library:l,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iS="firebase-heartbeat-database",rS=1,ll="firebase-heartbeat-store";let Kf=null;function lv(){return Kf||(Kf=TA(iS,rS,{upgrade:(a,t)=>{switch(t){case 0:try{a.createObjectStore(ll)}catch(i){console.warn(i)}}}}).catch(a=>{throw Mr.create("idb-open",{originalErrorMessage:a.message})})),Kf}async function sS(a){try{const i=(await lv()).transaction(ll),s=await i.objectStore(ll).get(uv(a));return await i.done,s}catch(t){if(t instanceof qi)xi.warn(t.message);else{const i=Mr.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});xi.warn(i.message)}}}async function My(a,t){try{const s=(await lv()).transaction(ll,"readwrite");await s.objectStore(ll).put(t,uv(a)),await s.done}catch(i){if(i instanceof qi)xi.warn(i.message);else{const s=Mr.create("idb-set",{originalErrorMessage:i==null?void 0:i.message});xi.warn(s.message)}}}function uv(a){return`${a.name}!${a.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aS=1024,oS=30;class lS{constructor(t){this.container=t,this._heartbeatsCache=null;const i=this.container.getProvider("app").getImmediate();this._storage=new cS(i),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var t,i;try{const l=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),h=Vy();if(((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((i=this._heartbeatsCache)===null||i===void 0?void 0:i.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===h||this._heartbeatsCache.heartbeats.some(d=>d.date===h))return;if(this._heartbeatsCache.heartbeats.push({date:h,agent:l}),this._heartbeatsCache.heartbeats.length>oS){const d=hS(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(d,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(s){xi.warn(s)}}async getHeartbeatsHeader(){var t;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const i=Vy(),{heartbeatsToSend:s,unsentEntries:l}=uS(this._heartbeatsCache.heartbeats),h=ac(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=i,l.length>0?(this._heartbeatsCache.heartbeats=l,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),h}catch(i){return xi.warn(i),""}}}function Vy(){return new Date().toISOString().substring(0,10)}function uS(a,t=aS){const i=[];let s=a.slice();for(const l of a){const h=i.find(d=>d.agent===l.agent);if(h){if(h.dates.push(l.date),Uy(i)>t){h.dates.pop();break}}else if(i.push({agent:l.agent,dates:[l.date]}),Uy(i)>t){i.pop();break}s=s.slice(1)}return{heartbeatsToSend:i,unsentEntries:s}}class cS{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return $T()?ZT().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const i=await sS(this.app);return i!=null&&i.heartbeats?i:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return My(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var i;if(await this._canUseIndexedDBPromise){const l=await this.read();return My(this.app,{lastSentHeartbeatDate:(i=t.lastSentHeartbeatDate)!==null&&i!==void 0?i:l.lastSentHeartbeatDate,heartbeats:[...l.heartbeats,...t.heartbeats]})}else return}}function Uy(a){return ac(JSON.stringify({version:2,heartbeats:a})).length}function hS(a){if(a.length===0)return-1;let t=0,i=a[0].date;for(let s=1;s<a.length;s++)a[s].date<i&&(i=a[s].date,t=s);return t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fS(a){Na(new Rs("platform-logger",t=>new bA(t),"PRIVATE")),Na(new Rs("heartbeat",t=>new lS(t),"PRIVATE")),Vr(ad,Oy,a),Vr(ad,Oy,"esm2017"),Vr("fire-js","")}fS("");var dS="firebase",mS="11.3.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Vr(dS,mS,"app");function kd(a,t){var i={};for(var s in a)Object.prototype.hasOwnProperty.call(a,s)&&t.indexOf(s)<0&&(i[s]=a[s]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,s=Object.getOwnPropertySymbols(a);l<s.length;l++)t.indexOf(s[l])<0&&Object.prototype.propertyIsEnumerable.call(a,s[l])&&(i[s[l]]=a[s[l]]);return i}function cv(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const gS=cv,hv=new ml("auth","Firebase",cv());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uc=new Vd("@firebase/auth");function pS(a,...t){uc.logLevel<=Ct.WARN&&uc.warn(`Auth (${Ba}): ${a}`,...t)}function Zu(a,...t){uc.logLevel<=Ct.ERROR&&uc.error(`Auth (${Ba}): ${a}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ri(a,...t){throw xd(a,...t)}function Pn(a,...t){return xd(a,...t)}function Pd(a,t,i){const s=Object.assign(Object.assign({},gS()),{[t]:i});return new ml("auth","Firebase",s).create(t,{appName:a.name})}function As(a){return Pd(a,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function yS(a,t,i){const s=i;if(!(t instanceof s))throw s.name!==t.constructor.name&&ri(a,"argument-error"),Pd(a,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function xd(a,...t){if(typeof a!="string"){const i=t[0],s=[...t.slice(1)];return s[0]&&(s[0].appName=a.name),a._errorFactory.create(i,...s)}return hv.create(a,...t)}function ft(a,t,...i){if(!a)throw xd(t,...i)}function Li(a){const t="INTERNAL ASSERTION FAILED: "+a;throw Zu(t),new Error(t)}function zi(a,t){a||Li(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ud(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.href)||""}function _S(){return Ly()==="http:"||Ly()==="https:"}function Ly(){var a;return typeof self<"u"&&((a=self.location)===null||a===void 0?void 0:a.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vS(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(_S()||QT()||"connection"in navigator)?navigator.onLine:!0}function ES(){if(typeof navigator>"u")return null;const a=navigator;return a.languages&&a.languages[0]||a.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(t,i){this.shortDelay=t,this.longDelay=i,zi(i>t,"Short delay should be less than long delay!"),this.isMobile=jT()||KT()}get(){return vS()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd(a,t){zi(a.emulator,"Emulator should always be set here");const{url:i}=a.emulator;return t?`${i}${t.startsWith("/")?t.slice(1):t}`:i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fv{static initialize(t,i,s){this.fetchImpl=t,i&&(this.headersImpl=i),s&&(this.responseImpl=s)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Li("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Li("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Li("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AS=new pl(3e4,6e4);function Bd(a,t){return a.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:a.tenantId}):t}async function qa(a,t,i,s,l={}){return dv(a,l,async()=>{let h={},d={};s&&(t==="GET"?d=s:h={body:JSON.stringify(s)});const g=gl(Object.assign({key:a.config.apiKey},d)).slice(1),_=await a._getAdditionalHeaders();_["Content-Type"]="application/json",a.languageCode&&(_["X-Firebase-Locale"]=a.languageCode);const v=Object.assign({method:t,headers:_},h);return FT()||(v.referrerPolicy="no-referrer"),fv.fetch()(mv(a,a.config.apiHost,i,g),v)})}async function dv(a,t,i){a._canInitEmulator=!1;const s=Object.assign(Object.assign({},TS),t);try{const l=new bS(a),h=await Promise.race([i(),l.promise]);l.clearNetworkTimeout();const d=await h.json();if("needConfirmation"in d)throw Gu(a,"account-exists-with-different-credential",d);if(h.ok&&!("errorMessage"in d))return d;{const g=h.ok?d.errorMessage:d.error.message,[_,v]=g.split(" : ");if(_==="FEDERATED_USER_ID_ALREADY_LINKED")throw Gu(a,"credential-already-in-use",d);if(_==="EMAIL_EXISTS")throw Gu(a,"email-already-in-use",d);if(_==="USER_DISABLED")throw Gu(a,"user-disabled",d);const S=s[_]||_.toLowerCase().replace(/[_\s]+/g,"-");if(v)throw Pd(a,S,v);ri(a,S)}}catch(l){if(l instanceof qi)throw l;ri(a,"network-request-failed",{message:String(l)})}}async function SS(a,t,i,s,l={}){const h=await qa(a,t,i,s,l);return"mfaPendingCredential"in h&&ri(a,"multi-factor-auth-required",{_serverResponse:h}),h}function mv(a,t,i,s){const l=`${t}${i}?${s}`;return a.config.emulator?zd(a.config,l):`${a.config.apiScheme}://${l}`}class bS{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((i,s)=>{this.timer=setTimeout(()=>s(Pn(this.auth,"network-request-failed")),AS.get())})}}function Gu(a,t,i){const s={appName:a.name};i.email&&(s.email=i.email),i.phoneNumber&&(s.phoneNumber=i.phoneNumber);const l=Pn(a,t,s);return l.customData._tokenResponse=i,l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function RS(a,t){return qa(a,"POST","/v1/accounts:delete",t)}async function gv(a,t){return qa(a,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function il(a){if(a)try{const t=new Date(Number(a));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function wS(a,t=!1){const i=Is(a),s=await i.getIdToken(t),l=qd(s);ft(l&&l.exp&&l.auth_time&&l.iat,i.auth,"internal-error");const h=typeof l.firebase=="object"?l.firebase:void 0,d=h==null?void 0:h.sign_in_provider;return{claims:l,token:s,authTime:il(Yf(l.auth_time)),issuedAtTime:il(Yf(l.iat)),expirationTime:il(Yf(l.exp)),signInProvider:d||null,signInSecondFactor:(h==null?void 0:h.sign_in_second_factor)||null}}function Yf(a){return Number(a)*1e3}function qd(a){const[t,i,s]=a.split(".");if(t===void 0||i===void 0||s===void 0)return Zu("JWT malformed, contained fewer than 3 sections"),null;try{const l=tv(i);return l?JSON.parse(l):(Zu("Failed to decode base64 JWT payload"),null)}catch(l){return Zu("Caught error parsing JWT payload as JSON",l==null?void 0:l.toString()),null}}function ky(a){const t=qd(a);return ft(t,"internal-error"),ft(typeof t.exp<"u","internal-error"),ft(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ul(a,t,i=!1){if(i)return t;try{return await t}catch(s){throw s instanceof qi&&CS(s)&&a.auth.currentUser===a&&await a.auth.signOut(),s}}function CS({code:a}){return a==="auth/user-disabled"||a==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var i;if(t){const s=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),s}else{this.errorBackoff=3e4;const l=((i=this.user.stsTokenManager.expirationTime)!==null&&i!==void 0?i:0)-Date.now()-3e5;return Math.max(0,l)}}schedule(t=!1){if(!this.isRunning)return;const i=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},i)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cd{constructor(t,i){this.createdAt=t,this.lastLoginAt=i,this._initializeTime()}_initializeTime(){this.lastSignInTime=il(this.lastLoginAt),this.creationTime=il(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cc(a){var t;const i=a.auth,s=await a.getIdToken(),l=await ul(a,gv(i,{idToken:s}));ft(l==null?void 0:l.users.length,i,"internal-error");const h=l.users[0];a._notifyReloadListener(h);const d=!((t=h.providerUserInfo)===null||t===void 0)&&t.length?pv(h.providerUserInfo):[],g=OS(a.providerData,d),_=a.isAnonymous,v=!(a.email&&h.passwordHash)&&!(g!=null&&g.length),S=_?v:!1,V={uid:h.localId,displayName:h.displayName||null,photoURL:h.photoUrl||null,email:h.email||null,emailVerified:h.emailVerified||!1,phoneNumber:h.phoneNumber||null,tenantId:h.tenantId||null,providerData:g,metadata:new cd(h.createdAt,h.lastLoginAt),isAnonymous:S};Object.assign(a,V)}async function DS(a){const t=Is(a);await cc(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function OS(a,t){return[...a.filter(s=>!t.some(l=>l.providerId===s.providerId)),...t]}function pv(a){return a.map(t=>{var{providerId:i}=t,s=kd(t,["providerId"]);return{providerId:i,uid:s.rawId||"",displayName:s.displayName||null,email:s.email||null,phoneNumber:s.phoneNumber||null,photoURL:s.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function NS(a,t){const i=await dv(a,{},async()=>{const s=gl({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:l,apiKey:h}=a.config,d=mv(a,l,"/v1/token",`key=${h}`),g=await a._getAdditionalHeaders();return g["Content-Type"]="application/x-www-form-urlencoded",fv.fetch()(d,{method:"POST",headers:g,body:s})});return{accessToken:i.access_token,expiresIn:i.expires_in,refreshToken:i.refresh_token}}async function MS(a,t){return qa(a,"POST","/v2/accounts:revokeToken",Bd(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ra{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){ft(t.idToken,"internal-error"),ft(typeof t.idToken<"u","internal-error"),ft(typeof t.refreshToken<"u","internal-error");const i="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):ky(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,i)}updateFromIdToken(t){ft(t.length!==0,"internal-error");const i=ky(t);this.updateTokensAndExpiration(t,null,i)}async getToken(t,i=!1){return!i&&this.accessToken&&!this.isExpired?this.accessToken:(ft(this.refreshToken,t,"user-token-expired"),this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(t,i){const{accessToken:s,refreshToken:l,expiresIn:h}=await NS(t,i);this.updateTokensAndExpiration(s,l,Number(h))}updateTokensAndExpiration(t,i,s){this.refreshToken=i||null,this.accessToken=t||null,this.expirationTime=Date.now()+s*1e3}static fromJSON(t,i){const{refreshToken:s,accessToken:l,expirationTime:h}=i,d=new Ra;return s&&(ft(typeof s=="string","internal-error",{appName:t}),d.refreshToken=s),l&&(ft(typeof l=="string","internal-error",{appName:t}),d.accessToken=l),h&&(ft(typeof h=="number","internal-error",{appName:t}),d.expirationTime=h),d}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new Ra,this.toJSON())}_performRefresh(){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rr(a,t){ft(typeof a=="string"||typeof a>"u","internal-error",{appName:t})}class ki{constructor(t){var{uid:i,auth:s,stsTokenManager:l}=t,h=kd(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new IS(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=i,this.auth=s,this.stsTokenManager=l,this.accessToken=l.accessToken,this.displayName=h.displayName||null,this.email=h.email||null,this.emailVerified=h.emailVerified||!1,this.phoneNumber=h.phoneNumber||null,this.photoURL=h.photoURL||null,this.isAnonymous=h.isAnonymous||!1,this.tenantId=h.tenantId||null,this.providerData=h.providerData?[...h.providerData]:[],this.metadata=new cd(h.createdAt||void 0,h.lastLoginAt||void 0)}async getIdToken(t){const i=await ul(this,this.stsTokenManager.getToken(this.auth,t));return ft(i,this.auth,"internal-error"),this.accessToken!==i&&(this.accessToken=i,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),i}getIdTokenResult(t){return wS(this,t)}reload(){return DS(this)}_assign(t){this!==t&&(ft(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(i=>Object.assign({},i)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const i=new ki(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return i.metadata._copy(this.metadata),i}_onReload(t){ft(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,i=!1){let s=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),s=!0),i&&await cc(this),await this.auth._persistUserIfCurrent(this),s&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(kn(this.auth.app))return Promise.reject(As(this.auth));const t=await this.getIdToken();return await ul(this,RS(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,i){var s,l,h,d,g,_,v,S;const V=(s=i.displayName)!==null&&s!==void 0?s:void 0,z=(l=i.email)!==null&&l!==void 0?l:void 0,F=(h=i.phoneNumber)!==null&&h!==void 0?h:void 0,$=(d=i.photoURL)!==null&&d!==void 0?d:void 0,rt=(g=i.tenantId)!==null&&g!==void 0?g:void 0,J=(_=i._redirectEventId)!==null&&_!==void 0?_:void 0,Ot=(v=i.createdAt)!==null&&v!==void 0?v:void 0,pt=(S=i.lastLoginAt)!==null&&S!==void 0?S:void 0,{uid:Et,emailVerified:qt,isAnonymous:dt,providerData:wt,stsTokenManager:M}=i;ft(Et&&M,t,"internal-error");const R=Ra.fromJSON(this.name,M);ft(typeof Et=="string",t,"internal-error"),Rr(V,t.name),Rr(z,t.name),ft(typeof qt=="boolean",t,"internal-error"),ft(typeof dt=="boolean",t,"internal-error"),Rr(F,t.name),Rr($,t.name),Rr(rt,t.name),Rr(J,t.name),Rr(Ot,t.name),Rr(pt,t.name);const A=new ki({uid:Et,auth:t,email:z,emailVerified:qt,displayName:V,isAnonymous:dt,photoURL:$,phoneNumber:F,tenantId:rt,stsTokenManager:R,createdAt:Ot,lastLoginAt:pt});return wt&&Array.isArray(wt)&&(A.providerData=wt.map(C=>Object.assign({},C))),J&&(A._redirectEventId=J),A}static async _fromIdTokenResponse(t,i,s=!1){const l=new Ra;l.updateFromServerResponse(i);const h=new ki({uid:i.localId,auth:t,stsTokenManager:l,isAnonymous:s});return await cc(h),h}static async _fromGetAccountInfoResponse(t,i,s){const l=i.users[0];ft(l.localId!==void 0,"internal-error");const h=l.providerUserInfo!==void 0?pv(l.providerUserInfo):[],d=!(l.email&&l.passwordHash)&&!(h!=null&&h.length),g=new Ra;g.updateFromIdToken(s);const _=new ki({uid:l.localId,auth:t,stsTokenManager:g,isAnonymous:d}),v={uid:l.localId,displayName:l.displayName||null,photoURL:l.photoUrl||null,email:l.email||null,emailVerified:l.emailVerified||!1,phoneNumber:l.phoneNumber||null,tenantId:l.tenantId||null,providerData:h,metadata:new cd(l.createdAt,l.lastLoginAt),isAnonymous:!(l.email&&l.passwordHash)&&!(h!=null&&h.length)};return Object.assign(_,v),_}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Py=new Map;function Pi(a){zi(a instanceof Function,"Expected a class definition");let t=Py.get(a);return t?(zi(t instanceof a,"Instance stored in cache mismatched with class"),t):(t=new a,Py.set(a,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yv{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,i){this.storage[t]=i}async _get(t){const i=this.storage[t];return i===void 0?null:i}async _remove(t){delete this.storage[t]}_addListener(t,i){}_removeListener(t,i){}}yv.type="NONE";const xy=yv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ju(a,t,i){return`firebase:${a}:${t}:${i}`}class wa{constructor(t,i,s){this.persistence=t,this.auth=i,this.userKey=s;const{config:l,name:h}=this.auth;this.fullUserKey=Ju(this.userKey,l.apiKey,h),this.fullPersistenceKey=Ju("persistence",l.apiKey,h),this.boundEventHandler=i._onStorageEvent.bind(i),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?ki._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const i=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,i)return this.setCurrentUser(i)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,i,s="authUser"){if(!i.length)return new wa(Pi(xy),t,s);const l=(await Promise.all(i.map(async v=>{if(await v._isAvailable())return v}))).filter(v=>v);let h=l[0]||Pi(xy);const d=Ju(s,t.config.apiKey,t.name);let g=null;for(const v of i)try{const S=await v._get(d);if(S){const V=ki._fromJSON(t,S);v!==h&&(g=V),h=v;break}}catch{}const _=l.filter(v=>v._shouldAllowMigration);return!h._shouldAllowMigration||!_.length?new wa(h,t,s):(h=_[0],g&&await h._set(d,g.toJSON()),await Promise.all(i.map(async v=>{if(v!==h)try{await v._remove(d)}catch{}})),new wa(h,t,s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zy(a){const t=a.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(Tv(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(_v(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Sv(t))return"Blackberry";if(bv(t))return"Webos";if(vv(t))return"Safari";if((t.includes("chrome/")||Ev(t))&&!t.includes("edge/"))return"Chrome";if(Av(t))return"Android";{const i=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,s=a.match(i);if((s==null?void 0:s.length)===2)return s[1]}return"Other"}function _v(a=Fe()){return/firefox\//i.test(a)}function vv(a=Fe()){const t=a.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function Ev(a=Fe()){return/crios\//i.test(a)}function Tv(a=Fe()){return/iemobile/i.test(a)}function Av(a=Fe()){return/android/i.test(a)}function Sv(a=Fe()){return/blackberry/i.test(a)}function bv(a=Fe()){return/webos/i.test(a)}function Hd(a=Fe()){return/iphone|ipad|ipod/i.test(a)||/macintosh/i.test(a)&&/mobile/i.test(a)}function VS(a=Fe()){var t;return Hd(a)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function US(){return YT()&&document.documentMode===10}function Rv(a=Fe()){return Hd(a)||Av(a)||bv(a)||Sv(a)||/windows phone/i.test(a)||Tv(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wv(a,t=[]){let i;switch(a){case"Browser":i=zy(Fe());break;case"Worker":i=`${zy(Fe())}-${a}`;break;default:i=a}const s=t.length?t.join(","):"FirebaseCore-web";return`${i}/JsCore/${Ba}/${s}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,i){const s=h=>new Promise((d,g)=>{try{const _=t(h);d(_)}catch(_){g(_)}});s.onAbort=i,this.queue.push(s);const l=this.queue.length-1;return()=>{this.queue[l]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const i=[];try{for(const s of this.queue)await s(t),s.onAbort&&i.push(s.onAbort)}catch(s){i.reverse();for(const l of i)try{l()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:s==null?void 0:s.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kS(a,t={}){return qa(a,"GET","/v2/passwordPolicy",Bd(a,t))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PS=6;class xS{constructor(t){var i,s,l,h;const d=t.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(i=d.minPasswordLength)!==null&&i!==void 0?i:PS,d.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=d.maxPasswordLength),d.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=d.containsLowercaseCharacter),d.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=d.containsUppercaseCharacter),d.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=d.containsNumericCharacter),d.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=d.containsNonAlphanumericCharacter),this.enforcementState=t.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(l=(s=t.allowedNonAlphanumericCharacters)===null||s===void 0?void 0:s.join(""))!==null&&l!==void 0?l:"",this.forceUpgradeOnSignin=(h=t.forceUpgradeOnSignin)!==null&&h!==void 0?h:!1,this.schemaVersion=t.schemaVersion}validatePassword(t){var i,s,l,h,d,g;const _={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(t,_),this.validatePasswordCharacterOptions(t,_),_.isValid&&(_.isValid=(i=_.meetsMinPasswordLength)!==null&&i!==void 0?i:!0),_.isValid&&(_.isValid=(s=_.meetsMaxPasswordLength)!==null&&s!==void 0?s:!0),_.isValid&&(_.isValid=(l=_.containsLowercaseLetter)!==null&&l!==void 0?l:!0),_.isValid&&(_.isValid=(h=_.containsUppercaseLetter)!==null&&h!==void 0?h:!0),_.isValid&&(_.isValid=(d=_.containsNumericCharacter)!==null&&d!==void 0?d:!0),_.isValid&&(_.isValid=(g=_.containsNonAlphanumericCharacter)!==null&&g!==void 0?g:!0),_}validatePasswordLengthOptions(t,i){const s=this.customStrengthOptions.minPasswordLength,l=this.customStrengthOptions.maxPasswordLength;s&&(i.meetsMinPasswordLength=t.length>=s),l&&(i.meetsMaxPasswordLength=t.length<=l)}validatePasswordCharacterOptions(t,i){this.updatePasswordCharacterOptionsStatuses(i,!1,!1,!1,!1);let s;for(let l=0;l<t.length;l++)s=t.charAt(l),this.updatePasswordCharacterOptionsStatuses(i,s>="a"&&s<="z",s>="A"&&s<="Z",s>="0"&&s<="9",this.allowedNonAlphanumericCharacters.includes(s))}updatePasswordCharacterOptionsStatuses(t,i,s,l,h){this.customStrengthOptions.containsLowercaseLetter&&(t.containsLowercaseLetter||(t.containsLowercaseLetter=i)),this.customStrengthOptions.containsUppercaseLetter&&(t.containsUppercaseLetter||(t.containsUppercaseLetter=s)),this.customStrengthOptions.containsNumericCharacter&&(t.containsNumericCharacter||(t.containsNumericCharacter=l)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(t.containsNonAlphanumericCharacter||(t.containsNonAlphanumericCharacter=h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zS{constructor(t,i,s,l){this.app=t,this.heartbeatServiceProvider=i,this.appCheckServiceProvider=s,this.config=l,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new By(this),this.idTokenSubscription=new By(this),this.beforeStateQueue=new LS(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=hv,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=l.sdkClientVersion}_initializeWithPersistence(t,i){return i&&(this._popupRedirectResolver=Pi(i)),this._initializationPromise=this.queue(async()=>{var s,l;if(!this._deleted&&(this.persistenceManager=await wa.create(this,t),!this._deleted)){if(!((s=this._popupRedirectResolver)===null||s===void 0)&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(i),this.lastNotifiedUid=((l=this.currentUser)===null||l===void 0?void 0:l.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUserFromIdToken(t){try{const i=await gv(this,{idToken:t}),s=await ki._fromGetAccountInfoResponse(this,i,t);await this.directlySetCurrentUser(s)}catch(i){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",i),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(t){var i;if(kn(this.app)){const d=this.app.settings.authIdToken;return d?new Promise(g=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(d).then(g,g))}):this.directlySetCurrentUser(null)}const s=await this.assertedPersistence.getCurrentUser();let l=s,h=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const d=(i=this.redirectUser)===null||i===void 0?void 0:i._redirectEventId,g=l==null?void 0:l._redirectEventId,_=await this.tryRedirectSignIn(t);(!d||d===g)&&(_!=null&&_.user)&&(l=_.user,h=!0)}if(!l)return this.directlySetCurrentUser(null);if(!l._redirectEventId){if(h)try{await this.beforeStateQueue.runMiddleware(l)}catch(d){l=s,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(d))}return l?this.reloadAndSetCurrentUserOrClear(l):this.directlySetCurrentUser(null)}return ft(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===l._redirectEventId?this.directlySetCurrentUser(l):this.reloadAndSetCurrentUserOrClear(l)}async tryRedirectSignIn(t){let i=null;try{i=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return i}async reloadAndSetCurrentUserOrClear(t){try{await cc(t)}catch(i){if((i==null?void 0:i.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=ES()}async _delete(){this._deleted=!0}async updateCurrentUser(t){if(kn(this.app))return Promise.reject(As(this));const i=t?Is(t):null;return i&&ft(i.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(i&&i._clone(this))}async _updateCurrentUser(t,i=!1){if(!this._deleted)return t&&ft(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),i||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return kn(this.app)?Promise.reject(As(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(t){return kn(this.app)?Promise.reject(As(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Pi(t))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(t){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const i=this._getPasswordPolicyInternal();return i.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):i.validatePassword(t)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const t=await kS(this),i=new xS(t);this.tenantId===null?this._projectPasswordPolicy=i:this._tenantPasswordPolicies[this.tenantId]=i}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new ml("auth","Firebase",t())}onAuthStateChanged(t,i,s){return this.registerStateListener(this.authStateSubscription,t,i,s)}beforeAuthStateChanged(t,i){return this.beforeStateQueue.pushCallback(t,i)}onIdTokenChanged(t,i,s){return this.registerStateListener(this.idTokenSubscription,t,i,s)}authStateReady(){return new Promise((t,i)=>{if(this.currentUser)t();else{const s=this.onAuthStateChanged(()=>{s(),t()},i)}})}async revokeAccessToken(t){if(this.currentUser){const i=await this.currentUser.getIdToken(),s={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:t,idToken:i};this.tenantId!=null&&(s.tenantId=this.tenantId),await MS(this,s)}}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,i){const s=await this.getOrInitRedirectPersistenceManager(i);return t===null?s.removeCurrentUser():s.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const i=t&&Pi(t)||this._popupRedirectResolver;ft(i,this,"argument-error"),this.redirectPersistenceManager=await wa.create(this,[Pi(i._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var i,s;return this._isInitialized&&await this.queue(async()=>{}),((i=this._currentUser)===null||i===void 0?void 0:i._redirectEventId)===t?this._currentUser:((s=this.redirectUser)===null||s===void 0?void 0:s._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,i;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const s=(i=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&i!==void 0?i:null;this.lastNotifiedUid!==s&&(this.lastNotifiedUid=s,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,i,s,l){if(this._deleted)return()=>{};const h=typeof i=="function"?i:i.next.bind(i);let d=!1;const g=this._isInitialized?Promise.resolve():this._initializationPromise;if(ft(g,this,"internal-error"),g.then(()=>{d||h(this.currentUser)}),typeof i=="function"){const _=t.addObserver(i,s,l);return()=>{d=!0,_()}}else{const _=t.addObserver(i);return()=>{d=!0,_()}}}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return ft(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=wv(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const i={"X-Client-Version":this.clientVersion};this.app.options.appId&&(i["X-Firebase-gmpid"]=this.app.options.appId);const s=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());s&&(i["X-Firebase-Client"]=s);const l=await this._getAppCheckToken();return l&&(i["X-Firebase-AppCheck"]=l),i}async _getAppCheckToken(){var t;if(kn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const i=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return i!=null&&i.error&&pS(`Error while retrieving App Check token: ${i.error}`),i==null?void 0:i.token}}function Sc(a){return Is(a)}class By{constructor(t){this.auth=t,this.observer=null,this.addObserver=nA(i=>this.observer=i)}get next(){return ft(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function BS(a){jd=a}function qS(a){return jd.loadJS(a)}function HS(){return jd.gapiScript}function jS(a){return`__${a}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GS(a,t){const i=Ld(a,"auth");if(i.isInitialized()){const l=i.getImmediate(),h=i.getOptions();if(oc(h,t??{}))return l;ri(l,"already-initialized")}return i.initialize({options:t})}function FS(a,t){const i=(t==null?void 0:t.persistence)||[],s=(Array.isArray(i)?i:[i]).map(Pi);t!=null&&t.errorMap&&a._updateErrorMap(t.errorMap),a._initializeWithPersistence(s,t==null?void 0:t.popupRedirectResolver)}function QS(a,t,i){const s=Sc(a);ft(s._canInitEmulator,s,"emulator-config-failed"),ft(/^https?:\/\//.test(t),s,"invalid-emulator-scheme");const l=!1,h=Cv(t),{host:d,port:g}=KS(t),_=g===null?"":`:${g}`;s.config.emulator={url:`${h}//${d}${_}/`},s.settings.appVerificationDisabledForTesting=!0,s.emulatorConfig=Object.freeze({host:d,port:g,protocol:h.replace(":",""),options:Object.freeze({disableWarnings:l})}),YS()}function Cv(a){const t=a.indexOf(":");return t<0?"":a.substr(0,t+1)}function KS(a){const t=Cv(a),i=/(\/\/)?([^?#/]+)/.exec(a.substr(t.length));if(!i)return{host:"",port:null};const s=i[2].split("@").pop()||"",l=/^(\[[^\]]+\])(:|$)/.exec(s);if(l){const h=l[1];return{host:h,port:qy(s.substr(h.length+1))}}else{const[h,d]=s.split(":");return{host:h,port:qy(d)}}}function qy(a){if(!a)return null;const t=Number(a);return isNaN(t)?null:t}function YS(){function a(){const t=document.createElement("p"),i=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",i.position="fixed",i.width="100%",i.backgroundColor="#ffffff",i.border=".1em solid #000000",i.color="#b50000",i.bottom="0px",i.left="0px",i.margin="0px",i.zIndex="10000",i.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",a):a())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iv{constructor(t,i){this.providerId=t,this.signInMethod=i}toJSON(){return Li("not implemented")}_getIdTokenResponse(t){return Li("not implemented")}_linkToIdToken(t,i){return Li("not implemented")}_getReauthenticationResolver(t){return Li("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ca(a,t){return SS(a,"POST","/v1/accounts:signInWithIdp",Bd(a,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XS="http://localhost";class ws extends Iv{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const i=new ws(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(i.idToken=t.idToken),t.accessToken&&(i.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(i.nonce=t.nonce),t.pendingToken&&(i.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(i.accessToken=t.oauthToken,i.secret=t.oauthTokenSecret):ri("argument-error"),i}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const i=typeof t=="string"?JSON.parse(t):t,{providerId:s,signInMethod:l}=i,h=kd(i,["providerId","signInMethod"]);if(!s||!l)return null;const d=new ws(s,l);return d.idToken=h.idToken||void 0,d.accessToken=h.accessToken||void 0,d.secret=h.secret,d.nonce=h.nonce,d.pendingToken=h.pendingToken||null,d}_getIdTokenResponse(t){const i=this.buildRequest();return Ca(t,i)}_linkToIdToken(t,i){const s=this.buildRequest();return s.idToken=i,Ca(t,s)}_getReauthenticationResolver(t){const i=this.buildRequest();return i.autoCreate=!1,Ca(t,i)}buildRequest(){const t={requestUri:XS,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const i={};this.idToken&&(i.id_token=this.idToken),this.accessToken&&(i.access_token=this.accessToken),this.secret&&(i.oauth_token_secret=this.secret),i.providerId=this.providerId,this.nonce&&!this.pendingToken&&(i.nonce=this.nonce),t.postBody=gl(i)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yl extends Gd{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr extends yl{constructor(){super("facebook.com")}static credential(t){return ws._fromParams({providerId:wr.PROVIDER_ID,signInMethod:wr.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return wr.credentialFromTaggedObject(t)}static credentialFromError(t){return wr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return wr.credential(t.oauthAccessToken)}catch{return null}}}wr.FACEBOOK_SIGN_IN_METHOD="facebook.com";wr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui extends yl{constructor(){super("google.com"),this.addScope("profile")}static credential(t,i){return ws._fromParams({providerId:Ui.PROVIDER_ID,signInMethod:Ui.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:i})}static credentialFromResult(t){return Ui.credentialFromTaggedObject(t)}static credentialFromError(t){return Ui.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:i,oauthAccessToken:s}=t;if(!i&&!s)return null;try{return Ui.credential(i,s)}catch{return null}}}Ui.GOOGLE_SIGN_IN_METHOD="google.com";Ui.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cr extends yl{constructor(){super("github.com")}static credential(t){return ws._fromParams({providerId:Cr.PROVIDER_ID,signInMethod:Cr.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Cr.credentialFromTaggedObject(t)}static credentialFromError(t){return Cr.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Cr.credential(t.oauthAccessToken)}catch{return null}}}Cr.GITHUB_SIGN_IN_METHOD="github.com";Cr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ir extends yl{constructor(){super("twitter.com")}static credential(t,i){return ws._fromParams({providerId:Ir.PROVIDER_ID,signInMethod:Ir.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:i})}static credentialFromResult(t){return Ir.credentialFromTaggedObject(t)}static credentialFromError(t){return Ir.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:i,oauthTokenSecret:s}=t;if(!i||!s)return null;try{return Ir.credential(i,s)}catch{return null}}}Ir.TWITTER_SIGN_IN_METHOD="twitter.com";Ir.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ma{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,i,s,l=!1){const h=await ki._fromIdTokenResponse(t,s,l),d=Hy(s);return new Ma({user:h,providerId:d,_tokenResponse:s,operationType:i})}static async _forOperation(t,i,s){await t._updateTokensIfNecessary(s,!0);const l=Hy(s);return new Ma({user:t,providerId:l,_tokenResponse:s,operationType:i})}}function Hy(a){return a.providerId?a.providerId:"phoneNumber"in a?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hc extends qi{constructor(t,i,s,l){var h;super(i.code,i.message),this.operationType=s,this.user=l,Object.setPrototypeOf(this,hc.prototype),this.customData={appName:t.name,tenantId:(h=t.tenantId)!==null&&h!==void 0?h:void 0,_serverResponse:i.customData._serverResponse,operationType:s}}static _fromErrorAndOperation(t,i,s,l){return new hc(t,i,s,l)}}function Dv(a,t,i,s){return(t==="reauthenticate"?i._getReauthenticationResolver(a):i._getIdTokenResponse(a)).catch(h=>{throw h.code==="auth/multi-factor-auth-required"?hc._fromErrorAndOperation(a,h,t,s):h})}async function $S(a,t,i=!1){const s=await ul(a,t._linkToIdToken(a.auth,await a.getIdToken()),i);return Ma._forOperation(a,"link",s)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ZS(a,t,i=!1){const{auth:s}=a;if(kn(s.app))return Promise.reject(As(s));const l="reauthenticate";try{const h=await ul(a,Dv(s,l,t,a),i);ft(h.idToken,s,"internal-error");const d=qd(h.idToken);ft(d,s,"internal-error");const{sub:g}=d;return ft(a.uid===g,s,"user-mismatch"),Ma._forOperation(a,l,h)}catch(h){throw(h==null?void 0:h.code)==="auth/user-not-found"&&ri(s,"user-mismatch"),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JS(a,t,i=!1){if(kn(a.app))return Promise.reject(As(a));const s="signIn",l=await Dv(a,s,t),h=await Ma._fromIdTokenResponse(a,s,l);return i||await a._updateCurrentUser(h.user),h}function WS(a,t,i,s){return Is(a).onIdTokenChanged(t,i,s)}function tb(a,t,i){return Is(a).beforeAuthStateChanged(t,i)}const fc="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ov{constructor(t,i){this.storageRetriever=t,this.type=i}_isAvailable(){try{return this.storage?(this.storage.setItem(fc,"1"),this.storage.removeItem(fc),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,i){return this.storage.setItem(t,JSON.stringify(i)),Promise.resolve()}_get(t){const i=this.storage.getItem(t);return Promise.resolve(i?JSON.parse(i):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eb=1e3,nb=10;class Nv extends Ov{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,i)=>this.onStorageEvent(t,i),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Rv(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const i of Object.keys(this.listeners)){const s=this.storage.getItem(i),l=this.localCache[i];s!==l&&t(i,l,s)}}onStorageEvent(t,i=!1){if(!t.key){this.forAllChangedKeys((d,g,_)=>{this.notifyListeners(d,_)});return}const s=t.key;i?this.detachListener():this.stopPolling();const l=()=>{const d=this.storage.getItem(s);!i&&this.localCache[s]===d||this.notifyListeners(s,d)},h=this.storage.getItem(s);US()&&h!==t.newValue&&t.newValue!==t.oldValue?setTimeout(l,nb):l()}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i&&JSON.parse(i))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,i,s)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:i,newValue:s}),!0)})},eb)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,i){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,i){await super._set(t,i),this.localCache[t]=JSON.stringify(i)}async _get(t){const i=await super._get(t);return this.localCache[t]=JSON.stringify(i),i}async _remove(t){await super._remove(t),delete this.localCache[t]}}Nv.type="LOCAL";const ib=Nv;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mv extends Ov{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,i){}_removeListener(t,i){}}Mv.type="SESSION";const Vv=Mv;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rb(a){return Promise.all(a.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(i){return{fulfilled:!1,reason:i}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bc{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const i=this.receivers.find(l=>l.isListeningto(t));if(i)return i;const s=new bc(t);return this.receivers.push(s),s}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const i=t,{eventId:s,eventType:l,data:h}=i.data,d=this.handlersMap[l];if(!(d!=null&&d.size))return;i.ports[0].postMessage({status:"ack",eventId:s,eventType:l});const g=Array.from(d).map(async v=>v(i.origin,h)),_=await rb(g);i.ports[0].postMessage({status:"done",eventId:s,eventType:l,response:_})}_subscribe(t,i){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(i)}_unsubscribe(t,i){this.handlersMap[t]&&i&&this.handlersMap[t].delete(i),(!i||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}bc.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Fd(a="",t=10){let i="";for(let s=0;s<t;s++)i+=Math.floor(Math.random()*10);return a+i}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,i,s=50){const l=typeof MessageChannel<"u"?new MessageChannel:null;if(!l)throw new Error("connection_unavailable");let h,d;return new Promise((g,_)=>{const v=Fd("",20);l.port1.start();const S=setTimeout(()=>{_(new Error("unsupported_event"))},s);d={messageChannel:l,onMessage(V){const z=V;if(z.data.eventId===v)switch(z.data.status){case"ack":clearTimeout(S),h=setTimeout(()=>{_(new Error("timeout"))},3e3);break;case"done":clearTimeout(h),g(z.data.response);break;default:clearTimeout(S),clearTimeout(h),_(new Error("invalid_response"));break}}},this.handlers.add(d),l.port1.addEventListener("message",d.onMessage),this.target.postMessage({eventType:t,eventId:v,data:i},[l.port2])}).finally(()=>{d&&this.removeMessageHandler(d)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ni(){return window}function ab(a){ni().location.href=a}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uv(){return typeof ni().WorkerGlobalScope<"u"&&typeof ni().importScripts=="function"}async function ob(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function lb(){var a;return((a=navigator==null?void 0:navigator.serviceWorker)===null||a===void 0?void 0:a.controller)||null}function ub(){return Uv()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lv="firebaseLocalStorageDb",cb=1,dc="firebaseLocalStorage",kv="fbase_key";class _l{constructor(t){this.request=t}toPromise(){return new Promise((t,i)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{i(this.request.error)})})}}function Rc(a,t){return a.transaction([dc],t?"readwrite":"readonly").objectStore(dc)}function hb(){const a=indexedDB.deleteDatabase(Lv);return new _l(a).toPromise()}function hd(){const a=indexedDB.open(Lv,cb);return new Promise((t,i)=>{a.addEventListener("error",()=>{i(a.error)}),a.addEventListener("upgradeneeded",()=>{const s=a.result;try{s.createObjectStore(dc,{keyPath:kv})}catch(l){i(l)}}),a.addEventListener("success",async()=>{const s=a.result;s.objectStoreNames.contains(dc)?t(s):(s.close(),await hb(),t(await hd()))})})}async function jy(a,t,i){const s=Rc(a,!0).put({[kv]:t,value:i});return new _l(s).toPromise()}async function fb(a,t){const i=Rc(a,!1).get(t),s=await new _l(i).toPromise();return s===void 0?null:s.value}function Gy(a,t){const i=Rc(a,!0).delete(t);return new _l(i).toPromise()}const db=800,mb=3;class Pv{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await hd(),this.db)}async _withRetries(t){let i=0;for(;;)try{const s=await this._openDb();return await t(s)}catch(s){if(i++>mb)throw s;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Uv()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=bc._getInstance(ub()),this.receiver._subscribe("keyChanged",async(t,i)=>({keyProcessed:(await this._poll()).includes(i.key)})),this.receiver._subscribe("ping",async(t,i)=>["keyChanged"])}async initializeSender(){var t,i;if(this.activeServiceWorker=await ob(),!this.activeServiceWorker)return;this.sender=new sb(this.activeServiceWorker);const s=await this.sender._send("ping",{},800);s&&!((t=s[0])===null||t===void 0)&&t.fulfilled&&!((i=s[0])===null||i===void 0)&&i.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||lb()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await hd();return await jy(t,fc,"1"),await Gy(t,fc),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,i){return this._withPendingWrite(async()=>(await this._withRetries(s=>jy(s,t,i)),this.localCache[t]=i,this.notifyServiceWorker(t)))}async _get(t){const i=await this._withRetries(s=>fb(s,t));return this.localCache[t]=i,i}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(i=>Gy(i,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(l=>{const h=Rc(l,!1).getAll();return new _l(h).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const i=[],s=new Set;if(t.length!==0)for(const{fbase_key:l,value:h}of t)s.add(l),JSON.stringify(this.localCache[l])!==JSON.stringify(h)&&(this.notifyListeners(l,h),i.push(l));for(const l of Object.keys(this.localCache))this.localCache[l]&&!s.has(l)&&(this.notifyListeners(l,null),i.push(l));return i}notifyListeners(t,i){this.localCache[t]=i;const s=this.listeners[t];if(s)for(const l of Array.from(s))l(i)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),db)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,i){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(i)}_removeListener(t,i){this.listeners[t]&&(this.listeners[t].delete(i),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Pv.type="LOCAL";const gb=Pv;new pl(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xv(a,t){return t?Pi(t):(ft(a._popupRedirectResolver,a,"argument-error"),a._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd extends Iv{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Ca(t,this._buildIdpRequest())}_linkToIdToken(t,i){return Ca(t,this._buildIdpRequest(i))}_getReauthenticationResolver(t){return Ca(t,this._buildIdpRequest())}_buildIdpRequest(t){const i={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(i.idToken=t),i}}function pb(a){return JS(a.auth,new Qd(a),a.bypassAuthState)}function yb(a){const{auth:t,user:i}=a;return ft(i,t,"internal-error"),ZS(i,new Qd(a),a.bypassAuthState)}async function _b(a){const{auth:t,user:i}=a;return ft(i,t,"internal-error"),$S(i,new Qd(a),a.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zv{constructor(t,i,s,l,h=!1){this.auth=t,this.resolver=s,this.user=l,this.bypassAuthState=h,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(i)?i:[i]}execute(){return new Promise(async(t,i)=>{this.pendingPromise={resolve:t,reject:i};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(s){this.reject(s)}})}async onAuthEvent(t){const{urlResponse:i,sessionId:s,postBody:l,tenantId:h,error:d,type:g}=t;if(d){this.reject(d);return}const _={auth:this.auth,requestUri:i,sessionId:s,tenantId:h||void 0,postBody:l||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(g)(_))}catch(v){this.reject(v)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return pb;case"linkViaPopup":case"linkViaRedirect":return _b;case"reauthViaPopup":case"reauthViaRedirect":return yb;default:ri(this.auth,"internal-error")}}resolve(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){zi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vb=new pl(2e3,1e4);async function Eb(a,t,i){if(kn(a.app))return Promise.reject(Pn(a,"operation-not-supported-in-this-environment"));const s=Sc(a);yS(a,t,Gd);const l=xv(s,i);return new Es(s,"signInViaPopup",t,l).executeNotNull()}class Es extends zv{constructor(t,i,s,l,h){super(t,i,l,h),this.provider=s,this.authWindow=null,this.pollId=null,Es.currentPopupAction&&Es.currentPopupAction.cancel(),Es.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return ft(t,this.auth,"internal-error"),t}async onExecution(){zi(this.filter.length===1,"Popup operations only handle one event");const t=Fd();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(i=>{this.reject(i)}),this.resolver._isIframeWebStorageSupported(this.auth,i=>{i||this.reject(Pn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(Pn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Es.currentPopupAction=null}pollUserCancellation(){const t=()=>{var i,s;if(!((s=(i=this.authWindow)===null||i===void 0?void 0:i.window)===null||s===void 0)&&s.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Pn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,vb.get())};t()}}Es.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tb="pendingRedirect",Wu=new Map;class Ab extends zv{constructor(t,i,s=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],i,void 0,s),this.eventId=null}async execute(){let t=Wu.get(this.auth._key());if(!t){try{const s=await Sb(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(s)}catch(i){t=()=>Promise.reject(i)}Wu.set(this.auth._key(),t)}return this.bypassAuthState||Wu.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const i=await this.auth._redirectUserForId(t.eventId);if(i)return this.user=i,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Sb(a,t){const i=wb(t),s=Rb(a);if(!await s._isAvailable())return!1;const l=await s._get(i)==="true";return await s._remove(i),l}function bb(a,t){Wu.set(a._key(),t)}function Rb(a){return Pi(a._redirectPersistence)}function wb(a){return Ju(Tb,a.config.apiKey,a.name)}async function Cb(a,t,i=!1){if(kn(a.app))return Promise.reject(As(a));const s=Sc(a),l=xv(s,t),d=await new Ab(s,l,i).execute();return d&&!i&&(delete d.user._redirectEventId,await s._persistUserIfCurrent(d.user),await s._setRedirectUser(null,t)),d}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ib=10*60*1e3;class Db{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let i=!1;return this.consumers.forEach(s=>{this.isEventForConsumer(t,s)&&(i=!0,this.sendToConsumer(t,s),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!Ob(t)||(this.hasHandledPotentialRedirect=!0,i||(this.queuedRedirectEvent=t,i=!0)),i}sendToConsumer(t,i){var s;if(t.error&&!Bv(t)){const l=((s=t.error.code)===null||s===void 0?void 0:s.split("auth/")[1])||"internal-error";i.onError(Pn(this.auth,l))}else i.onAuthEvent(t)}isEventForConsumer(t,i){const s=i.eventId===null||!!t.eventId&&t.eventId===i.eventId;return i.filter.includes(t.type)&&s}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=Ib&&this.cachedEventUids.clear(),this.cachedEventUids.has(Fy(t))}saveEventToCache(t){this.cachedEventUids.add(Fy(t)),this.lastProcessedEventTime=Date.now()}}function Fy(a){return[a.type,a.eventId,a.sessionId,a.tenantId].filter(t=>t).join("-")}function Bv({type:a,error:t}){return a==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function Ob(a){switch(a.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Bv(a);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nb(a,t={}){return qa(a,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mb=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Vb=/^https?/;async function Ub(a){if(a.config.emulator)return;const{authorizedDomains:t}=await Nb(a);for(const i of t)try{if(Lb(i))return}catch{}ri(a,"unauthorized-domain")}function Lb(a){const t=ud(),{protocol:i,hostname:s}=new URL(t);if(a.startsWith("chrome-extension://")){const d=new URL(a);return d.hostname===""&&s===""?i==="chrome-extension:"&&a.replace("chrome-extension://","")===t.replace("chrome-extension://",""):i==="chrome-extension:"&&d.hostname===s}if(!Vb.test(i))return!1;if(Mb.test(a))return s===a;const l=a.replace(/\./g,"\\.");return new RegExp("^(.+\\."+l+"|"+l+")$","i").test(s)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kb=new pl(3e4,6e4);function Qy(){const a=ni().___jsl;if(a!=null&&a.H){for(const t of Object.keys(a.H))if(a.H[t].r=a.H[t].r||[],a.H[t].L=a.H[t].L||[],a.H[t].r=[...a.H[t].L],a.CP)for(let i=0;i<a.CP.length;i++)a.CP[i]=null}}function Pb(a){return new Promise((t,i)=>{var s,l,h;function d(){Qy(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{Qy(),i(Pn(a,"network-request-failed"))},timeout:kb.get()})}if(!((l=(s=ni().gapi)===null||s===void 0?void 0:s.iframes)===null||l===void 0)&&l.Iframe)t(gapi.iframes.getContext());else if(!((h=ni().gapi)===null||h===void 0)&&h.load)d();else{const g=jS("iframefcb");return ni()[g]=()=>{gapi.load?d():i(Pn(a,"network-request-failed"))},qS(`${HS()}?onload=${g}`).catch(_=>i(_))}}).catch(t=>{throw tc=null,t})}let tc=null;function xb(a){return tc=tc||Pb(a),tc}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zb=new pl(5e3,15e3),Bb="__/auth/iframe",qb="emulator/auth/iframe",Hb={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},jb=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Gb(a){const t=a.config;ft(t.authDomain,a,"auth-domain-config-required");const i=t.emulator?zd(t,qb):`https://${a.config.authDomain}/${Bb}`,s={apiKey:t.apiKey,appName:a.name,v:Ba},l=jb.get(a.config.apiHost);l&&(s.eid=l);const h=a._getFrameworks();return h.length&&(s.fw=h.join(",")),`${i}?${gl(s).slice(1)}`}async function Fb(a){const t=await xb(a),i=ni().gapi;return ft(i,a,"internal-error"),t.open({where:document.body,url:Gb(a),messageHandlersFilter:i.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Hb,dontclear:!0},s=>new Promise(async(l,h)=>{await s.restyle({setHideOnLeave:!1});const d=Pn(a,"network-request-failed"),g=ni().setTimeout(()=>{h(d)},zb.get());function _(){ni().clearTimeout(g),l(s)}s.ping(_).then(_,()=>{h(d)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},Kb=500,Yb=600,Xb="_blank",$b="http://localhost";class Ky{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Zb(a,t,i,s=Kb,l=Yb){const h=Math.max((window.screen.availHeight-l)/2,0).toString(),d=Math.max((window.screen.availWidth-s)/2,0).toString();let g="";const _=Object.assign(Object.assign({},Qb),{width:s.toString(),height:l.toString(),top:h,left:d}),v=Fe().toLowerCase();i&&(g=Ev(v)?Xb:i),_v(v)&&(t=t||$b,_.scrollbars="yes");const S=Object.entries(_).reduce((z,[F,$])=>`${z}${F}=${$},`,"");if(VS(v)&&g!=="_self")return Jb(t||"",g),new Ky(null);const V=window.open(t||"",g,S);ft(V,a,"popup-blocked");try{V.focus()}catch{}return new Ky(V)}function Jb(a,t){const i=document.createElement("a");i.href=a,i.target=t;const s=document.createEvent("MouseEvent");s.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),i.dispatchEvent(s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wb="__/auth/handler",tR="emulator/auth/handler",eR=encodeURIComponent("fac");async function Yy(a,t,i,s,l,h){ft(a.config.authDomain,a,"auth-domain-config-required"),ft(a.config.apiKey,a,"invalid-api-key");const d={apiKey:a.config.apiKey,appName:a.name,authType:i,redirectUrl:s,v:Ba,eventId:l};if(t instanceof Gd){t.setDefaultLanguage(a.languageCode),d.providerId=t.providerId||"",eA(t.getCustomParameters())||(d.customParameters=JSON.stringify(t.getCustomParameters()));for(const[S,V]of Object.entries({}))d[S]=V}if(t instanceof yl){const S=t.getScopes().filter(V=>V!=="");S.length>0&&(d.scopes=S.join(","))}a.tenantId&&(d.tid=a.tenantId);const g=d;for(const S of Object.keys(g))g[S]===void 0&&delete g[S];const _=await a._getAppCheckToken(),v=_?`#${eR}=${encodeURIComponent(_)}`:"";return`${nR(a)}?${gl(g).slice(1)}${v}`}function nR({config:a}){return a.emulator?zd(a,tR):`https://${a.authDomain}/${Wb}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="webStorageSupport";class iR{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Vv,this._completeRedirectFn=Cb,this._overrideRedirectResult=bb}async _openPopup(t,i,s,l){var h;zi((h=this.eventManagers[t._key()])===null||h===void 0?void 0:h.manager,"_initialize() not called before _openPopup()");const d=await Yy(t,i,s,ud(),l);return Zb(t,d,Fd())}async _openRedirect(t,i,s,l){await this._originValidation(t);const h=await Yy(t,i,s,ud(),l);return ab(h),new Promise(()=>{})}_initialize(t){const i=t._key();if(this.eventManagers[i]){const{manager:l,promise:h}=this.eventManagers[i];return l?Promise.resolve(l):(zi(h,"If manager is not set, promise should be"),h)}const s=this.initAndGetManager(t);return this.eventManagers[i]={promise:s},s.catch(()=>{delete this.eventManagers[i]}),s}async initAndGetManager(t){const i=await Fb(t),s=new Db(t);return i.register("authEvent",l=>(ft(l==null?void 0:l.authEvent,t,"invalid-auth-event"),{status:s.onEvent(l.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:s},this.iframes[t._key()]=i,s}_isIframeWebStorageSupported(t,i){this.iframes[t._key()].send(Xf,{type:Xf},l=>{var h;const d=(h=l==null?void 0:l[0])===null||h===void 0?void 0:h[Xf];d!==void 0&&i(!!d),ri(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const i=t._key();return this.originValidationPromises[i]||(this.originValidationPromises[i]=Ub(t)),this.originValidationPromises[i]}get _shouldInitProactively(){return Rv()||vv()||Hd()}}const rR=iR;var Xy="@firebase/auth",$y="1.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sR{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const i=this.auth.onIdTokenChanged(s=>{t((s==null?void 0:s.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,i),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const i=this.internalListeners.get(t);i&&(this.internalListeners.delete(t),i(),this.updateProactiveRefresh())}assertAuthConfigured(){ft(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(a){switch(a){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function oR(a){Na(new Rs("auth",(t,{options:i})=>{const s=t.getProvider("app").getImmediate(),l=t.getProvider("heartbeat"),h=t.getProvider("app-check-internal"),{apiKey:d,authDomain:g}=s.options;ft(d&&!d.includes(":"),"invalid-api-key",{appName:s.name});const _={apiKey:d,authDomain:g,clientPlatform:a,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:wv(a)},v=new zS(s,l,h,_);return FS(v,i),v},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,i,s)=>{t.getProvider("auth-internal").initialize()})),Na(new Rs("auth-internal",t=>{const i=Sc(t.getProvider("auth").getImmediate());return(s=>new sR(s))(i)},"PRIVATE").setInstantiationMode("EXPLICIT")),Vr(Xy,$y,aR(a)),Vr(Xy,$y,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lR=5*60,uR=iv("authIdTokenMaxAge")||lR;let Zy=null;const cR=a=>async t=>{const i=t&&await t.getIdTokenResult(),s=i&&(new Date().getTime()-Date.parse(i.issuedAtTime))/1e3;if(s&&s>uR)return;const l=i==null?void 0:i.token;Zy!==l&&(Zy=l,await fetch(a,{method:l?"POST":"DELETE",headers:l?{Authorization:`Bearer ${l}`}:{}}))};function hR(a=ov()){const t=Ld(a,"auth");if(t.isInitialized())return t.getImmediate();const i=GS(a,{popupRedirectResolver:rR,persistence:[gb,ib,Vv]}),s=iv("authTokenSyncURL");if(s&&typeof isSecureContext=="boolean"&&isSecureContext){const h=new URL(s,location.origin);if(location.origin===h.origin){const d=cR(h.toString());tb(i,d,()=>d(i.currentUser)),WS(i,g=>d(g))}}const l=ev("auth");return l&&QS(i,`http://${l}`),i}function fR(){var a,t;return(t=(a=document.getElementsByTagName("head"))===null||a===void 0?void 0:a[0])!==null&&t!==void 0?t:document}BS({loadJS(a){return new Promise((t,i)=>{const s=document.createElement("script");s.setAttribute("src",a),s.onload=t,s.onerror=l=>{const h=Pn("internal-error");h.customData=l,i(h)},s.type="text/javascript",s.charset="UTF-8",fR().appendChild(s)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});oR("Browser");var Jy=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ur,qv;(function(){var a;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function t(M,R){function A(){}A.prototype=R.prototype,M.D=R.prototype,M.prototype=new A,M.prototype.constructor=M,M.C=function(C,N,k){for(var w=Array(arguments.length-2),pe=2;pe<arguments.length;pe++)w[pe-2]=arguments[pe];return R.prototype[N].apply(C,w)}}function i(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}t(s,i),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function l(M,R,A){A||(A=0);var C=Array(16);if(typeof R=="string")for(var N=0;16>N;++N)C[N]=R.charCodeAt(A++)|R.charCodeAt(A++)<<8|R.charCodeAt(A++)<<16|R.charCodeAt(A++)<<24;else for(N=0;16>N;++N)C[N]=R[A++]|R[A++]<<8|R[A++]<<16|R[A++]<<24;R=M.g[0],A=M.g[1],N=M.g[2];var k=M.g[3],w=R+(k^A&(N^k))+C[0]+3614090360&4294967295;R=A+(w<<7&4294967295|w>>>25),w=k+(N^R&(A^N))+C[1]+3905402710&4294967295,k=R+(w<<12&4294967295|w>>>20),w=N+(A^k&(R^A))+C[2]+606105819&4294967295,N=k+(w<<17&4294967295|w>>>15),w=A+(R^N&(k^R))+C[3]+3250441966&4294967295,A=N+(w<<22&4294967295|w>>>10),w=R+(k^A&(N^k))+C[4]+4118548399&4294967295,R=A+(w<<7&4294967295|w>>>25),w=k+(N^R&(A^N))+C[5]+1200080426&4294967295,k=R+(w<<12&4294967295|w>>>20),w=N+(A^k&(R^A))+C[6]+2821735955&4294967295,N=k+(w<<17&4294967295|w>>>15),w=A+(R^N&(k^R))+C[7]+4249261313&4294967295,A=N+(w<<22&4294967295|w>>>10),w=R+(k^A&(N^k))+C[8]+1770035416&4294967295,R=A+(w<<7&4294967295|w>>>25),w=k+(N^R&(A^N))+C[9]+2336552879&4294967295,k=R+(w<<12&4294967295|w>>>20),w=N+(A^k&(R^A))+C[10]+4294925233&4294967295,N=k+(w<<17&4294967295|w>>>15),w=A+(R^N&(k^R))+C[11]+2304563134&4294967295,A=N+(w<<22&4294967295|w>>>10),w=R+(k^A&(N^k))+C[12]+1804603682&4294967295,R=A+(w<<7&4294967295|w>>>25),w=k+(N^R&(A^N))+C[13]+4254626195&4294967295,k=R+(w<<12&4294967295|w>>>20),w=N+(A^k&(R^A))+C[14]+2792965006&4294967295,N=k+(w<<17&4294967295|w>>>15),w=A+(R^N&(k^R))+C[15]+1236535329&4294967295,A=N+(w<<22&4294967295|w>>>10),w=R+(N^k&(A^N))+C[1]+4129170786&4294967295,R=A+(w<<5&4294967295|w>>>27),w=k+(A^N&(R^A))+C[6]+3225465664&4294967295,k=R+(w<<9&4294967295|w>>>23),w=N+(R^A&(k^R))+C[11]+643717713&4294967295,N=k+(w<<14&4294967295|w>>>18),w=A+(k^R&(N^k))+C[0]+3921069994&4294967295,A=N+(w<<20&4294967295|w>>>12),w=R+(N^k&(A^N))+C[5]+3593408605&4294967295,R=A+(w<<5&4294967295|w>>>27),w=k+(A^N&(R^A))+C[10]+38016083&4294967295,k=R+(w<<9&4294967295|w>>>23),w=N+(R^A&(k^R))+C[15]+3634488961&4294967295,N=k+(w<<14&4294967295|w>>>18),w=A+(k^R&(N^k))+C[4]+3889429448&4294967295,A=N+(w<<20&4294967295|w>>>12),w=R+(N^k&(A^N))+C[9]+568446438&4294967295,R=A+(w<<5&4294967295|w>>>27),w=k+(A^N&(R^A))+C[14]+3275163606&4294967295,k=R+(w<<9&4294967295|w>>>23),w=N+(R^A&(k^R))+C[3]+4107603335&4294967295,N=k+(w<<14&4294967295|w>>>18),w=A+(k^R&(N^k))+C[8]+1163531501&4294967295,A=N+(w<<20&4294967295|w>>>12),w=R+(N^k&(A^N))+C[13]+2850285829&4294967295,R=A+(w<<5&4294967295|w>>>27),w=k+(A^N&(R^A))+C[2]+4243563512&4294967295,k=R+(w<<9&4294967295|w>>>23),w=N+(R^A&(k^R))+C[7]+1735328473&4294967295,N=k+(w<<14&4294967295|w>>>18),w=A+(k^R&(N^k))+C[12]+2368359562&4294967295,A=N+(w<<20&4294967295|w>>>12),w=R+(A^N^k)+C[5]+4294588738&4294967295,R=A+(w<<4&4294967295|w>>>28),w=k+(R^A^N)+C[8]+2272392833&4294967295,k=R+(w<<11&4294967295|w>>>21),w=N+(k^R^A)+C[11]+1839030562&4294967295,N=k+(w<<16&4294967295|w>>>16),w=A+(N^k^R)+C[14]+4259657740&4294967295,A=N+(w<<23&4294967295|w>>>9),w=R+(A^N^k)+C[1]+2763975236&4294967295,R=A+(w<<4&4294967295|w>>>28),w=k+(R^A^N)+C[4]+1272893353&4294967295,k=R+(w<<11&4294967295|w>>>21),w=N+(k^R^A)+C[7]+4139469664&4294967295,N=k+(w<<16&4294967295|w>>>16),w=A+(N^k^R)+C[10]+3200236656&4294967295,A=N+(w<<23&4294967295|w>>>9),w=R+(A^N^k)+C[13]+681279174&4294967295,R=A+(w<<4&4294967295|w>>>28),w=k+(R^A^N)+C[0]+3936430074&4294967295,k=R+(w<<11&4294967295|w>>>21),w=N+(k^R^A)+C[3]+3572445317&4294967295,N=k+(w<<16&4294967295|w>>>16),w=A+(N^k^R)+C[6]+76029189&4294967295,A=N+(w<<23&4294967295|w>>>9),w=R+(A^N^k)+C[9]+3654602809&4294967295,R=A+(w<<4&4294967295|w>>>28),w=k+(R^A^N)+C[12]+3873151461&4294967295,k=R+(w<<11&4294967295|w>>>21),w=N+(k^R^A)+C[15]+530742520&4294967295,N=k+(w<<16&4294967295|w>>>16),w=A+(N^k^R)+C[2]+3299628645&4294967295,A=N+(w<<23&4294967295|w>>>9),w=R+(N^(A|~k))+C[0]+4096336452&4294967295,R=A+(w<<6&4294967295|w>>>26),w=k+(A^(R|~N))+C[7]+1126891415&4294967295,k=R+(w<<10&4294967295|w>>>22),w=N+(R^(k|~A))+C[14]+2878612391&4294967295,N=k+(w<<15&4294967295|w>>>17),w=A+(k^(N|~R))+C[5]+4237533241&4294967295,A=N+(w<<21&4294967295|w>>>11),w=R+(N^(A|~k))+C[12]+1700485571&4294967295,R=A+(w<<6&4294967295|w>>>26),w=k+(A^(R|~N))+C[3]+2399980690&4294967295,k=R+(w<<10&4294967295|w>>>22),w=N+(R^(k|~A))+C[10]+4293915773&4294967295,N=k+(w<<15&4294967295|w>>>17),w=A+(k^(N|~R))+C[1]+2240044497&4294967295,A=N+(w<<21&4294967295|w>>>11),w=R+(N^(A|~k))+C[8]+1873313359&4294967295,R=A+(w<<6&4294967295|w>>>26),w=k+(A^(R|~N))+C[15]+4264355552&4294967295,k=R+(w<<10&4294967295|w>>>22),w=N+(R^(k|~A))+C[6]+2734768916&4294967295,N=k+(w<<15&4294967295|w>>>17),w=A+(k^(N|~R))+C[13]+1309151649&4294967295,A=N+(w<<21&4294967295|w>>>11),w=R+(N^(A|~k))+C[4]+4149444226&4294967295,R=A+(w<<6&4294967295|w>>>26),w=k+(A^(R|~N))+C[11]+3174756917&4294967295,k=R+(w<<10&4294967295|w>>>22),w=N+(R^(k|~A))+C[2]+718787259&4294967295,N=k+(w<<15&4294967295|w>>>17),w=A+(k^(N|~R))+C[9]+3951481745&4294967295,M.g[0]=M.g[0]+R&4294967295,M.g[1]=M.g[1]+(N+(w<<21&4294967295|w>>>11))&4294967295,M.g[2]=M.g[2]+N&4294967295,M.g[3]=M.g[3]+k&4294967295}s.prototype.u=function(M,R){R===void 0&&(R=M.length);for(var A=R-this.blockSize,C=this.B,N=this.h,k=0;k<R;){if(N==0)for(;k<=A;)l(this,M,k),k+=this.blockSize;if(typeof M=="string"){for(;k<R;)if(C[N++]=M.charCodeAt(k++),N==this.blockSize){l(this,C),N=0;break}}else for(;k<R;)if(C[N++]=M[k++],N==this.blockSize){l(this,C),N=0;break}}this.h=N,this.o+=R},s.prototype.v=function(){var M=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);M[0]=128;for(var R=1;R<M.length-8;++R)M[R]=0;var A=8*this.o;for(R=M.length-8;R<M.length;++R)M[R]=A&255,A/=256;for(this.u(M),M=Array(16),R=A=0;4>R;++R)for(var C=0;32>C;C+=8)M[A++]=this.g[R]>>>C&255;return M};function h(M,R){var A=g;return Object.prototype.hasOwnProperty.call(A,M)?A[M]:A[M]=R(M)}function d(M,R){this.h=R;for(var A=[],C=!0,N=M.length-1;0<=N;N--){var k=M[N]|0;C&&k==R||(A[N]=k,C=!1)}this.g=A}var g={};function _(M){return-128<=M&&128>M?h(M,function(R){return new d([R|0],0>R?-1:0)}):new d([M|0],0>M?-1:0)}function v(M){if(isNaN(M)||!isFinite(M))return V;if(0>M)return J(v(-M));for(var R=[],A=1,C=0;M>=A;C++)R[C]=M/A|0,A*=4294967296;return new d(R,0)}function S(M,R){if(M.length==0)throw Error("number format error: empty string");if(R=R||10,2>R||36<R)throw Error("radix out of range: "+R);if(M.charAt(0)=="-")return J(S(M.substring(1),R));if(0<=M.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(R,8)),C=V,N=0;N<M.length;N+=8){var k=Math.min(8,M.length-N),w=parseInt(M.substring(N,N+k),R);8>k?(k=v(Math.pow(R,k)),C=C.j(k).add(v(w))):(C=C.j(A),C=C.add(v(w)))}return C}var V=_(0),z=_(1),F=_(16777216);a=d.prototype,a.m=function(){if(rt(this))return-J(this).m();for(var M=0,R=1,A=0;A<this.g.length;A++){var C=this.i(A);M+=(0<=C?C:4294967296+C)*R,R*=4294967296}return M},a.toString=function(M){if(M=M||10,2>M||36<M)throw Error("radix out of range: "+M);if($(this))return"0";if(rt(this))return"-"+J(this).toString(M);for(var R=v(Math.pow(M,6)),A=this,C="";;){var N=qt(A,R).g;A=Ot(A,N.j(R));var k=((0<A.g.length?A.g[0]:A.h)>>>0).toString(M);if(A=N,$(A))return k+C;for(;6>k.length;)k="0"+k;C=k+C}},a.i=function(M){return 0>M?0:M<this.g.length?this.g[M]:this.h};function $(M){if(M.h!=0)return!1;for(var R=0;R<M.g.length;R++)if(M.g[R]!=0)return!1;return!0}function rt(M){return M.h==-1}a.l=function(M){return M=Ot(this,M),rt(M)?-1:$(M)?0:1};function J(M){for(var R=M.g.length,A=[],C=0;C<R;C++)A[C]=~M.g[C];return new d(A,~M.h).add(z)}a.abs=function(){return rt(this)?J(this):this},a.add=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],C=0,N=0;N<=R;N++){var k=C+(this.i(N)&65535)+(M.i(N)&65535),w=(k>>>16)+(this.i(N)>>>16)+(M.i(N)>>>16);C=w>>>16,k&=65535,w&=65535,A[N]=w<<16|k}return new d(A,A[A.length-1]&-2147483648?-1:0)};function Ot(M,R){return M.add(J(R))}a.j=function(M){if($(this)||$(M))return V;if(rt(this))return rt(M)?J(this).j(J(M)):J(J(this).j(M));if(rt(M))return J(this.j(J(M)));if(0>this.l(F)&&0>M.l(F))return v(this.m()*M.m());for(var R=this.g.length+M.g.length,A=[],C=0;C<2*R;C++)A[C]=0;for(C=0;C<this.g.length;C++)for(var N=0;N<M.g.length;N++){var k=this.i(C)>>>16,w=this.i(C)&65535,pe=M.i(N)>>>16,ce=M.i(N)&65535;A[2*C+2*N]+=w*ce,pt(A,2*C+2*N),A[2*C+2*N+1]+=k*ce,pt(A,2*C+2*N+1),A[2*C+2*N+1]+=w*pe,pt(A,2*C+2*N+1),A[2*C+2*N+2]+=k*pe,pt(A,2*C+2*N+2)}for(C=0;C<R;C++)A[C]=A[2*C+1]<<16|A[2*C];for(C=R;C<2*R;C++)A[C]=0;return new d(A,0)};function pt(M,R){for(;(M[R]&65535)!=M[R];)M[R+1]+=M[R]>>>16,M[R]&=65535,R++}function Et(M,R){this.g=M,this.h=R}function qt(M,R){if($(R))throw Error("division by zero");if($(M))return new Et(V,V);if(rt(M))return R=qt(J(M),R),new Et(J(R.g),J(R.h));if(rt(R))return R=qt(M,J(R)),new Et(J(R.g),R.h);if(30<M.g.length){if(rt(M)||rt(R))throw Error("slowDivide_ only works with positive integers.");for(var A=z,C=R;0>=C.l(M);)A=dt(A),C=dt(C);var N=wt(A,1),k=wt(C,1);for(C=wt(C,2),A=wt(A,2);!$(C);){var w=k.add(C);0>=w.l(M)&&(N=N.add(A),k=w),C=wt(C,1),A=wt(A,1)}return R=Ot(M,N.j(R)),new Et(N,R)}for(N=V;0<=M.l(R);){for(A=Math.max(1,Math.floor(M.m()/R.m())),C=Math.ceil(Math.log(A)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),k=v(A),w=k.j(R);rt(w)||0<w.l(M);)A-=C,k=v(A),w=k.j(R);$(k)&&(k=z),N=N.add(k),M=Ot(M,w)}return new Et(N,M)}a.A=function(M){return qt(this,M).h},a.and=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],C=0;C<R;C++)A[C]=this.i(C)&M.i(C);return new d(A,this.h&M.h)},a.or=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],C=0;C<R;C++)A[C]=this.i(C)|M.i(C);return new d(A,this.h|M.h)},a.xor=function(M){for(var R=Math.max(this.g.length,M.g.length),A=[],C=0;C<R;C++)A[C]=this.i(C)^M.i(C);return new d(A,this.h^M.h)};function dt(M){for(var R=M.g.length+1,A=[],C=0;C<R;C++)A[C]=M.i(C)<<1|M.i(C-1)>>>31;return new d(A,M.h)}function wt(M,R){var A=R>>5;R%=32;for(var C=M.g.length-A,N=[],k=0;k<C;k++)N[k]=0<R?M.i(k+A)>>>R|M.i(k+A+1)<<32-R:M.i(k+A);return new d(N,M.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,qv=s,d.prototype.add=d.prototype.add,d.prototype.multiply=d.prototype.j,d.prototype.modulo=d.prototype.A,d.prototype.compare=d.prototype.l,d.prototype.toNumber=d.prototype.m,d.prototype.toString=d.prototype.toString,d.prototype.getBits=d.prototype.i,d.fromNumber=v,d.fromString=S,Ur=d}).apply(typeof Jy<"u"?Jy:typeof self<"u"?self:typeof window<"u"?window:{});var Fu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hv,tl,jv,ec,fd,Gv,Fv,Qv;(function(){var a,t=typeof Object.defineProperties=="function"?Object.defineProperty:function(u,m,p){return u==Array.prototype||u==Object.prototype||(u[m]=p.value),u};function i(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Fu=="object"&&Fu];for(var m=0;m<u.length;++m){var p=u[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var s=i(this);function l(u,m){if(m)t:{var p=s;u=u.split(".");for(var T=0;T<u.length-1;T++){var L=u[T];if(!(L in p))break t;p=p[L]}u=u[u.length-1],T=p[u],m=m(T),m!=T&&m!=null&&t(p,u,{configurable:!0,writable:!0,value:m})}}function h(u,m){u instanceof String&&(u+="");var p=0,T=!1,L={next:function(){if(!T&&p<u.length){var B=p++;return{value:m(B,u[B]),done:!1}}return T=!0,{done:!0,value:void 0}}};return L[Symbol.iterator]=function(){return L},L}l("Array.prototype.values",function(u){return u||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var d=d||{},g=this||self;function _(u){var m=typeof u;return m=m!="object"?m:u?Array.isArray(u)?"array":m:"null",m=="array"||m=="object"&&typeof u.length=="number"}function v(u){var m=typeof u;return m=="object"&&u!=null||m=="function"}function S(u,m,p){return u.call.apply(u.bind,arguments)}function V(u,m,p){if(!u)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var L=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(L,T),u.apply(m,L)}}return function(){return u.apply(m,arguments)}}function z(u,m,p){return z=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?S:V,z.apply(null,arguments)}function F(u,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),u.apply(this,T)}}function $(u,m){function p(){}p.prototype=m.prototype,u.aa=m.prototype,u.prototype=new p,u.prototype.constructor=u,u.Qb=function(T,L,B){for(var Y=Array(arguments.length-2),Nt=2;Nt<arguments.length;Nt++)Y[Nt-2]=arguments[Nt];return m.prototype[L].apply(T,Y)}}function rt(u){const m=u.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=u[T];return p}return[]}function J(u,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const L=u.length||0,B=T.length||0;u.length=L+B;for(let Y=0;Y<B;Y++)u[L+Y]=T[Y]}else u.push(T)}}class Ot{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function pt(u){return/^[\s\xa0]*$/.test(u)}function Et(){var u=g.navigator;return u&&(u=u.userAgent)?u:""}function qt(u){return qt[" "](u),u}qt[" "]=function(){};var dt=Et().indexOf("Gecko")!=-1&&!(Et().toLowerCase().indexOf("webkit")!=-1&&Et().indexOf("Edge")==-1)&&!(Et().indexOf("Trident")!=-1||Et().indexOf("MSIE")!=-1)&&Et().indexOf("Edge")==-1;function wt(u,m,p){for(const T in u)m.call(p,u[T],T,u)}function M(u,m){for(const p in u)m.call(void 0,u[p],p,u)}function R(u){const m={};for(const p in u)m[p]=u[p];return m}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(u,m){let p,T;for(let L=1;L<arguments.length;L++){T=arguments[L];for(p in T)u[p]=T[p];for(let B=0;B<A.length;B++)p=A[B],Object.prototype.hasOwnProperty.call(T,p)&&(u[p]=T[p])}}function N(u){var m=1;u=u.split(":");const p=[];for(;0<m&&u.length;)p.push(u.shift()),m--;return u.length&&p.push(u.join(":")),p}function k(u){g.setTimeout(()=>{throw u},0)}function w(){var u=Ht;let m=null;return u.g&&(m=u.g,u.g=u.g.next,u.g||(u.h=null),m.next=null),m}class pe{constructor(){this.h=this.g=null}add(m,p){const T=ce.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var ce=new Ot(()=>new Z,u=>u.reset());class Z{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let ct,ot=!1,Ht=new pe,I=()=>{const u=g.Promise.resolve(void 0);ct=()=>{u.then(K)}};var K=()=>{for(var u;u=w();){try{u.h.call(u.g)}catch(p){k(p)}var m=ce;m.j(u),100>m.h&&(m.h++,u.next=m.g,m.g=u)}ot=!1};function st(){this.s=this.s,this.C=this.C}st.prototype.s=!1,st.prototype.ma=function(){this.s||(this.s=!0,this.N())},st.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function W(u,m){this.type=u,this.g=this.target=m,this.defaultPrevented=!1}W.prototype.h=function(){this.defaultPrevented=!0};var tt=function(){if(!g.addEventListener||!Object.defineProperty)return!1;var u=!1,m=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const p=()=>{};g.addEventListener("test",p,m),g.removeEventListener("test",p,m)}catch{}return u}();function Tt(u,m){if(W.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u){var p=this.type=u.type,T=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;if(this.target=u.target||u.srcElement,this.g=m,m=u.relatedTarget){if(dt){t:{try{qt(m.nodeName);var L=!0;break t}catch{}L=!1}L||(m=null)}}else p=="mouseover"?m=u.fromElement:p=="mouseout"&&(m=u.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=typeof u.pointerType=="string"?u.pointerType:_t[u.pointerType]||"",this.state=u.state,this.i=u,u.defaultPrevented&&Tt.aa.h.call(this)}}$(Tt,W);var _t={2:"touch",3:"pen",4:"mouse"};Tt.prototype.h=function(){Tt.aa.h.call(this);var u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Pt=0;function te(u,m,p,T,L){this.listener=u,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=L,this.key=++Pt,this.da=this.fa=!1}function Gt(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function Qe(u){this.src=u,this.g={},this.h=0}Qe.prototype.add=function(u,m,p,T,L){var B=u.toString();u=this.g[B],u||(u=this.g[B]=[],this.h++);var Y=fn(u,m,T,L);return-1<Y?(m=u[Y],p||(m.fa=!1)):(m=new te(m,this.src,B,!!T,L),m.fa=p,u.push(m)),m};function oi(u,m){var p=m.type;if(p in u.g){var T=u.g[p],L=Array.prototype.indexOf.call(T,m,void 0),B;(B=0<=L)&&Array.prototype.splice.call(T,L,1),B&&(Gt(m),u.g[p].length==0&&(delete u.g[p],u.h--))}}function fn(u,m,p,T){for(var L=0;L<u.length;++L){var B=u[L];if(!B.da&&B.listener==m&&B.capture==!!p&&B.ha==T)return L}return-1}var Hi="closure_lm_"+(1e6*Math.random()|0),ji={};function li(u,m,p,T,L){if(Array.isArray(m)){for(var B=0;B<m.length;B++)li(u,m[B],p,T,L);return null}return p=Sl(p),u&&u[he]?u.K(m,p,v(T)?!!T.capture:!1,L):Qa(u,m,p,!1,T,L)}function Qa(u,m,p,T,L,B){if(!m)throw Error("Invalid event type");var Y=v(L)?!!L.capture:!!L,Nt=Ka(u);if(Nt||(u[Hi]=Nt=new Qe(u)),p=Nt.add(m,p,T,Y,B),p.proxy)return p;if(T=Os(),p.proxy=T,T.src=u,T.listener=p,u.addEventListener)tt||(L=Y),L===void 0&&(L=!1),u.addEventListener(m.toString(),T,L);else if(u.attachEvent)u.attachEvent(Ms(m.toString()),T);else if(u.addListener&&u.removeListener)u.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Os(){function u(p){return m.call(u.src,u.listener,p)}const m=xc;return u}function Ns(u,m,p,T,L){if(Array.isArray(m))for(var B=0;B<m.length;B++)Ns(u,m[B],p,T,L);else T=v(T)?!!T.capture:!!T,p=Sl(p),u&&u[he]?(u=u.i,m=String(m).toString(),m in u.g&&(B=u.g[m],p=fn(B,p,T,L),-1<p&&(Gt(B[p]),Array.prototype.splice.call(B,p,1),B.length==0&&(delete u.g[m],u.h--)))):u&&(u=Ka(u))&&(m=u.g[m.toString()],u=-1,m&&(u=fn(m,p,T,L)),(p=-1<u?m[u]:null)&&qr(p))}function qr(u){if(typeof u!="number"&&u&&!u.da){var m=u.src;if(m&&m[he])oi(m.i,u);else{var p=u.type,T=u.proxy;m.removeEventListener?m.removeEventListener(p,T,u.capture):m.detachEvent?m.detachEvent(Ms(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=Ka(m))?(oi(p,u),p.h==0&&(p.src=null,m[Hi]=null)):Gt(u)}}}function Ms(u){return u in ji?ji[u]:ji[u]="on"+u}function xc(u,m){if(u.da)u=!0;else{m=new Tt(m,this);var p=u.listener,T=u.ha||u.src;u.fa&&qr(u),u=p.call(T,m)}return u}function Ka(u){return u=u[Hi],u instanceof Qe?u:null}var We="__closure_events_fn_"+(1e9*Math.random()>>>0);function Sl(u){return typeof u=="function"?u:(u[We]||(u[We]=function(m){return u.handleEvent(m)}),u[We])}function ye(){st.call(this),this.i=new Qe(this),this.M=this,this.F=null}$(ye,st),ye.prototype[he]=!0,ye.prototype.removeEventListener=function(u,m,p,T){Ns(this,u,m,p,T)};function Re(u,m){var p,T=u.F;if(T)for(p=[];T;T=T.F)p.push(T);if(u=u.M,T=m.type||m,typeof m=="string")m=new W(m,u);else if(m instanceof W)m.target=m.target||u;else{var L=m;m=new W(T,u),C(m,L)}if(L=!0,p)for(var B=p.length-1;0<=B;B--){var Y=m.g=p[B];L=ui(Y,T,!0,m)&&L}if(Y=m.g=u,L=ui(Y,T,!0,m)&&L,L=ui(Y,T,!1,m)&&L,p)for(B=0;B<p.length;B++)Y=m.g=p[B],L=ui(Y,T,!1,m)&&L}ye.prototype.N=function(){if(ye.aa.N.call(this),this.i){var u=this.i,m;for(m in u.g){for(var p=u.g[m],T=0;T<p.length;T++)Gt(p[T]);delete u.g[m],u.h--}}this.F=null},ye.prototype.K=function(u,m,p,T){return this.i.add(String(u),m,!1,p,T)},ye.prototype.L=function(u,m,p,T){return this.i.add(String(u),m,!0,p,T)};function ui(u,m,p,T){if(m=u.i.g[String(m)],!m)return!0;m=m.concat();for(var L=!0,B=0;B<m.length;++B){var Y=m[B];if(Y&&!Y.da&&Y.capture==p){var Nt=Y.listener,ve=Y.ha||Y.src;Y.fa&&oi(u.i,Y),L=Nt.call(ve,T)!==!1&&L}}return L&&!T.defaultPrevented}function bl(u,m,p){if(typeof u=="function")p&&(u=z(u,p));else if(u&&typeof u.handleEvent=="function")u=z(u.handleEvent,u);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:g.setTimeout(u,m||0)}function Ya(u){u.g=bl(()=>{u.g=null,u.i&&(u.i=!1,Ya(u))},u.l);const m=u.h;u.h=null,u.m.apply(null,m)}class zc extends st{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:Ya(this)}N(){super.N(),this.g&&(g.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Hr(u){st.call(this),this.h=u,this.g={}}$(Hr,st);var Gi=[];function ze(u){wt(u.g,function(m,p){this.g.hasOwnProperty(p)&&qr(m)},u),u.g={}}Hr.prototype.N=function(){Hr.aa.N.call(this),ze(this)},Hr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Xa=g.JSON.stringify,xn=g.JSON.parse,Ke=class{stringify(u){return g.JSON.stringify(u,void 0)}parse(u){return g.JSON.parse(u,void 0)}};function $a(){}$a.prototype.h=null;function Rl(u){return u.h||(u.h=u.i())}function wl(){}var zn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fi(){W.call(this,"d")}$(Fi,W);function On(){W.call(this,"c")}$(On,W);var dn={},Qi=null;function Vs(){return Qi=Qi||new ye}dn.La="serverreachability";function Za(u){W.call(this,dn.La,u)}$(Za,W);function Ki(u){const m=Vs();Re(m,new Za(m))}dn.STAT_EVENT="statevent";function Us(u,m){W.call(this,dn.STAT_EVENT,u),this.stat=m}$(Us,W);function ae(u){const m=Vs();Re(m,new Us(m,u))}dn.Ma="timingevent";function Cl(u,m){W.call(this,dn.Ma,u),this.size=m}$(Cl,W);function Yi(u,m){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return g.setTimeout(function(){u()},m)}function Xi(){this.g=!0}Xi.prototype.xa=function(){this.g=!1};function Il(u,m,p,T,L,B){u.info(function(){if(u.g)if(B)for(var Y="",Nt=B.split("&"),ve=0;ve<Nt.length;ve++){var Mt=Nt[ve].split("=");if(1<Mt.length){var Ie=Mt[0];Mt=Mt[1];var Ee=Ie.split("_");Y=2<=Ee.length&&Ee[1]=="type"?Y+(Ie+"="+Mt+"&"):Y+(Ie+"=redacted&")}}else Y=null;else Y=B;return"XMLHTTP REQ ("+T+") [attempt "+L+"]: "+m+`
`+p+`
`+Y})}function Dl(u,m,p,T,L,B,Y){u.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+L+"]: "+m+`
`+p+`
`+B+" "+Y})}function $i(u,m,p,T){u.info(function(){return"XMLHTTP TEXT ("+m+"): "+we(u,p)+(T?" "+T:"")})}function Bn(u,m){u.info(function(){return"TIMEOUT: "+m})}Xi.prototype.info=function(){};function we(u,m){if(!u.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(u=0;u<p.length;u++)if(Array.isArray(p[u])){var T=p[u];if(!(2>T.length)){var L=T[1];if(Array.isArray(L)&&!(1>L.length)){var B=L[0];if(B!="noop"&&B!="stop"&&B!="close")for(var Y=1;Y<L.length;Y++)L[Y]=""}}}}return Xa(p)}catch{return m}}var _e={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},ci={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},jr;function Ls(){}$(Ls,$a),Ls.prototype.g=function(){return new XMLHttpRequest},Ls.prototype.i=function(){return{}},jr=new Ls;function qn(u,m,p,T){this.j=u,this.i=m,this.l=p,this.R=T||1,this.U=new Hr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ja}function Ja(){this.i=null,this.g="",this.h=!1}var Zi={},Gr={};function Nn(u,m,p){u.L=1,u.v=Kr(ee(m)),u.m=p,u.P=!0,hi(u,null)}function hi(u,m){u.F=Date.now(),$t(u),u.A=ee(u.v);var p=u.A,T=u.R;Array.isArray(T)||(T=[String(T)]),mi(p.i,"t",T),u.C=0,p=u.j.J,u.h=new Ja,u.g=jl(u.j,p?m:null,!u.m),0<u.O&&(u.M=new zc(z(u.Y,u,u.g),u.O)),m=u.U,p=u.g,T=u.ca;var L="readystatechange";Array.isArray(L)||(L&&(Gi[0]=L.toString()),L=Gi);for(var B=0;B<L.length;B++){var Y=li(p,L[B],T||m.handleEvent,!1,m.h||m);if(!Y)break;m.g[Y.key]=Y}m=u.H?R(u.H):{},u.m?(u.u||(u.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.A,u.u,u.m,m)):(u.u="GET",u.g.ea(u.A,u.u,null,m)),Ki(),Il(u.i,u.u,u.A,u.l,u.R,u.m)}qn.prototype.ca=function(u){u=u.target;const m=this.M;m&&_n(u)==3?m.j():this.Y(u)},qn.prototype.Y=function(u){try{if(u==this.g)t:{const Ee=_n(this.g);var m=this.g.Ba();const _i=this.g.Z();if(!(3>Ee)&&(Ee!=3||this.g&&(this.h.h||this.g.oa()||Ll(this.g)))){this.J||Ee!=4||m==7||(m==8||0>=_i?Ki(3):Ki(2)),ks(this);var p=this.g.Z();this.X=p;e:if(Ji(this)){var T=Ll(this.g);u="";var L=T.length,B=_n(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){tn(this),sn(this);var Y="";break e}this.h.i=new g.TextDecoder}for(m=0;m<L;m++)this.h.h=!0,u+=this.h.i.decode(T[m],{stream:!(B&&m==L-1)});T.length=0,this.h.g+=u,this.C=0,Y=this.h.g}else Y=this.g.oa();if(this.o=p==200,Dl(this.i,this.u,this.A,this.l,this.R,Ee,p),this.o){if(this.T&&!this.K){e:{if(this.g){var Nt,ve=this.g;if((Nt=ve.g?ve.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!pt(Nt)){var Mt=Nt;break e}}Mt=null}if(p=Mt)$i(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,an(this,p);else{this.o=!1,this.s=3,ae(12),tn(this),sn(this);break t}}if(this.P){p=!0;let Ve;for(;!this.J&&this.C<Y.length;)if(Ve=Wi(this,Y),Ve==Gr){Ee==4&&(this.s=4,ae(14),p=!1),$i(this.i,this.l,null,"[Incomplete Response]");break}else if(Ve==Zi){this.s=4,ae(15),$i(this.i,this.l,Y,"[Invalid Chunk]"),p=!1;break}else $i(this.i,this.l,Ve,null),an(this,Ve);if(Ji(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ee!=4||Y.length!=0||this.h.h||(this.s=1,ae(16),p=!1),this.o=this.o&&p,!p)$i(this.i,this.l,Y,"[Invalid Chunked Response]"),tn(this),sn(this);else if(0<Y.length&&!this.W){this.W=!0;var Ie=this.j;Ie.g==this&&Ie.ba&&!Ie.M&&(Ie.j.info("Great, no buffering proxy detected. Bytes received: "+Y.length),ts(Ie),Ie.M=!0,ae(11))}}else $i(this.i,this.l,Y,null),an(this,Y);Ee==4&&tn(this),this.o&&!this.J&&(Ee==4?Bl(this.j,this):(this.o=!1,$t(this)))}else Fc(this.g),p==400&&0<Y.indexOf("Unknown SID")?(this.s=3,ae(12)):(this.s=0,ae(13)),tn(this),sn(this)}}}catch{}finally{}};function Ji(u){return u.g?u.u=="GET"&&u.L!=2&&u.j.Ca:!1}function Wi(u,m){var p=u.C,T=m.indexOf(`
`,p);return T==-1?Gr:(p=Number(m.substring(p,T)),isNaN(p)?Zi:(T+=1,T+p>m.length?Gr:(m=m.slice(T,T+p),u.C=T+p,m)))}qn.prototype.cancel=function(){this.J=!0,tn(this)};function $t(u){u.S=Date.now()+u.I,Wa(u,u.I)}function Wa(u,m){if(u.B!=null)throw Error("WatchDog timer not null");u.B=Yi(z(u.ba,u),m)}function ks(u){u.B&&(g.clearTimeout(u.B),u.B=null)}qn.prototype.ba=function(){this.B=null;const u=Date.now();0<=u-this.S?(Bn(this.i,this.A),this.L!=2&&(Ki(),ae(17)),tn(this),this.s=2,sn(this)):Wa(this,this.S-u)};function sn(u){u.j.G==0||u.J||Bl(u.j,u)}function tn(u){ks(u);var m=u.M;m&&typeof m.ma=="function"&&m.ma(),u.M=null,ze(u.U),u.g&&(m=u.g,u.g=null,m.abort(),m.ma())}function an(u,m){try{var p=u.j;if(p.G!=0&&(p.g==u||tr(p.h,u))){if(!u.K&&tr(p.h,u)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var L=T;if(L[0]==0){t:if(!p.u){if(p.g)if(p.g.F+3e3<u.F)Qs(p),Gs(p);else break t;co(p),ae(18)}}else p.za=L[1],0<p.za-p.T&&37500>L[2]&&p.F&&p.v==0&&!p.C&&(p.C=Yi(z(p.Za,p),6e3));if(1>=Ol(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else yi(p,11)}else if((u.K||p.g==u)&&Qs(p),!pt(m))for(L=p.Da.g.parse(m),m=0;m<L.length;m++){let Mt=L[m];if(p.T=Mt[0],Mt=Mt[1],p.G==2)if(Mt[0]=="c"){p.K=Mt[1],p.ia=Mt[2];const Ie=Mt[3];Ie!=null&&(p.la=Ie,p.j.info("VER="+p.la));const Ee=Mt[4];Ee!=null&&(p.Aa=Ee,p.j.info("SVER="+p.Aa));const _i=Mt[5];_i!=null&&typeof _i=="number"&&0<_i&&(T=1.5*_i,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const Ve=u.g;if(Ve){const Yn=Ve.g?Ve.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Yn){var B=T.h;B.g||Yn.indexOf("spdy")==-1&&Yn.indexOf("quic")==-1&&Yn.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(er(B,B.h),B.h=null))}if(T.D){const fo=Ve.g?Ve.g.getResponseHeader("X-HTTP-Session-Id"):null;fo&&(T.ya=fo,xt(T.I,T.D,fo))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-u.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var Y=u;if(T.qa=Hl(T,T.J?T.ia:null,T.W),Y.K){mn(T.h,Y);var Nt=Y,ve=T.L;ve&&(Nt.I=ve),Nt.B&&(ks(Nt),$t(Nt)),T.g=Y}else xl(T);0<p.i.length&&Fs(p)}else Mt[0]!="stop"&&Mt[0]!="close"||yi(p,7);else p.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?yi(p,7):lo(p):Mt[0]!="noop"&&p.l&&p.l.ta(Mt),p.v=0)}}Ki(4)}catch{}}var Bc=class{constructor(u,m){this.g=u,this.map=m}};function to(u){this.l=u||10,g.PerformanceNavigationTiming?(u=g.performance.getEntriesByType("navigation"),u=0<u.length&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(g.chrome&&g.chrome.loadTimes&&g.chrome.loadTimes()&&g.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function eo(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Ol(u){return u.h?1:u.g?u.g.size:0}function tr(u,m){return u.h?u.h==m:u.g?u.g.has(m):!1}function er(u,m){u.g?u.g.add(m):u.h=m}function mn(u,m){u.h&&u.h==m?u.h=null:u.g&&u.g.has(m)&&u.g.delete(m)}to.prototype.cancel=function(){if(this.i=Ye(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Ye(u){if(u.h!=null)return u.i.concat(u.h.D);if(u.g!=null&&u.g.size!==0){let m=u.i;for(const p of u.g.values())m=m.concat(p.D);return m}return rt(u.i)}function Nl(u){if(u.V&&typeof u.V=="function")return u.V();if(typeof Map<"u"&&u instanceof Map||typeof Set<"u"&&u instanceof Set)return Array.from(u.values());if(typeof u=="string")return u.split("");if(_(u)){for(var m=[],p=u.length,T=0;T<p;T++)m.push(u[T]);return m}m=[],p=0;for(T in u)m[p++]=u[T];return m}function qc(u){if(u.na&&typeof u.na=="function")return u.na();if(!u.V||typeof u.V!="function"){if(typeof Map<"u"&&u instanceof Map)return Array.from(u.keys());if(!(typeof Set<"u"&&u instanceof Set)){if(_(u)||typeof u=="string"){var m=[];u=u.length;for(var p=0;p<u;p++)m.push(p);return m}m=[],p=0;for(const T in u)m[p++]=T;return m}}}function Fr(u,m){if(u.forEach&&typeof u.forEach=="function")u.forEach(m,void 0);else if(_(u)||typeof u=="string")Array.prototype.forEach.call(u,m,void 0);else for(var p=qc(u),T=Nl(u),L=T.length,B=0;B<L;B++)m.call(void 0,T[B],p&&p[B],u)}var no=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ps(u,m){if(u){u=u.split("&");for(var p=0;p<u.length;p++){var T=u[p].indexOf("="),L=null;if(0<=T){var B=u[p].substring(0,T);L=u[p].substring(T+1)}else B=u[p];m(B,L?decodeURIComponent(L.replace(/\+/g," ")):"")}}}function fi(u){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,u instanceof fi){this.h=u.h,nr(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.s),this.l=u.l;var m=u.i,p=new Hn;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),xs(this,p),this.m=u.m}else u&&(m=String(u).match(no))?(this.h=!1,nr(this,m[1]||"",!0),this.o=ir(m[2]||""),this.g=ir(m[3]||"",!0),Qr(this,m[4]),this.l=ir(m[5]||"",!0),xs(this,m[6]||"",!0),this.m=ir(m[7]||"")):(this.h=!1,this.i=new Hn(null,this.h))}fi.prototype.toString=function(){var u=[],m=this.j;m&&u.push(gn(m,io,!0),":");var p=this.g;return(p||m=="file")&&(u.push("//"),(m=this.o)&&u.push(gn(m,io,!0),"@"),u.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&u.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&u.push("/"),u.push(gn(p,p.charAt(0)=="/"?ro:Ml,!0))),(p=this.i.toString())&&u.push("?",p),(p=this.m)&&u.push("#",gn(p,Gc)),u.join("")};function ee(u){return new fi(u)}function nr(u,m,p){u.j=p?ir(m,!0):m,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);u.s=m}else u.s=null}function xs(u,m,p){m instanceof Hn?(u.i=m,so(u.i,u.h)):(p||(m=gn(m,jc)),u.i=new Hn(m,u.h))}function xt(u,m,p){u.i.set(m,p)}function Kr(u){return xt(u,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),u}function ir(u,m){return u?m?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function gn(u,m,p){return typeof u=="string"?(u=encodeURI(u).replace(m,Hc),p&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Hc(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var io=/[#\/\?@]/g,Ml=/[#\?:]/g,ro=/[#\?]/g,jc=/[#\?@]/g,Gc=/#/g;function Hn(u,m){this.h=this.g=null,this.i=u||null,this.j=!!m}function pn(u){u.g||(u.g=new Map,u.h=0,u.i&&Ps(u.i,function(m,p){u.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}a=Hn.prototype,a.add=function(u,m){pn(this),this.i=null,u=gi(this,u);var p=this.g.get(u);return p||this.g.set(u,p=[]),p.push(m),this.h+=1,this};function zs(u,m){pn(u),m=gi(u,m),u.g.has(m)&&(u.i=null,u.h-=u.g.get(m).length,u.g.delete(m))}function di(u,m){return pn(u),m=gi(u,m),u.g.has(m)}a.forEach=function(u,m){pn(this),this.g.forEach(function(p,T){p.forEach(function(L){u.call(m,L,T,this)},this)},this)},a.na=function(){pn(this);const u=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const L=u[T];for(let B=0;B<L.length;B++)p.push(m[T])}return p},a.V=function(u){pn(this);let m=[];if(typeof u=="string")di(this,u)&&(m=m.concat(this.g.get(gi(this,u))));else{u=Array.from(this.g.values());for(let p=0;p<u.length;p++)m=m.concat(u[p])}return m},a.set=function(u,m){return pn(this),this.i=null,u=gi(this,u),di(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[m]),this.h+=1,this},a.get=function(u,m){return u?(u=this.V(u),0<u.length?String(u[0]):m):m};function mi(u,m,p){zs(u,m),0<p.length&&(u.i=null,u.g.set(gi(u,m),rt(p)),u.h+=p.length)}a.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const B=encodeURIComponent(String(T)),Y=this.V(T);for(T=0;T<Y.length;T++){var L=B;Y[T]!==""&&(L+="="+encodeURIComponent(String(Y[T]))),u.push(L)}}return this.i=u.join("&")};function gi(u,m){return m=String(m),u.j&&(m=m.toLowerCase()),m}function so(u,m){m&&!u.j&&(pn(u),u.i=null,u.g.forEach(function(p,T){var L=T.toLowerCase();T!=L&&(zs(this,T),mi(this,L,p))},u)),u.j=m}function Vl(u,m){const p=new Xi;if(g.Image){const T=new Image;T.onload=F(yn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=F(yn,p,"TestLoadImage: error",!1,m,T),T.onabort=F(yn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=F(yn,p,"TestLoadImage: timeout",!1,m,T),g.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=u}else m(!1)}function Yr(u,m){const p=new Xi,T=new AbortController,L=setTimeout(()=>{T.abort(),yn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(u,{signal:T.signal}).then(B=>{clearTimeout(L),B.ok?yn(p,"TestPingServer: ok",!0,m):yn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(L),yn(p,"TestPingServer: error",!1,m)})}function yn(u,m,p,T,L){try{L&&(L.onload=null,L.onerror=null,L.onabort=null,L.ontimeout=null),T(p)}catch{}}function Xr(){this.g=new Ke}function jn(u,m,p){const T=p||"";try{Fr(u,function(L,B){let Y=L;v(L)&&(Y=Xa(L)),m.push(T+B+"="+encodeURIComponent(Y))})}catch(L){throw m.push(T+"type="+encodeURIComponent("_badmap")),L}}function rr(u){this.l=u.Ub||null,this.j=u.eb||!1}$(rr,$a),rr.prototype.g=function(){return new pi(this.l,this.j)},rr.prototype.i=function(u){return function(){return u}}({});function pi(u,m){ye.call(this),this.D=u,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(pi,ye),a=pi.prototype,a.open=function(u,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=u,this.A=m,this.readyState=1,Fn(this)},a.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};u&&(m.body=u),(this.D||g).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},a.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Gn(this)),this.readyState=0},a.Sa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof g.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;ao(this)}else u.text().then(this.Ra.bind(this),this.ga.bind(this))};function ao(u){u.j.read().then(u.Pa.bind(u)).catch(u.ga.bind(u))}a.Pa=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var m=u.value?u.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!u.done}))&&(this.response=this.responseText+=m)}u.done?Gn(this):Fn(this),this.readyState==3&&ao(this)}},a.Ra=function(u){this.g&&(this.response=this.responseText=u,Gn(this))},a.Qa=function(u){this.g&&(this.response=u,Gn(this))},a.ga=function(){this.g&&Gn(this)};function Gn(u){u.readyState=4,u.l=null,u.j=null,u.v=null,Fn(u)}a.setRequestHeader=function(u,m){this.u.append(u,m)},a.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},a.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,u.push(p[0]+": "+p[1]),p=m.next();return u.join(`\r
`)};function Fn(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(pi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function oo(u){let m="";return wt(u,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function Ce(u,m,p){t:{for(T in p){var T=!1;break t}T=!0}T||(p=oo(p),typeof u=="string"?p!=null&&encodeURIComponent(String(p)):xt(u,m,p))}function jt(u){ye.call(this),this.headers=new Map,this.o=u||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(jt,ye);var Bs=/^https?$/i,$r=["POST","PUT"];a=jt.prototype,a.Ha=function(u){this.J=u},a.ea=function(u,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);m=m?m.toUpperCase():"GET",this.D=u,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():jr.g(),this.v=this.o?Rl(this.o):Rl(jr),this.g.onreadystatechange=z(this.Ea,this);try{this.B=!0,this.g.open(m,String(u),!0),this.B=!1}catch(B){Ul(this,B);return}if(u=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var L in T)p.set(L,T[L]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const B of T.keys())p.set(B,T.get(B));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(B=>B.toLowerCase()=="content-type"),L=g.FormData&&u instanceof g.FormData,!(0<=Array.prototype.indexOf.call($r,m,void 0))||T||L||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,Y]of p)this.g.setRequestHeader(B,Y);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Zr(this),this.u=!0,this.g.send(u),this.u=!1}catch(B){Ul(this,B)}};function Ul(u,m){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=m,u.m=5,qs(u),Qn(u)}function qs(u){u.A||(u.A=!0,Re(u,"complete"),Re(u,"error"))}a.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=u||7,Re(this,"complete"),Re(this,"abort"),Qn(this))},a.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Qn(this,!0)),jt.aa.N.call(this)},a.Ea=function(){this.s||(this.B||this.u||this.j?Hs(this):this.bb())},a.bb=function(){Hs(this)};function Hs(u){if(u.h&&typeof d<"u"&&(!u.v[1]||_n(u)!=4||u.Z()!=2)){if(u.u&&_n(u)==4)bl(u.Ea,0,u);else if(Re(u,"readystatechange"),_n(u)==4){u.h=!1;try{const Y=u.Z();t:switch(Y){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break t;default:m=!1}var p;if(!(p=m)){var T;if(T=Y===0){var L=String(u.D).match(no)[1]||null;!L&&g.self&&g.self.location&&(L=g.self.location.protocol.slice(0,-1)),T=!Bs.test(L?L.toLowerCase():"")}p=T}if(p)Re(u,"complete"),Re(u,"success");else{u.m=6;try{var B=2<_n(u)?u.g.statusText:""}catch{B=""}u.l=B+" ["+u.Z()+"]",qs(u)}}finally{Qn(u)}}}}function Qn(u,m){if(u.g){Zr(u);const p=u.g,T=u.v[0]?()=>{}:null;u.g=null,u.v=null,m||Re(u,"ready");try{p.onreadystatechange=T}catch{}}}function Zr(u){u.I&&(g.clearTimeout(u.I),u.I=null)}a.isActive=function(){return!!this.g};function _n(u){return u.g?u.g.readyState:0}a.Z=function(){try{return 2<_n(this)?this.g.status:-1}catch{return-1}},a.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},a.Oa=function(u){if(this.g){var m=this.g.responseText;return u&&m.indexOf(u)==0&&(m=m.substring(u.length)),xn(m)}};function Ll(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.H){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Fc(u){const m={};u=(u.g&&2<=_n(u)&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<u.length;T++){if(pt(u[T]))continue;var p=N(u[T]);const L=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const B=m[L]||[];m[L]=B,B.push(p)}M(m,function(T){return T.join(", ")})}a.Ba=function(){return this.m},a.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Jr(u,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[u]||m}function js(u){this.Aa=0,this.i=[],this.j=new Xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Jr("failFast",!1,u),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Jr("baseRetryDelayMs",5e3,u),this.cb=Jr("retryDelaySeedMs",1e4,u),this.Wa=Jr("forwardChannelMaxRetries",2,u),this.wa=Jr("forwardChannelRequestTimeoutMs",2e4,u),this.pa=u&&u.xmlHttpFactory||void 0,this.Xa=u&&u.Tb||void 0,this.Ca=u&&u.useFetchStreams||!1,this.L=void 0,this.J=u&&u.supportsCrossDomainXhr||!1,this.K="",this.h=new to(u&&u.concurrentRequestLimit),this.Da=new Xr,this.P=u&&u.fastHandshake||!1,this.O=u&&u.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=u&&u.Rb||!1,u&&u.xa&&this.j.xa(),u&&u.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&u&&u.detectBufferingProxy||!1,this.ja=void 0,u&&u.longPollingTimeout&&0<u.longPollingTimeout&&(this.ja=u.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}a=js.prototype,a.la=8,a.G=1,a.connect=function(u,m,p,T){ae(0),this.W=u,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=Hl(this,null,this.W),Fs(this)};function lo(u){if(kl(u),u.G==3){var m=u.U++,p=ee(u.I);if(xt(p,"SID",u.K),xt(p,"RID",m),xt(p,"TYPE","terminate"),Wr(u,p),m=new qn(u,u.j,m),m.L=2,m.v=Kr(ee(p)),p=!1,g.navigator&&g.navigator.sendBeacon)try{p=g.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&g.Image&&(new Image().src=m.v,p=!0),p||(m.g=jl(m.j,null),m.g.ea(m.v)),m.F=Date.now(),$t(m)}ql(u)}function Gs(u){u.g&&(ts(u),u.g.cancel(),u.g=null)}function kl(u){Gs(u),u.u&&(g.clearTimeout(u.u),u.u=null),Qs(u),u.h.cancel(),u.s&&(typeof u.s=="number"&&g.clearTimeout(u.s),u.s=null)}function Fs(u){if(!eo(u.h)&&!u.s){u.s=!0;var m=u.Ga;ct||I(),ot||(ct(),ot=!0),Ht.add(m,u),u.B=0}}function Qc(u,m){return Ol(u.h)>=u.h.j-(u.s?1:0)?!1:u.s?(u.i=m.D.concat(u.i),!0):u.G==1||u.G==2||u.B>=(u.Va?0:u.Wa)?!1:(u.s=Yi(z(u.Ga,u,m),ho(u,u.B)),u.B++,!0)}a.Ga=function(u){if(this.s)if(this.s=null,this.G==1){if(!u){this.U=Math.floor(1e5*Math.random()),u=this.U++;const L=new qn(this,this.j,u);let B=this.o;if(this.S&&(B?(B=R(B),C(B,this.S)):B=this.S),this.m!==null||this.O||(L.H=B,B=null),this.P)t:{for(var m=0,p=0;p<this.i.length;p++){e:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break e}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break t}if(m===4096||p===this.i.length-1){m=p+1;break t}}m=1e3}else m=1e3;m=Pl(this,L,m),p=ee(this.I),xt(p,"RID",u),xt(p,"CVER",22),this.D&&xt(p,"X-HTTP-Session-Id",this.D),Wr(this,p),B&&(this.O?m="headers="+encodeURIComponent(String(oo(B)))+"&"+m:this.m&&Ce(p,this.m,B)),er(this.h,L),this.Ua&&xt(p,"TYPE","init"),this.P?(xt(p,"$req",m),xt(p,"SID","null"),L.T=!0,Nn(L,p,null)):Nn(L,p,m),this.G=2}}else this.G==3&&(u?uo(this,u):this.i.length==0||eo(this.h)||uo(this))};function uo(u,m){var p;m?p=m.l:p=u.U++;const T=ee(u.I);xt(T,"SID",u.K),xt(T,"RID",p),xt(T,"AID",u.T),Wr(u,T),u.m&&u.o&&Ce(T,u.m,u.o),p=new qn(u,u.j,p,u.B+1),u.m===null&&(p.H=u.o),m&&(u.i=m.D.concat(u.i)),m=Pl(u,p,1e3),p.I=Math.round(.5*u.wa)+Math.round(.5*u.wa*Math.random()),er(u.h,p),Nn(p,T,m)}function Wr(u,m){u.H&&wt(u.H,function(p,T){xt(m,T,p)}),u.l&&Fr({},function(p,T){xt(m,T,p)})}function Pl(u,m,p){p=Math.min(u.i.length,p);var T=u.l?z(u.l.Na,u.l,u):null;t:{var L=u.i;let B=-1;for(;;){const Y=["count="+p];B==-1?0<p?(B=L[0].g,Y.push("ofs="+B)):B=0:Y.push("ofs="+B);let Nt=!0;for(let ve=0;ve<p;ve++){let Mt=L[ve].g;const Ie=L[ve].map;if(Mt-=B,0>Mt)B=Math.max(0,L[ve].g-100),Nt=!1;else try{jn(Ie,Y,"req"+Mt+"_")}catch{T&&T(Ie)}}if(Nt){T=Y.join("&");break t}}}return u=u.i.splice(0,p),m.D=u,T}function xl(u){if(!u.g&&!u.u){u.Y=1;var m=u.Fa;ct||I(),ot||(ct(),ot=!0),Ht.add(m,u),u.v=0}}function co(u){return u.g||u.u||3<=u.v?!1:(u.Y++,u.u=Yi(z(u.Fa,u),ho(u,u.v)),u.v++,!0)}a.Fa=function(){if(this.u=null,zl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var u=2*this.R;this.j.info("BP detection timer enabled: "+u),this.A=Yi(z(this.ab,this),u)}},a.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ae(10),Gs(this),zl(this))};function ts(u){u.A!=null&&(g.clearTimeout(u.A),u.A=null)}function zl(u){u.g=new qn(u,u.j,"rpc",u.Y),u.m===null&&(u.g.H=u.o),u.g.O=0;var m=ee(u.qa);xt(m,"RID","rpc"),xt(m,"SID",u.K),xt(m,"AID",u.T),xt(m,"CI",u.F?"0":"1"),!u.F&&u.ja&&xt(m,"TO",u.ja),xt(m,"TYPE","xmlhttp"),Wr(u,m),u.m&&u.o&&Ce(m,u.m,u.o),u.L&&(u.g.I=u.L);var p=u.g;u=u.ia,p.L=1,p.v=Kr(ee(m)),p.m=null,p.P=!0,hi(p,u)}a.Za=function(){this.C!=null&&(this.C=null,Gs(this),co(this),ae(19))};function Qs(u){u.C!=null&&(g.clearTimeout(u.C),u.C=null)}function Bl(u,m){var p=null;if(u.g==m){Qs(u),ts(u),u.g=null;var T=2}else if(tr(u.h,m))p=m.D,mn(u.h,m),T=1;else return;if(u.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var L=u.B;T=Vs(),Re(T,new Cl(T,p)),Fs(u)}else xl(u);else if(L=m.s,L==3||L==0&&0<m.X||!(T==1&&Qc(u,m)||T==2&&co(u)))switch(p&&0<p.length&&(m=u.h,m.i=m.i.concat(p)),L){case 1:yi(u,5);break;case 4:yi(u,10);break;case 3:yi(u,6);break;default:yi(u,2)}}}function ho(u,m){let p=u.Ta+Math.floor(Math.random()*u.cb);return u.isActive()||(p*=2),p*m}function yi(u,m){if(u.j.info("Error code "+m),m==2){var p=z(u.fb,u),T=u.Xa;const L=!T;T=new fi(T||"//www.google.com/images/cleardot.gif"),g.location&&g.location.protocol=="http"||nr(T,"https"),Kr(T),L?Vl(T.toString(),p):Yr(T.toString(),p)}else ae(2);u.G=0,u.l&&u.l.sa(m),ql(u),kl(u)}a.fb=function(u){u?(this.j.info("Successfully pinged google.com"),ae(2)):(this.j.info("Failed to ping google.com"),ae(1))};function ql(u){if(u.G=0,u.ka=[],u.l){const m=Ye(u.h);(m.length!=0||u.i.length!=0)&&(J(u.ka,m),J(u.ka,u.i),u.h.i.length=0,rt(u.i),u.i.length=0),u.l.ra()}}function Hl(u,m,p){var T=p instanceof fi?ee(p):new fi(p);if(T.g!="")m&&(T.g=m+"."+T.g),Qr(T,T.s);else{var L=g.location;T=L.protocol,m=m?m+"."+L.hostname:L.hostname,L=+L.port;var B=new fi(null);T&&nr(B,T),m&&(B.g=m),L&&Qr(B,L),p&&(B.l=p),T=B}return p=u.D,m=u.ya,p&&m&&xt(T,p,m),xt(T,"VER",u.la),Wr(u,T),T}function jl(u,m,p){if(m&&!u.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=u.Ca&&!u.pa?new jt(new rr({eb:p})):new jt(u.pa),m.Ha(u.J),m}a.isActive=function(){return!!this.l&&this.l.isActive(this)};function Gl(){}a=Gl.prototype,a.ua=function(){},a.ta=function(){},a.sa=function(){},a.ra=function(){},a.isActive=function(){return!0},a.Na=function(){};function Ks(){}Ks.prototype.g=function(u,m){return new Xe(u,m)};function Xe(u,m){ye.call(this),this.g=new js(m),this.l=u,this.h=m&&m.messageUrlParams||null,u=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(u?u["X-WebChannel-Content-Type"]=m.messageContentType:u={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(u?u["X-WebChannel-Client-Profile"]=m.va:u={"X-WebChannel-Client-Profile":m.va}),this.g.S=u,(u=m&&m.Sb)&&!pt(u)&&(this.g.m=u),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!pt(m)&&(this.g.D=m,u=this.h,u!==null&&m in u&&(u=this.h,m in u&&delete u[m])),this.j=new Kn(this)}$(Xe,ye),Xe.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Xe.prototype.close=function(){lo(this.g)},Xe.prototype.o=function(u){var m=this.g;if(typeof u=="string"){var p={};p.__data__=u,u=p}else this.u&&(p={},p.__data__=Xa(u),u=p);m.i.push(new Bc(m.Ya++,u)),m.G==3&&Fs(m)},Xe.prototype.N=function(){this.g.l=null,delete this.j,lo(this.g),delete this.g,Xe.aa.N.call(this)};function Fl(u){Fi.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var m=u.__sm__;if(m){t:{for(const p in m){u=p;break t}u=void 0}(this.i=u)&&(u=this.i,m=m!==null&&u in m?m[u]:void 0),this.data=m}else this.data=u}$(Fl,Fi);function Ql(){On.call(this),this.status=1}$(Ql,On);function Kn(u){this.g=u}$(Kn,Gl),Kn.prototype.ua=function(){Re(this.g,"a")},Kn.prototype.ta=function(u){Re(this.g,new Fl(u))},Kn.prototype.sa=function(u){Re(this.g,new Ql)},Kn.prototype.ra=function(){Re(this.g,"b")},Ks.prototype.createWebChannel=Ks.prototype.g,Xe.prototype.send=Xe.prototype.o,Xe.prototype.open=Xe.prototype.m,Xe.prototype.close=Xe.prototype.close,Qv=function(){return new Ks},Fv=function(){return Vs()},Gv=dn,fd={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},_e.NO_ERROR=0,_e.TIMEOUT=8,_e.HTTP_ERROR=6,ec=_e,ci.COMPLETE="complete",jv=ci,wl.EventType=zn,zn.OPEN="a",zn.CLOSE="b",zn.ERROR="c",zn.MESSAGE="d",ye.prototype.listen=ye.prototype.K,tl=wl,jt.prototype.listenOnce=jt.prototype.L,jt.prototype.getLastError=jt.prototype.Ka,jt.prototype.getLastErrorCode=jt.prototype.Ba,jt.prototype.getStatus=jt.prototype.Z,jt.prototype.getResponseJson=jt.prototype.Oa,jt.prototype.getResponseText=jt.prototype.oa,jt.prototype.send=jt.prototype.ea,jt.prototype.setWithCredentials=jt.prototype.Ha,Hv=jt}).apply(typeof Fu<"u"?Fu:typeof self<"u"?self:typeof window<"u"?window:{});const Wy="@firebase/firestore",t_="4.7.7";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}}je.UNAUTHENTICATED=new je(null),je.GOOGLE_CREDENTIALS=new je("google-credentials-uid"),je.FIRST_PARTY=new je("first-party-uid"),je.MOCK_USER=new je("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ha="11.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs=new Vd("@firebase/firestore");function Ea(){return Cs.logLevel}function et(a,...t){if(Cs.logLevel<=Ct.DEBUG){const i=t.map(Kd);Cs.debug(`Firestore (${Ha}): ${a}`,...i)}}function Bi(a,...t){if(Cs.logLevel<=Ct.ERROR){const i=t.map(Kd);Cs.error(`Firestore (${Ha}): ${a}`,...i)}}function Va(a,...t){if(Cs.logLevel<=Ct.WARN){const i=t.map(Kd);Cs.warn(`Firestore (${Ha}): ${a}`,...i)}}function Kd(a){if(typeof a=="string")return a;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(i){return JSON.stringify(i)}(a)}catch{return a}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yt(a="Unexpected state"){const t=`FIRESTORE (${Ha}) INTERNAL ASSERTION FAILED: `+a;throw Bi(t),new Error(t)}function Wt(a,t){a||yt()}function Lt(a,t){return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ut extends qi{constructor(t,i){super(t,i),this.code=t,this.message=i,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ss{constructor(){this.promise=new Promise((t,i)=>{this.resolve=t,this.reject=i})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kv{constructor(t,i){this.user=i,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}}class dR{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,i){t.enqueueRetryable(()=>i(je.UNAUTHENTICATED))}shutdown(){}}class mR{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,i){this.changeListener=i,t.enqueueRetryable(()=>i(this.token.user))}shutdown(){this.changeListener=null}}class gR{constructor(t){this.t=t,this.currentUser=je.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,i){Wt(this.o===void 0);let s=this.i;const l=_=>this.i!==s?(s=this.i,i(_)):Promise.resolve();let h=new Ss;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new Ss,t.enqueueRetryable(()=>l(this.currentUser))};const d=()=>{const _=h;t.enqueueRetryable(async()=>{await _.promise,await l(this.currentUser)})},g=_=>{et("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),d())};this.t.onInit(_=>g(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?g(_):(et("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new Ss)}},0),d()}getToken(){const t=this.i,i=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(i).then(s=>this.i!==t?(et("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(Wt(typeof s.accessToken=="string"),new Kv(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const t=this.auth&&this.auth.getUid();return Wt(t===null||typeof t=="string"),new je(t)}}class pR{constructor(t,i,s){this.l=t,this.h=i,this.P=s,this.type="FirstParty",this.user=je.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const t=this.I();return t&&this.T.set("Authorization",t),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class yR{constructor(t,i,s){this.l=t,this.h=i,this.P=s}getToken(){return Promise.resolve(new pR(this.l,this.h,this.P))}start(t,i){t.enqueueRetryable(()=>i(je.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class e_{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class _R{constructor(t,i){this.A=i,this.forceRefresh=!1,this.appCheck=null,this.R=null,this.V=null,kn(t)&&t.settings.appCheckToken&&(this.V=t.settings.appCheckToken)}start(t,i){Wt(this.o===void 0);const s=h=>{h.error!=null&&et("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const d=h.token!==this.R;return this.R=h.token,et("FirebaseAppCheckTokenProvider",`Received ${d?"new":"existing"} token.`),d?i(h.token):Promise.resolve()};this.o=h=>{t.enqueueRetryable(()=>s(h))};const l=h=>{et("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(h=>l(h)),setTimeout(()=>{if(!this.appCheck){const h=this.A.getImmediate({optional:!0});h?l(h):et("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.V)return Promise.resolve(new e_(this.V));const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(i=>i?(Wt(typeof i.token=="string"),this.R=i.token,new e_(i.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vR(a){const t=typeof self<"u"&&(self.crypto||self.msCrypto),i=new Uint8Array(a);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(i);else for(let s=0;s<a;s++)i[s]=Math.floor(256*Math.random());return i}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{static newId(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",i=62*Math.floor(4.129032258064516);let s="";for(;s.length<20;){const l=vR(40);for(let h=0;h<l.length;++h)s.length<20&&l[h]<i&&(s+=t.charAt(l[h]%62))}return s}}function Dt(a,t){return a<t?-1:a>t?1:0}function md(a,t){const i=dd().encode(a),s=dd().encode(t);for(let l=0;l<Math.min(i.length,s.length);l++){const h=Dt(i[l],s[l]);if(h!==0)return h}return Dt(i.length,s.length)}function Ua(a,t,i){return a.length===t.length&&a.every((s,l)=>i(s,t[l]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n_=-62135596800,i_=1e6;class rn{static now(){return rn.fromMillis(Date.now())}static fromDate(t){return rn.fromMillis(t.getTime())}static fromMillis(t){const i=Math.floor(t/1e3),s=Math.floor((t-1e3*i)*i_);return new rn(i,s)}constructor(t,i){if(this.seconds=t,this.nanoseconds=i,i<0)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(i>=1e9)throw new ut(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+i);if(t<n_)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new ut(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/i_}_compareTo(t){return this.seconds===t.seconds?Dt(this.nanoseconds,t.nanoseconds):Dt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds-n_;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{static fromTimestamp(t){return new gt(t)}static min(){return new gt(new rn(0,0))}static max(){return new gt(new rn(253402300799,999999999))}constructor(t){this.timestamp=t}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_="__name__";class ti{constructor(t,i,s){i===void 0?i=0:i>t.length&&yt(),s===void 0?s=t.length-i:s>t.length-i&&yt(),this.segments=t,this.offset=i,this.len=s}get length(){return this.len}isEqual(t){return ti.comparator(this,t)===0}child(t){const i=this.segments.slice(this.offset,this.limit());return t instanceof ti?t.forEach(s=>{i.push(s)}):i.push(t),this.construct(i)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let i=0;i<this.length;i++)if(this.get(i)!==t.get(i))return!1;return!0}forEach(t){for(let i=this.offset,s=this.limit();i<s;i++)t(this.segments[i])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,i){const s=Math.min(t.length,i.length);for(let l=0;l<s;l++){const h=ti.compareSegments(t.get(l),i.get(l));if(h!==0)return h}return Dt(t.length,i.length)}static compareSegments(t,i){const s=ti.isNumericId(t),l=ti.isNumericId(i);return s&&!l?-1:!s&&l?1:s&&l?ti.extractNumericId(t).compare(ti.extractNumericId(i)):md(t,i)}static isNumericId(t){return t.startsWith("__id")&&t.endsWith("__")}static extractNumericId(t){return Ur.fromString(t.substring(4,t.length-2))}}class se extends ti{construct(t,i,s){return new se(t,i,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...t){const i=[];for(const s of t){if(s.indexOf("//")>=0)throw new ut(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);i.push(...s.split("/").filter(l=>l.length>0))}return new se(i)}static emptyPath(){return new se([])}}const TR=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Je extends ti{construct(t,i,s){return new Je(t,i,s)}static isValidIdentifier(t){return TR.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Je.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===r_}static keyField(){return new Je([r_])}static fromServerFormat(t){const i=[];let s="",l=0;const h=()=>{if(s.length===0)throw new ut(X.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);i.push(s),s=""};let d=!1;for(;l<t.length;){const g=t[l];if(g==="\\"){if(l+1===t.length)throw new ut(X.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const _=t[l+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ut(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);s+=_,l+=2}else g==="`"?(d=!d,l++):g!=="."||d?(s+=g,l++):(h(),l++)}if(h(),d)throw new ut(X.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new Je(i)}static emptyPath(){return new Je([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ht{constructor(t){this.path=t}static fromPath(t){return new ht(se.fromString(t))}static fromName(t){return new ht(se.fromString(t).popFirst(5))}static empty(){return new ht(se.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&se.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,i){return se.comparator(t.path,i.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new ht(new se(t.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cl=-1;function AR(a,t){const i=a.toTimestamp().seconds,s=a.toTimestamp().nanoseconds+1,l=gt.fromTimestamp(s===1e9?new rn(i+1,0):new rn(i,s));return new Lr(l,ht.empty(),t)}function SR(a){return new Lr(a.readTime,a.key,cl)}class Lr{constructor(t,i,s){this.readTime=t,this.documentKey=i,this.largestBatchId=s}static min(){return new Lr(gt.min(),ht.empty(),cl)}static max(){return new Lr(gt.max(),ht.empty(),cl)}}function bR(a,t){let i=a.readTime.compareTo(t.readTime);return i!==0?i:(i=ht.comparator(a.documentKey,t.documentKey),i!==0?i:Dt(a.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class wR{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wc(a){if(a.code!==X.FAILED_PRECONDITION||a.message!==RR)throw a;et("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(i=>{this.isDone=!0,this.result=i,this.nextCallback&&this.nextCallback(i)},i=>{this.isDone=!0,this.error=i,this.catchCallback&&this.catchCallback(i)})}catch(t){return this.next(void 0,t)}next(t,i){return this.callbackAttached&&yt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(i,this.error):this.wrapSuccess(t,this.result):new G((s,l)=>{this.nextCallback=h=>{this.wrapSuccess(t,h).next(s,l)},this.catchCallback=h=>{this.wrapFailure(i,h).next(s,l)}})}toPromise(){return new Promise((t,i)=>{this.next(t,i)})}wrapUserFunction(t){try{const i=t();return i instanceof G?i:G.resolve(i)}catch(i){return G.reject(i)}}wrapSuccess(t,i){return t?this.wrapUserFunction(()=>t(i)):G.resolve(i)}wrapFailure(t,i){return t?this.wrapUserFunction(()=>t(i)):G.reject(i)}static resolve(t){return new G((i,s)=>{i(t)})}static reject(t){return new G((i,s)=>{s(t)})}static waitFor(t){return new G((i,s)=>{let l=0,h=0,d=!1;t.forEach(g=>{++l,g.next(()=>{++h,d&&h===l&&i()},_=>s(_))}),d=!0,h===l&&i()})}static or(t){let i=G.resolve(!1);for(const s of t)i=i.next(l=>l?G.resolve(l):s());return i}static forEach(t,i){const s=[];return t.forEach((l,h)=>{s.push(i.call(this,l,h))}),this.waitFor(s)}static mapArray(t,i){return new G((s,l)=>{const h=t.length,d=new Array(h);let g=0;for(let _=0;_<h;_++){const v=_;i(t[v]).next(S=>{d[v]=S,++g,g===h&&s(d)},S=>l(S))}})}static doWhile(t,i){return new G((s,l)=>{const h=()=>{t()===!0?i().next(()=>{h()},l):s()};h()})}}function CR(a){const t=a.match(/Android ([\d.]+)/i),i=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(i)}function ja(a){return a.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cc{constructor(t,i){this.previousValue=t,i&&(i.sequenceNumberHandler=s=>this.oe(s),this._e=s=>i.writeSequenceNumber(s))}oe(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this._e&&this._e(t),t}}Cc.ae=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR=-1;function Ic(a){return a==null}function gd(a){return a===0&&1/a==-1/0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yv="";function DR(a){let t="";for(let i=0;i<a.length;i++)t.length>0&&(t=s_(t)),t=OR(a.get(i),t);return s_(t)}function OR(a,t){let i=t;const s=a.length;for(let l=0;l<s;l++){const h=a.charAt(l);switch(h){case"\0":i+="";break;case Yv:i+="";break;default:i+=h}}return i}function s_(a){return a+Yv+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a_(a){let t=0;for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t++;return t}function vl(a,t){for(const i in a)Object.prototype.hasOwnProperty.call(a,i)&&t(i,a[i])}function NR(a){for(const t in a)if(Object.prototype.hasOwnProperty.call(a,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(t,i){this.comparator=t,this.root=i||Pe.EMPTY}insert(t,i){return new ue(this.comparator,this.root.insert(t,i,this.comparator).copy(null,null,Pe.BLACK,null,null))}remove(t){return new ue(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Pe.BLACK,null,null))}get(t){let i=this.root;for(;!i.isEmpty();){const s=this.comparator(t,i.key);if(s===0)return i.value;s<0?i=i.left:s>0&&(i=i.right)}return null}indexOf(t){let i=0,s=this.root;for(;!s.isEmpty();){const l=this.comparator(t,s.key);if(l===0)return i+s.left.size;l<0?s=s.left:(i+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((i,s)=>(t(i,s),!1))}toString(){const t=[];return this.inorderTraversal((i,s)=>(t.push(`${i}:${s}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Qu(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Qu(this.root,t,this.comparator,!1)}getReverseIterator(){return new Qu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Qu(this.root,t,this.comparator,!0)}}class Qu{constructor(t,i,s,l){this.isReverse=l,this.nodeStack=[];let h=1;for(;!t.isEmpty();)if(h=i?s(t.key,i):1,i&&l&&(h*=-1),h<0)t=this.isReverse?t.left:t.right;else{if(h===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const i={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return i}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}}class Pe{constructor(t,i,s,l,h){this.key=t,this.value=i,this.color=s??Pe.RED,this.left=l??Pe.EMPTY,this.right=h??Pe.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,i,s,l,h){return new Pe(t??this.key,i??this.value,s??this.color,l??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,i,s){let l=this;const h=s(t,l.key);return l=h<0?l.copy(null,null,null,l.left.insert(t,i,s),null):h===0?l.copy(null,i,null,null,null):l.copy(null,null,null,null,l.right.insert(t,i,s)),l.fixUp()}removeMin(){if(this.left.isEmpty())return Pe.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,i){let s,l=this;if(i(t,l.key)<0)l.left.isEmpty()||l.left.isRed()||l.left.left.isRed()||(l=l.moveRedLeft()),l=l.copy(null,null,null,l.left.remove(t,i),null);else{if(l.left.isRed()&&(l=l.rotateRight()),l.right.isEmpty()||l.right.isRed()||l.right.left.isRed()||(l=l.moveRedRight()),i(t,l.key)===0){if(l.right.isEmpty())return Pe.EMPTY;s=l.right.min(),l=l.copy(s.key,s.value,null,null,l.right.removeMin())}l=l.copy(null,null,null,null,l.right.remove(t,i))}return l.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Pe.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Pe.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),i=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,i)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw yt();const t=this.left.check();if(t!==this.right.check())throw yt();return t+(this.isRed()?0:1)}}Pe.EMPTY=null,Pe.RED=!0,Pe.BLACK=!1;Pe.EMPTY=new class{constructor(){this.size=0}get key(){throw yt()}get value(){throw yt()}get color(){throw yt()}get left(){throw yt()}get right(){throw yt()}copy(t,i,s,l,h){return this}insert(t,i,s){return new Pe(t,i)}remove(t,i){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class be{constructor(t){this.comparator=t,this.data=new ue(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((i,s)=>(t(i),!1))}forEachInRange(t,i){const s=this.data.getIteratorFrom(t[0]);for(;s.hasNext();){const l=s.getNext();if(this.comparator(l.key,t[1])>=0)return;i(l.key)}}forEachWhile(t,i){let s;for(s=i!==void 0?this.data.getIteratorFrom(i):this.data.getIterator();s.hasNext();)if(!t(s.getNext().key))return}firstAfterOrEqual(t){const i=this.data.getIteratorFrom(t);return i.hasNext()?i.getNext().key:null}getIterator(){return new o_(this.data.getIterator())}getIteratorFrom(t){return new o_(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let i=this;return i.size<t.size&&(i=t,t=this),t.forEach(s=>{i=i.add(s)}),i}isEqual(t){if(!(t instanceof be)||this.size!==t.size)return!1;const i=this.data.getIterator(),s=t.data.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(this.comparator(l,h)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(i=>{t.push(i)}),t}toString(){const t=[];return this.forEach(i=>t.push(i)),"SortedSet("+t.toString()+")"}copy(t){const i=new be(this.comparator);return i.data=t,i}}class o_{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dr{constructor(t){this.fields=t,t.sort(Je.comparator)}static empty(){return new Dr([])}unionWith(t){let i=new be(Je.comparator);for(const s of this.fields)i=i.add(s);for(const s of t)i=i.add(s);return new Dr(i.toArray())}covers(t){for(const i of this.fields)if(i.isPrefixOf(t))return!0;return!1}isEqual(t){return Ua(this.fields,t.fields,(i,s)=>i.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xv extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xe{constructor(t){this.binaryString=t}static fromBase64String(t){const i=function(l){try{return atob(l)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new Xv("Invalid base64 string: "+h):h}}(t);return new xe(i)}static fromUint8Array(t){const i=function(l){let h="";for(let d=0;d<l.length;++d)h+=String.fromCharCode(l[d]);return h}(t);return new xe(i)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(i){return btoa(i)}(this.binaryString)}toUint8Array(){return function(i){const s=new Uint8Array(i.length);for(let l=0;l<i.length;l++)s[l]=i.charCodeAt(l);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return Dt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}}xe.EMPTY_BYTE_STRING=new xe("");const MR=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function kr(a){if(Wt(!!a),typeof a=="string"){let t=0;const i=MR.exec(a);if(Wt(!!i),i[1]){let l=i[1];l=(l+"000000000").substr(0,9),t=Number(l)}const s=new Date(a);return{seconds:Math.floor(s.getTime()/1e3),nanos:t}}return{seconds:le(a.seconds),nanos:le(a.nanos)}}function le(a){return typeof a=="number"?a:typeof a=="string"?Number(a):0}function Pr(a){return typeof a=="string"?xe.fromBase64String(a):xe.fromUint8Array(a)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v="server_timestamp",Zv="__type__",Jv="__previous_value__",Wv="__local_write_time__";function Yd(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[Zv])===null||i===void 0?void 0:i.stringValue)===$v}function Dc(a){const t=a.mapValue.fields[Jv];return Yd(t)?Dc(t):t}function hl(a){const t=kr(a.mapValue.fields[Wv].timestampValue);return new rn(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VR{constructor(t,i,s,l,h,d,g,_,v){this.databaseId=t,this.appId=i,this.persistenceKey=s,this.host=l,this.ssl=h,this.forceLongPolling=d,this.autoDetectLongPolling=g,this.longPollingOptions=_,this.useFetchStreams=v}}const mc="(default)";class fl{constructor(t,i){this.projectId=t,this.database=i||mc}static empty(){return new fl("","")}get isDefaultDatabase(){return this.database===mc}isEqual(t){return t instanceof fl&&t.projectId===this.projectId&&t.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UR="__type__",LR="__max__",Ku={mapValue:{}},kR="__vector__",pd="value";function xr(a){return"nullValue"in a?0:"booleanValue"in a?1:"integerValue"in a||"doubleValue"in a?2:"timestampValue"in a?3:"stringValue"in a?5:"bytesValue"in a?6:"referenceValue"in a?7:"geoPointValue"in a?8:"arrayValue"in a?9:"mapValue"in a?Yd(a)?4:xR(a)?9007199254740991:PR(a)?10:11:yt()}function si(a,t){if(a===t)return!0;const i=xr(a);if(i!==xr(t))return!1;switch(i){case 0:case 9007199254740991:return!0;case 1:return a.booleanValue===t.booleanValue;case 4:return hl(a).isEqual(hl(t));case 3:return function(l,h){if(typeof l.timestampValue=="string"&&typeof h.timestampValue=="string"&&l.timestampValue.length===h.timestampValue.length)return l.timestampValue===h.timestampValue;const d=kr(l.timestampValue),g=kr(h.timestampValue);return d.seconds===g.seconds&&d.nanos===g.nanos}(a,t);case 5:return a.stringValue===t.stringValue;case 6:return function(l,h){return Pr(l.bytesValue).isEqual(Pr(h.bytesValue))}(a,t);case 7:return a.referenceValue===t.referenceValue;case 8:return function(l,h){return le(l.geoPointValue.latitude)===le(h.geoPointValue.latitude)&&le(l.geoPointValue.longitude)===le(h.geoPointValue.longitude)}(a,t);case 2:return function(l,h){if("integerValue"in l&&"integerValue"in h)return le(l.integerValue)===le(h.integerValue);if("doubleValue"in l&&"doubleValue"in h){const d=le(l.doubleValue),g=le(h.doubleValue);return d===g?gd(d)===gd(g):isNaN(d)&&isNaN(g)}return!1}(a,t);case 9:return Ua(a.arrayValue.values||[],t.arrayValue.values||[],si);case 10:case 11:return function(l,h){const d=l.mapValue.fields||{},g=h.mapValue.fields||{};if(a_(d)!==a_(g))return!1;for(const _ in d)if(d.hasOwnProperty(_)&&(g[_]===void 0||!si(d[_],g[_])))return!1;return!0}(a,t);default:return yt()}}function dl(a,t){return(a.values||[]).find(i=>si(i,t))!==void 0}function La(a,t){if(a===t)return 0;const i=xr(a),s=xr(t);if(i!==s)return Dt(i,s);switch(i){case 0:case 9007199254740991:return 0;case 1:return Dt(a.booleanValue,t.booleanValue);case 2:return function(h,d){const g=le(h.integerValue||h.doubleValue),_=le(d.integerValue||d.doubleValue);return g<_?-1:g>_?1:g===_?0:isNaN(g)?isNaN(_)?0:-1:1}(a,t);case 3:return l_(a.timestampValue,t.timestampValue);case 4:return l_(hl(a),hl(t));case 5:return md(a.stringValue,t.stringValue);case 6:return function(h,d){const g=Pr(h),_=Pr(d);return g.compareTo(_)}(a.bytesValue,t.bytesValue);case 7:return function(h,d){const g=h.split("/"),_=d.split("/");for(let v=0;v<g.length&&v<_.length;v++){const S=Dt(g[v],_[v]);if(S!==0)return S}return Dt(g.length,_.length)}(a.referenceValue,t.referenceValue);case 8:return function(h,d){const g=Dt(le(h.latitude),le(d.latitude));return g!==0?g:Dt(le(h.longitude),le(d.longitude))}(a.geoPointValue,t.geoPointValue);case 9:return u_(a.arrayValue,t.arrayValue);case 10:return function(h,d){var g,_,v,S;const V=h.fields||{},z=d.fields||{},F=(g=V[pd])===null||g===void 0?void 0:g.arrayValue,$=(_=z[pd])===null||_===void 0?void 0:_.arrayValue,rt=Dt(((v=F==null?void 0:F.values)===null||v===void 0?void 0:v.length)||0,((S=$==null?void 0:$.values)===null||S===void 0?void 0:S.length)||0);return rt!==0?rt:u_(F,$)}(a.mapValue,t.mapValue);case 11:return function(h,d){if(h===Ku.mapValue&&d===Ku.mapValue)return 0;if(h===Ku.mapValue)return 1;if(d===Ku.mapValue)return-1;const g=h.fields||{},_=Object.keys(g),v=d.fields||{},S=Object.keys(v);_.sort(),S.sort();for(let V=0;V<_.length&&V<S.length;++V){const z=md(_[V],S[V]);if(z!==0)return z;const F=La(g[_[V]],v[S[V]]);if(F!==0)return F}return Dt(_.length,S.length)}(a.mapValue,t.mapValue);default:throw yt()}}function l_(a,t){if(typeof a=="string"&&typeof t=="string"&&a.length===t.length)return Dt(a,t);const i=kr(a),s=kr(t),l=Dt(i.seconds,s.seconds);return l!==0?l:Dt(i.nanos,s.nanos)}function u_(a,t){const i=a.values||[],s=t.values||[];for(let l=0;l<i.length&&l<s.length;++l){const h=La(i[l],s[l]);if(h)return h}return Dt(i.length,s.length)}function ka(a){return yd(a)}function yd(a){return"nullValue"in a?"null":"booleanValue"in a?""+a.booleanValue:"integerValue"in a?""+a.integerValue:"doubleValue"in a?""+a.doubleValue:"timestampValue"in a?function(i){const s=kr(i);return`time(${s.seconds},${s.nanos})`}(a.timestampValue):"stringValue"in a?a.stringValue:"bytesValue"in a?function(i){return Pr(i).toBase64()}(a.bytesValue):"referenceValue"in a?function(i){return ht.fromName(i).toString()}(a.referenceValue):"geoPointValue"in a?function(i){return`geo(${i.latitude},${i.longitude})`}(a.geoPointValue):"arrayValue"in a?function(i){let s="[",l=!0;for(const h of i.values||[])l?l=!1:s+=",",s+=yd(h);return s+"]"}(a.arrayValue):"mapValue"in a?function(i){const s=Object.keys(i.fields||{}).sort();let l="{",h=!0;for(const d of s)h?h=!1:l+=",",l+=`${d}:${yd(i.fields[d])}`;return l+"}"}(a.mapValue):yt()}function nc(a){switch(xr(a)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=Dc(a);return t?16+nc(t):16;case 5:return 2*a.stringValue.length;case 6:return Pr(a.bytesValue).approximateByteSize();case 7:return a.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((l,h)=>l+nc(h),0)}(a.arrayValue);case 10:case 11:return function(s){let l=0;return vl(s.fields,(h,d)=>{l+=h.length+nc(d)}),l}(a.mapValue);default:throw yt()}}function _d(a){return!!a&&"integerValue"in a}function Xd(a){return!!a&&"arrayValue"in a}function c_(a){return!!a&&"nullValue"in a}function h_(a){return!!a&&"doubleValue"in a&&isNaN(Number(a.doubleValue))}function $f(a){return!!a&&"mapValue"in a}function PR(a){var t,i;return((i=(((t=a==null?void 0:a.mapValue)===null||t===void 0?void 0:t.fields)||{})[UR])===null||i===void 0?void 0:i.stringValue)===kR}function rl(a){if(a.geoPointValue)return{geoPointValue:Object.assign({},a.geoPointValue)};if(a.timestampValue&&typeof a.timestampValue=="object")return{timestampValue:Object.assign({},a.timestampValue)};if(a.mapValue){const t={mapValue:{fields:{}}};return vl(a.mapValue.fields,(i,s)=>t.mapValue.fields[i]=rl(s)),t}if(a.arrayValue){const t={arrayValue:{values:[]}};for(let i=0;i<(a.arrayValue.values||[]).length;++i)t.arrayValue.values[i]=rl(a.arrayValue.values[i]);return t}return Object.assign({},a)}function xR(a){return(((a.mapValue||{}).fields||{}).__type__||{}).stringValue===LR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(t){this.value=t}static empty(){return new ei({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let i=this.value;for(let s=0;s<t.length-1;++s)if(i=(i.mapValue.fields||{})[t.get(s)],!$f(i))return null;return i=(i.mapValue.fields||{})[t.lastSegment()],i||null}}set(t,i){this.getFieldsMap(t.popLast())[t.lastSegment()]=rl(i)}setAll(t){let i=Je.emptyPath(),s={},l=[];t.forEach((d,g)=>{if(!i.isImmediateParentOf(g)){const _=this.getFieldsMap(i);this.applyChanges(_,s,l),s={},l=[],i=g.popLast()}d?s[g.lastSegment()]=rl(d):l.push(g.lastSegment())});const h=this.getFieldsMap(i);this.applyChanges(h,s,l)}delete(t){const i=this.field(t.popLast());$f(i)&&i.mapValue.fields&&delete i.mapValue.fields[t.lastSegment()]}isEqual(t){return si(this.value,t.value)}getFieldsMap(t){let i=this.value;i.mapValue.fields||(i.mapValue={fields:{}});for(let s=0;s<t.length;++s){let l=i.mapValue.fields[t.get(s)];$f(l)&&l.mapValue.fields||(l={mapValue:{fields:{}}},i.mapValue.fields[t.get(s)]=l),i=l}return i.mapValue.fields}applyChanges(t,i,s){vl(i,(l,h)=>t[l]=h);for(const l of s)delete t[l]}clone(){return new ei(rl(this.value))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ge{constructor(t,i,s,l,h,d,g){this.key=t,this.documentType=i,this.version=s,this.readTime=l,this.createTime=h,this.data=d,this.documentState=g}static newInvalidDocument(t){return new Ge(t,0,gt.min(),gt.min(),gt.min(),ei.empty(),0)}static newFoundDocument(t,i,s,l){return new Ge(t,1,i,gt.min(),s,l,0)}static newNoDocument(t,i){return new Ge(t,2,i,gt.min(),gt.min(),ei.empty(),0)}static newUnknownDocument(t,i){return new Ge(t,3,i,gt.min(),gt.min(),ei.empty(),2)}convertToFoundDocument(t,i){return!this.createTime.isEqual(gt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=i,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=ei.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=ei.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=gt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Ge&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Ge(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(t,i){this.position=t,this.inclusive=i}}function f_(a,t,i){let s=0;for(let l=0;l<a.position.length;l++){const h=t[l],d=a.position[l];if(h.field.isKeyField()?s=ht.comparator(ht.fromName(d.referenceValue),i.key):s=La(d,i.data.field(h.field)),h.dir==="desc"&&(s*=-1),s!==0)break}return s}function d_(a,t){if(a===null)return t===null;if(t===null||a.inclusive!==t.inclusive||a.position.length!==t.position.length)return!1;for(let i=0;i<a.position.length;i++)if(!si(a.position[i],t.position[i]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(t,i="asc"){this.field=t,this.dir=i}}function zR(a,t){return a.dir===t.dir&&a.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t0{}class Se extends t0{constructor(t,i,s){super(),this.field=t,this.op=i,this.value=s}static create(t,i,s){return t.isKeyField()?i==="in"||i==="not-in"?this.createKeyFieldInFilter(t,i,s):new qR(t,i,s):i==="array-contains"?new GR(t,s):i==="in"?new FR(t,s):i==="not-in"?new QR(t,s):i==="array-contains-any"?new KR(t,s):new Se(t,i,s)}static createKeyFieldInFilter(t,i,s){return i==="in"?new HR(t,s):new jR(t,s)}matches(t){const i=t.data.field(this.field);return this.op==="!="?i!==null&&this.matchesComparison(La(i,this.value)):i!==null&&xr(this.value)===xr(i)&&this.matchesComparison(La(i,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return yt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ai extends t0{constructor(t,i){super(),this.filters=t,this.op=i,this.ce=null}static create(t,i){return new ai(t,i)}matches(t){return e0(this)?this.filters.find(i=>!i.matches(t))===void 0:this.filters.find(i=>i.matches(t))!==void 0}getFlattenedFilters(){return this.ce!==null||(this.ce=this.filters.reduce((t,i)=>t.concat(i.getFlattenedFilters()),[])),this.ce}getFilters(){return Object.assign([],this.filters)}}function e0(a){return a.op==="and"}function n0(a){return BR(a)&&e0(a)}function BR(a){for(const t of a.filters)if(t instanceof ai)return!1;return!0}function vd(a){if(a instanceof Se)return a.field.canonicalString()+a.op.toString()+ka(a.value);if(n0(a))return a.filters.map(t=>vd(t)).join(",");{const t=a.filters.map(i=>vd(i)).join(",");return`${a.op}(${t})`}}function i0(a,t){return a instanceof Se?function(s,l){return l instanceof Se&&s.op===l.op&&s.field.isEqual(l.field)&&si(s.value,l.value)}(a,t):a instanceof ai?function(s,l){return l instanceof ai&&s.op===l.op&&s.filters.length===l.filters.length?s.filters.reduce((h,d,g)=>h&&i0(d,l.filters[g]),!0):!1}(a,t):void yt()}function r0(a){return a instanceof Se?function(i){return`${i.field.canonicalString()} ${i.op} ${ka(i.value)}`}(a):a instanceof ai?function(i){return i.op.toString()+" {"+i.getFilters().map(r0).join(" ,")+"}"}(a):"Filter"}class qR extends Se{constructor(t,i,s){super(t,i,s),this.key=ht.fromName(s.referenceValue)}matches(t){const i=ht.comparator(t.key,this.key);return this.matchesComparison(i)}}class HR extends Se{constructor(t,i){super(t,"in",i),this.keys=s0("in",i)}matches(t){return this.keys.some(i=>i.isEqual(t.key))}}class jR extends Se{constructor(t,i){super(t,"not-in",i),this.keys=s0("not-in",i)}matches(t){return!this.keys.some(i=>i.isEqual(t.key))}}function s0(a,t){var i;return(((i=t.arrayValue)===null||i===void 0?void 0:i.values)||[]).map(s=>ht.fromName(s.referenceValue))}class GR extends Se{constructor(t,i){super(t,"array-contains",i)}matches(t){const i=t.data.field(this.field);return Xd(i)&&dl(i.arrayValue,this.value)}}class FR extends Se{constructor(t,i){super(t,"in",i)}matches(t){const i=t.data.field(this.field);return i!==null&&dl(this.value.arrayValue,i)}}class QR extends Se{constructor(t,i){super(t,"not-in",i)}matches(t){if(dl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const i=t.data.field(this.field);return i!==null&&!dl(this.value.arrayValue,i)}}class KR extends Se{constructor(t,i){super(t,"array-contains-any",i)}matches(t){const i=t.data.field(this.field);return!(!Xd(i)||!i.arrayValue.values)&&i.arrayValue.values.some(s=>dl(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(t,i=null,s=[],l=[],h=null,d=null,g=null){this.path=t,this.collectionGroup=i,this.orderBy=s,this.filters=l,this.limit=h,this.startAt=d,this.endAt=g,this.le=null}}function m_(a,t=null,i=[],s=[],l=null,h=null,d=null){return new YR(a,t,i,s,l,h,d)}function $d(a){const t=Lt(a);if(t.le===null){let i=t.path.canonicalString();t.collectionGroup!==null&&(i+="|cg:"+t.collectionGroup),i+="|f:",i+=t.filters.map(s=>vd(s)).join(","),i+="|ob:",i+=t.orderBy.map(s=>function(h){return h.field.canonicalString()+h.dir}(s)).join(","),Ic(t.limit)||(i+="|l:",i+=t.limit),t.startAt&&(i+="|lb:",i+=t.startAt.inclusive?"b:":"a:",i+=t.startAt.position.map(s=>ka(s)).join(",")),t.endAt&&(i+="|ub:",i+=t.endAt.inclusive?"a:":"b:",i+=t.endAt.position.map(s=>ka(s)).join(",")),t.le=i}return t.le}function Zd(a,t){if(a.limit!==t.limit||a.orderBy.length!==t.orderBy.length)return!1;for(let i=0;i<a.orderBy.length;i++)if(!zR(a.orderBy[i],t.orderBy[i]))return!1;if(a.filters.length!==t.filters.length)return!1;for(let i=0;i<a.filters.length;i++)if(!i0(a.filters[i],t.filters[i]))return!1;return a.collectionGroup===t.collectionGroup&&!!a.path.isEqual(t.path)&&!!d_(a.startAt,t.startAt)&&d_(a.endAt,t.endAt)}function Ed(a){return ht.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{constructor(t,i=null,s=[],l=[],h=null,d="F",g=null,_=null){this.path=t,this.collectionGroup=i,this.explicitOrderBy=s,this.filters=l,this.limit=h,this.limitType=d,this.startAt=g,this.endAt=_,this.he=null,this.Pe=null,this.Te=null,this.startAt,this.endAt}}function XR(a,t,i,s,l,h,d,g){return new Oc(a,t,i,s,l,h,d,g)}function a0(a){return new Oc(a)}function g_(a){return a.filters.length===0&&a.limit===null&&a.startAt==null&&a.endAt==null&&(a.explicitOrderBy.length===0||a.explicitOrderBy.length===1&&a.explicitOrderBy[0].field.isKeyField())}function $R(a){return a.collectionGroup!==null}function sl(a){const t=Lt(a);if(t.he===null){t.he=[];const i=new Set;for(const h of t.explicitOrderBy)t.he.push(h),i.add(h.field.canonicalString());const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";(function(d){let g=new be(Je.comparator);return d.filters.forEach(_=>{_.getFlattenedFilters().forEach(v=>{v.isInequality()&&(g=g.add(v.field))})}),g})(t).forEach(h=>{i.has(h.canonicalString())||h.isKeyField()||t.he.push(new pc(h,s))}),i.has(Je.keyField().canonicalString())||t.he.push(new pc(Je.keyField(),s))}return t.he}function ii(a){const t=Lt(a);return t.Pe||(t.Pe=ZR(t,sl(a))),t.Pe}function ZR(a,t){if(a.limitType==="F")return m_(a.path,a.collectionGroup,t,a.filters,a.limit,a.startAt,a.endAt);{t=t.map(l=>{const h=l.dir==="desc"?"asc":"desc";return new pc(l.field,h)});const i=a.endAt?new gc(a.endAt.position,a.endAt.inclusive):null,s=a.startAt?new gc(a.startAt.position,a.startAt.inclusive):null;return m_(a.path,a.collectionGroup,t,a.filters,a.limit,i,s)}}function Td(a,t,i){return new Oc(a.path,a.collectionGroup,a.explicitOrderBy.slice(),a.filters.slice(),t,i,a.startAt,a.endAt)}function Nc(a,t){return Zd(ii(a),ii(t))&&a.limitType===t.limitType}function o0(a){return`${$d(ii(a))}|lt:${a.limitType}`}function Ta(a){return`Query(target=${function(i){let s=i.path.canonicalString();return i.collectionGroup!==null&&(s+=" collectionGroup="+i.collectionGroup),i.filters.length>0&&(s+=`, filters: [${i.filters.map(l=>r0(l)).join(", ")}]`),Ic(i.limit)||(s+=", limit: "+i.limit),i.orderBy.length>0&&(s+=`, orderBy: [${i.orderBy.map(l=>function(d){return`${d.field.canonicalString()} (${d.dir})`}(l)).join(", ")}]`),i.startAt&&(s+=", startAt: ",s+=i.startAt.inclusive?"b:":"a:",s+=i.startAt.position.map(l=>ka(l)).join(",")),i.endAt&&(s+=", endAt: ",s+=i.endAt.inclusive?"a:":"b:",s+=i.endAt.position.map(l=>ka(l)).join(",")),`Target(${s})`}(ii(a))}; limitType=${a.limitType})`}function Mc(a,t){return t.isFoundDocument()&&function(s,l){const h=l.key.path;return s.collectionGroup!==null?l.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(h):ht.isDocumentKey(s.path)?s.path.isEqual(h):s.path.isImmediateParentOf(h)}(a,t)&&function(s,l){for(const h of sl(s))if(!h.field.isKeyField()&&l.data.field(h.field)===null)return!1;return!0}(a,t)&&function(s,l){for(const h of s.filters)if(!h.matches(l))return!1;return!0}(a,t)&&function(s,l){return!(s.startAt&&!function(d,g,_){const v=f_(d,g,_);return d.inclusive?v<=0:v<0}(s.startAt,sl(s),l)||s.endAt&&!function(d,g,_){const v=f_(d,g,_);return d.inclusive?v>=0:v>0}(s.endAt,sl(s),l))}(a,t)}function JR(a){return a.collectionGroup||(a.path.length%2==1?a.path.lastSegment():a.path.get(a.path.length-2))}function l0(a){return(t,i)=>{let s=!1;for(const l of sl(a)){const h=WR(l,t,i);if(h!==0)return h;s=s||l.field.isKeyField()}return 0}}function WR(a,t,i){const s=a.field.isKeyField()?ht.comparator(t.key,i.key):function(h,d,g){const _=d.data.field(h),v=g.data.field(h);return _!==null&&v!==null?La(_,v):yt()}(a.field,t,i);switch(a.dir){case"asc":return s;case"desc":return-1*s;default:return yt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(t,i){this.mapKeyFn=t,this.equalsFn=i,this.inner={},this.innerSize=0}get(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s!==void 0){for(const[l,h]of s)if(this.equalsFn(l,t))return h}}has(t){return this.get(t)!==void 0}set(t,i){const s=this.mapKeyFn(t),l=this.inner[s];if(l===void 0)return this.inner[s]=[[t,i]],void this.innerSize++;for(let h=0;h<l.length;h++)if(this.equalsFn(l[h][0],t))return void(l[h]=[t,i]);l.push([t,i]),this.innerSize++}delete(t){const i=this.mapKeyFn(t),s=this.inner[i];if(s===void 0)return!1;for(let l=0;l<s.length;l++)if(this.equalsFn(s[l][0],t))return s.length===1?delete this.inner[i]:s.splice(l,1),this.innerSize--,!0;return!1}forEach(t){vl(this.inner,(i,s)=>{for(const[l,h]of s)t(l,h)})}isEmpty(){return NR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tw=new ue(ht.comparator);function zr(){return tw}const u0=new ue(ht.comparator);function el(...a){let t=u0;for(const i of a)t=t.insert(i.key,i);return t}function ew(a){let t=u0;return a.forEach((i,s)=>t=t.insert(i,s.overlayedDocument)),t}function Ts(){return al()}function c0(){return al()}function al(){return new Ds(a=>a.toString(),(a,t)=>a.isEqual(t))}const nw=new be(ht.comparator);function kt(...a){let t=nw;for(const i of a)t=t.add(i);return t}const iw=new be(Dt);function rw(){return iw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(a,t){if(a.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:gd(t)?"-0":t}}function aw(a){return{integerValue:""+a}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vc{constructor(){this._=void 0}}function ow(a,t,i){return a instanceof Ad?function(l,h){const d={fields:{[Zv]:{stringValue:$v},[Wv]:{timestampValue:{seconds:l.seconds,nanos:l.nanoseconds}}}};return h&&Yd(h)&&(h=Dc(h)),h&&(d.fields[Jv]=h),{mapValue:d}}(i,t):a instanceof yc?h0(a,t):a instanceof _c?f0(a,t):function(l,h){const d=uw(l,h),g=p_(d)+p_(l.Ie);return _d(d)&&_d(l.Ie)?aw(g):sw(l.serializer,g)}(a,t)}function lw(a,t,i){return a instanceof yc?h0(a,t):a instanceof _c?f0(a,t):i}function uw(a,t){return a instanceof Sd?function(s){return _d(s)||function(h){return!!h&&"doubleValue"in h}(s)}(t)?t:{integerValue:0}:null}class Ad extends Vc{}class yc extends Vc{constructor(t){super(),this.elements=t}}function h0(a,t){const i=d0(t);for(const s of a.elements)i.some(l=>si(l,s))||i.push(s);return{arrayValue:{values:i}}}class _c extends Vc{constructor(t){super(),this.elements=t}}function f0(a,t){let i=d0(t);for(const s of a.elements)i=i.filter(l=>!si(l,s));return{arrayValue:{values:i}}}class Sd extends Vc{constructor(t,i){super(),this.serializer=t,this.Ie=i}}function p_(a){return le(a.integerValue||a.doubleValue)}function d0(a){return Xd(a)&&a.arrayValue.values?a.arrayValue.values.slice():[]}function cw(a,t){return a.field.isEqual(t.field)&&function(s,l){return s instanceof yc&&l instanceof yc||s instanceof _c&&l instanceof _c?Ua(s.elements,l.elements,si):s instanceof Sd&&l instanceof Sd?si(s.Ie,l.Ie):s instanceof Ad&&l instanceof Ad}(a.transform,t.transform)}class bs{constructor(t,i){this.updateTime=t,this.exists=i}static none(){return new bs}static exists(t){return new bs(void 0,t)}static updateTime(t){return new bs(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}}function ic(a,t){return a.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(a.updateTime):a.exists===void 0||a.exists===t.isFoundDocument()}class Jd{}function m0(a,t){if(!a.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return a.isNoDocument()?new fw(a.key,bs.none()):new Wd(a.key,a.data,bs.none());{const i=a.data,s=ei.empty();let l=new be(Je.comparator);for(let h of t.fields)if(!l.has(h)){let d=i.field(h);d===null&&h.length>1&&(h=h.popLast(),d=i.field(h)),d===null?s.delete(h):s.set(h,d),l=l.add(h)}return new Uc(a.key,s,new Dr(l.toArray()),bs.none())}}function hw(a,t,i){a instanceof Wd?function(l,h,d){const g=l.value.clone(),_=__(l.fieldTransforms,h,d.transformResults);g.setAll(_),h.convertToFoundDocument(d.version,g).setHasCommittedMutations()}(a,t,i):a instanceof Uc?function(l,h,d){if(!ic(l.precondition,h))return void h.convertToUnknownDocument(d.version);const g=__(l.fieldTransforms,h,d.transformResults),_=h.data;_.setAll(g0(l)),_.setAll(g),h.convertToFoundDocument(d.version,_).setHasCommittedMutations()}(a,t,i):function(l,h,d){h.convertToNoDocument(d.version).setHasCommittedMutations()}(0,t,i)}function ol(a,t,i,s){return a instanceof Wd?function(h,d,g,_){if(!ic(h.precondition,d))return g;const v=h.value.clone(),S=v_(h.fieldTransforms,_,d);return v.setAll(S),d.convertToFoundDocument(d.version,v).setHasLocalMutations(),null}(a,t,i,s):a instanceof Uc?function(h,d,g,_){if(!ic(h.precondition,d))return g;const v=v_(h.fieldTransforms,_,d),S=d.data;return S.setAll(g0(h)),S.setAll(v),d.convertToFoundDocument(d.version,S).setHasLocalMutations(),g===null?null:g.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(V=>V.field))}(a,t,i,s):function(h,d,g){return ic(h.precondition,d)?(d.convertToNoDocument(d.version).setHasLocalMutations(),null):g}(a,t,i)}function y_(a,t){return a.type===t.type&&!!a.key.isEqual(t.key)&&!!a.precondition.isEqual(t.precondition)&&!!function(s,l){return s===void 0&&l===void 0||!(!s||!l)&&Ua(s,l,(h,d)=>cw(h,d))}(a.fieldTransforms,t.fieldTransforms)&&(a.type===0?a.value.isEqual(t.value):a.type!==1||a.data.isEqual(t.data)&&a.fieldMask.isEqual(t.fieldMask))}class Wd extends Jd{constructor(t,i,s,l=[]){super(),this.key=t,this.value=i,this.precondition=s,this.fieldTransforms=l,this.type=0}getFieldMask(){return null}}class Uc extends Jd{constructor(t,i,s,l,h=[]){super(),this.key=t,this.data=i,this.fieldMask=s,this.precondition=l,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function g0(a){const t=new Map;return a.fieldMask.fields.forEach(i=>{if(!i.isEmpty()){const s=a.data.field(i);t.set(i,s)}}),t}function __(a,t,i){const s=new Map;Wt(a.length===i.length);for(let l=0;l<i.length;l++){const h=a[l],d=h.transform,g=t.data.field(h.field);s.set(h.field,lw(d,g,i[l]))}return s}function v_(a,t,i){const s=new Map;for(const l of a){const h=l.transform,d=i.data.field(l.field);s.set(l.field,ow(h,d,t))}return s}class fw extends Jd{constructor(t,i){super(),this.key=t,this.precondition=i,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(t,i,s,l){this.batchId=t,this.localWriteTime=i,this.baseMutations=s,this.mutations=l}applyToRemoteDocument(t,i){const s=i.mutationResults;for(let l=0;l<this.mutations.length;l++){const h=this.mutations[l];h.key.isEqual(t.key)&&hw(h,t,s[l])}}applyToLocalView(t,i){for(const s of this.baseMutations)s.key.isEqual(t.key)&&(i=ol(s,t,i,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(t.key)&&(i=ol(s,t,i,this.localWriteTime));return i}applyToLocalDocumentSet(t,i){const s=c0();return this.mutations.forEach(l=>{const h=t.get(l.key),d=h.overlayedDocument;let g=this.applyToLocalView(d,h.mutatedFields);g=i.has(l.key)?null:g;const _=m0(d,g);_!==null&&s.set(l.key,_),d.isValidDocument()||d.convertToNoDocument(gt.min())}),s}keys(){return this.mutations.reduce((t,i)=>t.add(i.key),kt())}isEqual(t){return this.batchId===t.batchId&&Ua(this.mutations,t.mutations,(i,s)=>y_(i,s))&&Ua(this.baseMutations,t.baseMutations,(i,s)=>y_(i,s))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mw{constructor(t,i){this.largestBatchId=t,this.mutation=i}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gw{constructor(t,i){this.count=t,this.unchangedNames=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ge,Ut;function p0(a){if(a===void 0)return Bi("GRPC error has no .code"),X.UNKNOWN;switch(a){case ge.OK:return X.OK;case ge.CANCELLED:return X.CANCELLED;case ge.UNKNOWN:return X.UNKNOWN;case ge.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case ge.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case ge.INTERNAL:return X.INTERNAL;case ge.UNAVAILABLE:return X.UNAVAILABLE;case ge.UNAUTHENTICATED:return X.UNAUTHENTICATED;case ge.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case ge.NOT_FOUND:return X.NOT_FOUND;case ge.ALREADY_EXISTS:return X.ALREADY_EXISTS;case ge.PERMISSION_DENIED:return X.PERMISSION_DENIED;case ge.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case ge.ABORTED:return X.ABORTED;case ge.OUT_OF_RANGE:return X.OUT_OF_RANGE;case ge.UNIMPLEMENTED:return X.UNIMPLEMENTED;case ge.DATA_LOSS:return X.DATA_LOSS;default:return yt()}}(Ut=ge||(ge={}))[Ut.OK=0]="OK",Ut[Ut.CANCELLED=1]="CANCELLED",Ut[Ut.UNKNOWN=2]="UNKNOWN",Ut[Ut.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ut[Ut.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ut[Ut.NOT_FOUND=5]="NOT_FOUND",Ut[Ut.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ut[Ut.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ut[Ut.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ut[Ut.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ut[Ut.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ut[Ut.ABORTED=10]="ABORTED",Ut[Ut.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ut[Ut.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ut[Ut.INTERNAL=13]="INTERNAL",Ut[Ut.UNAVAILABLE=14]="UNAVAILABLE",Ut[Ut.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw=new Ur([4294967295,4294967295],0);function E_(a){const t=dd().encode(a),i=new qv;return i.update(t),new Uint8Array(i.digest())}function T_(a){const t=new DataView(a.buffer),i=t.getUint32(0,!0),s=t.getUint32(4,!0),l=t.getUint32(8,!0),h=t.getUint32(12,!0);return[new Ur([i,s],0),new Ur([l,h],0)]}class tm{constructor(t,i,s){if(this.bitmap=t,this.padding=i,this.hashCount=s,i<0||i>=8)throw new nl(`Invalid padding: ${i}`);if(s<0)throw new nl(`Invalid hash count: ${s}`);if(t.length>0&&this.hashCount===0)throw new nl(`Invalid hash count: ${s}`);if(t.length===0&&i!==0)throw new nl(`Invalid padding when bitmap length is 0: ${i}`);this.Ee=8*t.length-i,this.de=Ur.fromNumber(this.Ee)}Ae(t,i,s){let l=t.add(i.multiply(Ur.fromNumber(s)));return l.compare(pw)===1&&(l=new Ur([l.getBits(0),l.getBits(1)],0)),l.modulo(this.de).toNumber()}Re(t){return!!(this.bitmap[Math.floor(t/8)]&1<<t%8)}mightContain(t){if(this.Ee===0)return!1;const i=E_(t),[s,l]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,l,h);if(!this.Re(d))return!1}return!0}static create(t,i,s){const l=t%8==0?0:8-t%8,h=new Uint8Array(Math.ceil(t/8)),d=new tm(h,l,i);return s.forEach(g=>d.insert(g)),d}insert(t){if(this.Ee===0)return;const i=E_(t),[s,l]=T_(i);for(let h=0;h<this.hashCount;h++){const d=this.Ae(s,l,h);this.Ve(d)}}Ve(t){const i=Math.floor(t/8),s=t%8;this.bitmap[i]|=1<<s}}class nl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lc{constructor(t,i,s,l,h){this.snapshotVersion=t,this.targetChanges=i,this.targetMismatches=s,this.documentUpdates=l,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(t,i,s){const l=new Map;return l.set(t,El.createSynthesizedTargetChangeForCurrentChange(t,i,s)),new Lc(gt.min(),l,new ue(Dt),zr(),kt())}}class El{constructor(t,i,s,l,h){this.resumeToken=t,this.current=i,this.addedDocuments=s,this.modifiedDocuments=l,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(t,i,s){return new El(s,i,kt(),kt(),kt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rc{constructor(t,i,s,l){this.me=t,this.removedTargetIds=i,this.key=s,this.fe=l}}class y0{constructor(t,i){this.targetId=t,this.ge=i}}class _0{constructor(t,i,s=xe.EMPTY_BYTE_STRING,l=null){this.state=t,this.targetIds=i,this.resumeToken=s,this.cause=l}}class A_{constructor(){this.pe=0,this.ye=S_(),this.we=xe.EMPTY_BYTE_STRING,this.Se=!1,this.be=!0}get current(){return this.Se}get resumeToken(){return this.we}get De(){return this.pe!==0}get ve(){return this.be}Ce(t){t.approximateByteSize()>0&&(this.be=!0,this.we=t)}Fe(){let t=kt(),i=kt(),s=kt();return this.ye.forEach((l,h)=>{switch(h){case 0:t=t.add(l);break;case 2:i=i.add(l);break;case 1:s=s.add(l);break;default:yt()}}),new El(this.we,this.Se,t,i,s)}Me(){this.be=!1,this.ye=S_()}xe(t,i){this.be=!0,this.ye=this.ye.insert(t,i)}Oe(t){this.be=!0,this.ye=this.ye.remove(t)}Ne(){this.pe+=1}Be(){this.pe-=1,Wt(this.pe>=0)}Le(){this.be=!0,this.Se=!0}}class yw{constructor(t){this.ke=t,this.qe=new Map,this.Qe=zr(),this.$e=Yu(),this.Ue=Yu(),this.Ke=new ue(Dt)}We(t){for(const i of t.me)t.fe&&t.fe.isFoundDocument()?this.Ge(i,t.fe):this.ze(i,t.key,t.fe);for(const i of t.removedTargetIds)this.ze(i,t.key,t.fe)}je(t){this.forEachTarget(t,i=>{const s=this.He(i);switch(t.state){case 0:this.Je(i)&&s.Ce(t.resumeToken);break;case 1:s.Be(),s.De||s.Me(),s.Ce(t.resumeToken);break;case 2:s.Be(),s.De||this.removeTarget(i);break;case 3:this.Je(i)&&(s.Le(),s.Ce(t.resumeToken));break;case 4:this.Je(i)&&(this.Ye(i),s.Ce(t.resumeToken));break;default:yt()}})}forEachTarget(t,i){t.targetIds.length>0?t.targetIds.forEach(i):this.qe.forEach((s,l)=>{this.Je(l)&&i(l)})}Ze(t){const i=t.targetId,s=t.ge.count,l=this.Xe(i);if(l){const h=l.target;if(Ed(h))if(s===0){const d=new ht(h.path);this.ze(i,d,Ge.newNoDocument(d,gt.min()))}else Wt(s===1);else{const d=this.et(i);if(d!==s){const g=this.tt(t),_=g?this.nt(g,t,d):1;if(_!==0){this.Ye(i);const v=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(i,v)}}}}}tt(t){const i=t.ge.unchangedNames;if(!i||!i.bits)return null;const{bits:{bitmap:s="",padding:l=0},hashCount:h=0}=i;let d,g;try{d=Pr(s).toUint8Array()}catch(_){if(_ instanceof Xv)return Va("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{g=new tm(d,l,h)}catch(_){return Va(_ instanceof nl?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return g.Ee===0?null:g}nt(t,i,s){return i.ge.count===s-this.st(t,i.targetId)?0:2}st(t,i){const s=this.ke.getRemoteKeysForTarget(i);let l=0;return s.forEach(h=>{const d=this.ke.it(),g=`projects/${d.projectId}/databases/${d.database}/documents/${h.path.canonicalString()}`;t.mightContain(g)||(this.ze(i,h,null),l++)}),l}ot(t){const i=new Map;this.qe.forEach((h,d)=>{const g=this.Xe(d);if(g){if(h.current&&Ed(g.target)){const _=new ht(g.target.path);this._t(_).has(d)||this.ut(d,_)||this.ze(d,_,Ge.newNoDocument(_,t))}h.ve&&(i.set(d,h.Fe()),h.Me())}});let s=kt();this.Ue.forEach((h,d)=>{let g=!0;d.forEachWhile(_=>{const v=this.Xe(_);return!v||v.purpose==="TargetPurposeLimboResolution"||(g=!1,!1)}),g&&(s=s.add(h))}),this.Qe.forEach((h,d)=>d.setReadTime(t));const l=new Lc(t,i,this.Ke,this.Qe,s);return this.Qe=zr(),this.$e=Yu(),this.Ue=Yu(),this.Ke=new ue(Dt),l}Ge(t,i){if(!this.Je(t))return;const s=this.ut(t,i.key)?2:0;this.He(t).xe(i.key,s),this.Qe=this.Qe.insert(i.key,i),this.$e=this.$e.insert(i.key,this._t(i.key).add(t)),this.Ue=this.Ue.insert(i.key,this.ct(i.key).add(t))}ze(t,i,s){if(!this.Je(t))return;const l=this.He(t);this.ut(t,i)?l.xe(i,1):l.Oe(i),this.Ue=this.Ue.insert(i,this.ct(i).delete(t)),this.Ue=this.Ue.insert(i,this.ct(i).add(t)),s&&(this.Qe=this.Qe.insert(i,s))}removeTarget(t){this.qe.delete(t)}et(t){const i=this.He(t).Fe();return this.ke.getRemoteKeysForTarget(t).size+i.addedDocuments.size-i.removedDocuments.size}Ne(t){this.He(t).Ne()}He(t){let i=this.qe.get(t);return i||(i=new A_,this.qe.set(t,i)),i}ct(t){let i=this.Ue.get(t);return i||(i=new be(Dt),this.Ue=this.Ue.insert(t,i)),i}_t(t){let i=this.$e.get(t);return i||(i=new be(Dt),this.$e=this.$e.insert(t,i)),i}Je(t){const i=this.Xe(t)!==null;return i||et("WatchChangeAggregator","Detected inactive target",t),i}Xe(t){const i=this.qe.get(t);return i&&i.De?null:this.ke.lt(t)}Ye(t){this.qe.set(t,new A_),this.ke.getRemoteKeysForTarget(t).forEach(i=>{this.ze(t,i,null)})}ut(t,i){return this.ke.getRemoteKeysForTarget(t).has(i)}}function Yu(){return new ue(ht.comparator)}function S_(){return new ue(ht.comparator)}const _w={asc:"ASCENDING",desc:"DESCENDING"},vw={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ew={and:"AND",or:"OR"};class Tw{constructor(t,i){this.databaseId=t,this.useProto3Json=i}}function bd(a,t){return a.useProto3Json||Ic(t)?t:{value:t}}function Aw(a,t){return a.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function Sw(a,t){return a.useProto3Json?t.toBase64():t.toUint8Array()}function Ia(a){return Wt(!!a),gt.fromTimestamp(function(i){const s=kr(i);return new rn(s.seconds,s.nanos)}(a))}function bw(a,t){return Rd(a,t).canonicalString()}function Rd(a,t){const i=function(l){return new se(["projects",l.projectId,"databases",l.database])}(a).child("documents");return t===void 0?i:i.child(t)}function v0(a){const t=se.fromString(a);return Wt(b0(t)),t}function Zf(a,t){const i=v0(t);if(i.get(1)!==a.databaseId.projectId)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+i.get(1)+" vs "+a.databaseId.projectId);if(i.get(3)!==a.databaseId.database)throw new ut(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+i.get(3)+" vs "+a.databaseId.database);return new ht(T0(i))}function E0(a,t){return bw(a.databaseId,t)}function Rw(a){const t=v0(a);return t.length===4?se.emptyPath():T0(t)}function b_(a){return new se(["projects",a.databaseId.projectId,"databases",a.databaseId.database]).canonicalString()}function T0(a){return Wt(a.length>4&&a.get(4)==="documents"),a.popFirst(5)}function ww(a,t){let i;if("targetChange"in t){t.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:yt()}(t.targetChange.targetChangeType||"NO_CHANGE"),l=t.targetChange.targetIds||[],h=function(v,S){return v.useProto3Json?(Wt(S===void 0||typeof S=="string"),xe.fromBase64String(S||"")):(Wt(S===void 0||S instanceof Buffer||S instanceof Uint8Array),xe.fromUint8Array(S||new Uint8Array))}(a,t.targetChange.resumeToken),d=t.targetChange.cause,g=d&&function(v){const S=v.code===void 0?X.UNKNOWN:p0(v.code);return new ut(S,v.message||"")}(d);i=new _0(s,l,h,g||null)}else if("documentChange"in t){t.documentChange;const s=t.documentChange;s.document,s.document.name,s.document.updateTime;const l=Zf(a,s.document.name),h=Ia(s.document.updateTime),d=s.document.createTime?Ia(s.document.createTime):gt.min(),g=new ei({mapValue:{fields:s.document.fields}}),_=Ge.newFoundDocument(l,h,d,g),v=s.targetIds||[],S=s.removedTargetIds||[];i=new rc(v,S,_.key,_)}else if("documentDelete"in t){t.documentDelete;const s=t.documentDelete;s.document;const l=Zf(a,s.document),h=s.readTime?Ia(s.readTime):gt.min(),d=Ge.newNoDocument(l,h),g=s.removedTargetIds||[];i=new rc([],g,d.key,d)}else if("documentRemove"in t){t.documentRemove;const s=t.documentRemove;s.document;const l=Zf(a,s.document),h=s.removedTargetIds||[];i=new rc([],h,l,null)}else{if(!("filter"in t))return yt();{t.filter;const s=t.filter;s.targetId;const{count:l=0,unchangedNames:h}=s,d=new gw(l,h),g=s.targetId;i=new y0(g,d)}}return i}function Cw(a,t){return{documents:[E0(a,t.path)]}}function Iw(a,t){const i={structuredQuery:{}},s=t.path;let l;t.collectionGroup!==null?(l=s,i.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(l=s.popLast(),i.structuredQuery.from=[{collectionId:s.lastSegment()}]),i.parent=E0(a,l);const h=function(v){if(v.length!==0)return S0(ai.create(v,"and"))}(t.filters);h&&(i.structuredQuery.where=h);const d=function(v){if(v.length!==0)return v.map(S=>function(z){return{field:Aa(z.field),direction:Nw(z.dir)}}(S))}(t.orderBy);d&&(i.structuredQuery.orderBy=d);const g=bd(a,t.limit);return g!==null&&(i.structuredQuery.limit=g),t.startAt&&(i.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(t.startAt)),t.endAt&&(i.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(t.endAt)),{ht:i,parent:l}}function Dw(a){let t=Rw(a.parent);const i=a.structuredQuery,s=i.from?i.from.length:0;let l=null;if(s>0){Wt(s===1);const S=i.from[0];S.allDescendants?l=S.collectionId:t=t.child(S.collectionId)}let h=[];i.where&&(h=function(V){const z=A0(V);return z instanceof ai&&n0(z)?z.getFilters():[z]}(i.where));let d=[];i.orderBy&&(d=function(V){return V.map(z=>function($){return new pc(Sa($.field),function(J){switch(J){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(z))}(i.orderBy));let g=null;i.limit&&(g=function(V){let z;return z=typeof V=="object"?V.value:V,Ic(z)?null:z}(i.limit));let _=null;i.startAt&&(_=function(V){const z=!!V.before,F=V.values||[];return new gc(F,z)}(i.startAt));let v=null;return i.endAt&&(v=function(V){const z=!V.before,F=V.values||[];return new gc(F,z)}(i.endAt)),XR(t,l,d,h,g,"F",_,v)}function Ow(a,t){const i=function(l){switch(l){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return yt()}}(t.purpose);return i==null?null:{"goog-listen-tags":i}}function A0(a){return a.unaryFilter!==void 0?function(i){switch(i.unaryFilter.op){case"IS_NAN":const s=Sa(i.unaryFilter.field);return Se.create(s,"==",{doubleValue:NaN});case"IS_NULL":const l=Sa(i.unaryFilter.field);return Se.create(l,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=Sa(i.unaryFilter.field);return Se.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const d=Sa(i.unaryFilter.field);return Se.create(d,"!=",{nullValue:"NULL_VALUE"});default:return yt()}}(a):a.fieldFilter!==void 0?function(i){return Se.create(Sa(i.fieldFilter.field),function(l){switch(l){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return yt()}}(i.fieldFilter.op),i.fieldFilter.value)}(a):a.compositeFilter!==void 0?function(i){return ai.create(i.compositeFilter.filters.map(s=>A0(s)),function(l){switch(l){case"AND":return"and";case"OR":return"or";default:return yt()}}(i.compositeFilter.op))}(a):yt()}function Nw(a){return _w[a]}function Mw(a){return vw[a]}function Vw(a){return Ew[a]}function Aa(a){return{fieldPath:a.canonicalString()}}function Sa(a){return Je.fromServerFormat(a.fieldPath)}function S0(a){return a instanceof Se?function(i){if(i.op==="=="){if(h_(i.value))return{unaryFilter:{field:Aa(i.field),op:"IS_NAN"}};if(c_(i.value))return{unaryFilter:{field:Aa(i.field),op:"IS_NULL"}}}else if(i.op==="!="){if(h_(i.value))return{unaryFilter:{field:Aa(i.field),op:"IS_NOT_NAN"}};if(c_(i.value))return{unaryFilter:{field:Aa(i.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(i.field),op:Mw(i.op),value:i.value}}}(a):a instanceof ai?function(i){const s=i.getFilters().map(l=>S0(l));return s.length===1?s[0]:{compositeFilter:{op:Vw(i.op),filters:s}}}(a):yt()}function b0(a){return a.length>=4&&a.get(0)==="projects"&&a.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Or{constructor(t,i,s,l,h=gt.min(),d=gt.min(),g=xe.EMPTY_BYTE_STRING,_=null){this.target=t,this.targetId=i,this.purpose=s,this.sequenceNumber=l,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=d,this.resumeToken=g,this.expectedCount=_}withSequenceNumber(t){return new Or(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,i){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,i,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Or(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uw{constructor(t){this.Tt=t}}function Lw(a){const t=Dw({parent:a.parent,structuredQuery:a.structuredQuery});return a.limitType==="LAST"?Td(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kw{constructor(){this.Tn=new Pw}addToCollectionParentIndex(t,i){return this.Tn.add(i),G.resolve()}getCollectionParents(t,i){return G.resolve(this.Tn.getEntries(i))}addFieldIndex(t,i){return G.resolve()}deleteFieldIndex(t,i){return G.resolve()}deleteAllFieldIndexes(t){return G.resolve()}createTargetIndexes(t,i){return G.resolve()}getDocumentsMatchingTarget(t,i){return G.resolve(null)}getIndexType(t,i){return G.resolve(0)}getFieldIndexes(t,i){return G.resolve([])}getNextCollectionGroupToUpdate(t){return G.resolve(null)}getMinOffset(t,i){return G.resolve(Lr.min())}getMinOffsetFromCollectionGroup(t,i){return G.resolve(Lr.min())}updateCollectionGroup(t,i,s){return G.resolve()}updateIndexEntries(t,i){return G.resolve()}}class Pw{constructor(){this.index={}}add(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i]||new be(se.comparator),h=!l.has(s);return this.index[i]=l.add(s),h}has(t){const i=t.lastSegment(),s=t.popLast(),l=this.index[i];return l&&l.has(s)}getEntries(t){return(this.index[t]||new be(se.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R_={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},R0=41943040;class nn{static withCacheSize(t){return new nn(t,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(t,i,s){this.cacheSizeCollectionThreshold=t,this.percentileToCollect=i,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */nn.DEFAULT_COLLECTION_PERCENTILE=10,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,nn.DEFAULT=new nn(R0,nn.DEFAULT_COLLECTION_PERCENTILE,nn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),nn.DISABLED=new nn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pa{constructor(t){this.$n=t}next(){return this.$n+=2,this.$n}static Un(){return new Pa(0)}static Kn(){return new Pa(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_="LruGarbageCollector",xw=1048576;function C_([a,t],[i,s]){const l=Dt(a,i);return l===0?Dt(t,s):l}class zw{constructor(t){this.Hn=t,this.buffer=new be(C_),this.Jn=0}Yn(){return++this.Jn}Zn(t){const i=[t,this.Yn()];if(this.buffer.size<this.Hn)this.buffer=this.buffer.add(i);else{const s=this.buffer.last();C_(i,s)<0&&(this.buffer=this.buffer.delete(s).add(i))}}get maxValue(){return this.buffer.last()[0]}}class Bw{constructor(t,i,s){this.garbageCollector=t,this.asyncQueue=i,this.localStore=s,this.Xn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.er(6e4)}stop(){this.Xn&&(this.Xn.cancel(),this.Xn=null)}get started(){return this.Xn!==null}er(t){et(w_,`Garbage collection scheduled in ${t}ms`),this.Xn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",t,async()=>{this.Xn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(i){ja(i)?et(w_,"Ignoring IndexedDB error during garbage collection: ",i):await wc(i)}await this.er(3e5)})}}class qw{constructor(t,i){this.tr=t,this.params=i}calculateTargetCount(t,i){return this.tr.nr(t).next(s=>Math.floor(i/100*s))}nthSequenceNumber(t,i){if(i===0)return G.resolve(Cc.ae);const s=new zw(i);return this.tr.forEachTarget(t,l=>s.Zn(l.sequenceNumber)).next(()=>this.tr.rr(t,l=>s.Zn(l))).next(()=>s.maxValue)}removeTargets(t,i,s){return this.tr.removeTargets(t,i,s)}removeOrphanedDocuments(t,i){return this.tr.removeOrphanedDocuments(t,i)}collect(t,i){return this.params.cacheSizeCollectionThreshold===-1?(et("LruGarbageCollector","Garbage collection skipped; disabled"),G.resolve(R_)):this.getCacheSize(t).next(s=>s<this.params.cacheSizeCollectionThreshold?(et("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),R_):this.ir(t,i))}getCacheSize(t){return this.tr.getCacheSize(t)}ir(t,i){let s,l,h,d,g,_,v;const S=Date.now();return this.calculateTargetCount(t,this.params.percentileToCollect).next(V=>(V>this.params.maximumSequenceNumbersToCollect?(et("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${V}`),l=this.params.maximumSequenceNumbersToCollect):l=V,d=Date.now(),this.nthSequenceNumber(t,l))).next(V=>(s=V,g=Date.now(),this.removeTargets(t,s,i))).next(V=>(h=V,_=Date.now(),this.removeOrphanedDocuments(t,s))).next(V=>(v=Date.now(),Ea()<=Ct.DEBUG&&et("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${d-S}ms
	Determined least recently used ${l} in `+(g-d)+`ms
	Removed ${h} targets in `+(_-g)+`ms
	Removed ${V} documents in `+(v-_)+`ms
Total Duration: ${v-S}ms`),G.resolve({didRun:!0,sequenceNumbersCollected:l,targetsRemoved:h,documentsRemoved:V})))}}function Hw(a,t){return new qw(a,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.changes=new Ds(t=>t.toString(),(t,i)=>t.isEqual(i)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,i){this.assertNotApplied(),this.changes.set(t,Ge.newInvalidDocument(t).setReadTime(i))}getEntry(t,i){this.assertNotApplied();const s=this.changes.get(i);return s!==void 0?G.resolve(s):this.getFromCache(t,i)}getEntries(t,i){return this.getAllFromCache(t,i)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gw{constructor(t,i){this.overlayedDocument=t,this.mutatedFields=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fw{constructor(t,i,s,l){this.remoteDocumentCache=t,this.mutationQueue=i,this.documentOverlayCache=s,this.indexManager=l}getDocument(t,i){let s=null;return this.documentOverlayCache.getOverlay(t,i).next(l=>(s=l,this.remoteDocumentCache.getEntry(t,i))).next(l=>(s!==null&&ol(s.mutation,l,Dr.empty(),rn.now()),l))}getDocuments(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.getLocalViewOfDocuments(t,s,kt()).next(()=>s))}getLocalViewOfDocuments(t,i,s=kt()){const l=Ts();return this.populateOverlays(t,l,i).next(()=>this.computeViews(t,i,l,s).next(h=>{let d=el();return h.forEach((g,_)=>{d=d.insert(g,_.overlayedDocument)}),d}))}getOverlayedDocuments(t,i){const s=Ts();return this.populateOverlays(t,s,i).next(()=>this.computeViews(t,i,s,kt()))}populateOverlays(t,i,s){const l=[];return s.forEach(h=>{i.has(h)||l.push(h)}),this.documentOverlayCache.getOverlays(t,l).next(h=>{h.forEach((d,g)=>{i.set(d,g)})})}computeViews(t,i,s,l){let h=zr();const d=al(),g=function(){return al()}();return i.forEach((_,v)=>{const S=s.get(v.key);l.has(v.key)&&(S===void 0||S.mutation instanceof Uc)?h=h.insert(v.key,v):S!==void 0?(d.set(v.key,S.mutation.getFieldMask()),ol(S.mutation,v,S.mutation.getFieldMask(),rn.now())):d.set(v.key,Dr.empty())}),this.recalculateAndSaveOverlays(t,h).next(_=>(_.forEach((v,S)=>d.set(v,S)),i.forEach((v,S)=>{var V;return g.set(v,new Gw(S,(V=d.get(v))!==null&&V!==void 0?V:null))}),g))}recalculateAndSaveOverlays(t,i){const s=al();let l=new ue((d,g)=>d-g),h=kt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,i).next(d=>{for(const g of d)g.keys().forEach(_=>{const v=i.get(_);if(v===null)return;let S=s.get(_)||Dr.empty();S=g.applyToLocalView(v,S),s.set(_,S);const V=(l.get(g.batchId)||kt()).add(_);l=l.insert(g.batchId,V)})}).next(()=>{const d=[],g=l.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),v=_.key,S=_.value,V=c0();S.forEach(z=>{if(!h.has(z)){const F=m0(i.get(z),s.get(z));F!==null&&V.set(z,F),h=h.add(z)}}),d.push(this.documentOverlayCache.saveOverlays(t,v,V))}return G.waitFor(d)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(t,i){return this.remoteDocumentCache.getEntries(t,i).next(s=>this.recalculateAndSaveOverlays(t,s))}getDocumentsMatchingQuery(t,i,s,l){return function(d){return ht.isDocumentKey(d.path)&&d.collectionGroup===null&&d.filters.length===0}(i)?this.getDocumentsMatchingDocumentQuery(t,i.path):$R(i)?this.getDocumentsMatchingCollectionGroupQuery(t,i,s,l):this.getDocumentsMatchingCollectionQuery(t,i,s,l)}getNextDocuments(t,i,s,l){return this.remoteDocumentCache.getAllFromCollectionGroup(t,i,s,l).next(h=>{const d=l-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,i,s.largestBatchId,l-h.size):G.resolve(Ts());let g=cl,_=h;return d.next(v=>G.forEach(v,(S,V)=>(g<V.largestBatchId&&(g=V.largestBatchId),h.get(S)?G.resolve():this.remoteDocumentCache.getEntry(t,S).next(z=>{_=_.insert(S,z)}))).next(()=>this.populateOverlays(t,v,h)).next(()=>this.computeViews(t,_,v,kt())).next(S=>({batchId:g,changes:ew(S)})))})}getDocumentsMatchingDocumentQuery(t,i){return this.getDocument(t,new ht(i)).next(s=>{let l=el();return s.isFoundDocument()&&(l=l.insert(s.key,s)),l})}getDocumentsMatchingCollectionGroupQuery(t,i,s,l){const h=i.collectionGroup;let d=el();return this.indexManager.getCollectionParents(t,h).next(g=>G.forEach(g,_=>{const v=function(V,z){return new Oc(z,null,V.explicitOrderBy.slice(),V.filters.slice(),V.limit,V.limitType,V.startAt,V.endAt)}(i,_.child(h));return this.getDocumentsMatchingCollectionQuery(t,v,s,l).next(S=>{S.forEach((V,z)=>{d=d.insert(V,z)})})}).next(()=>d))}getDocumentsMatchingCollectionQuery(t,i,s,l){let h;return this.documentOverlayCache.getOverlaysForCollection(t,i.path,s.largestBatchId).next(d=>(h=d,this.remoteDocumentCache.getDocumentsMatchingQuery(t,i,s,h,l))).next(d=>{h.forEach((_,v)=>{const S=v.getKey();d.get(S)===null&&(d=d.insert(S,Ge.newInvalidDocument(S)))});let g=el();return d.forEach((_,v)=>{const S=h.get(_);S!==void 0&&ol(S.mutation,v,Dr.empty(),rn.now()),Mc(i,v)&&(g=g.insert(_,v))}),g})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(t){this.serializer=t,this.dr=new Map,this.Ar=new Map}getBundleMetadata(t,i){return G.resolve(this.dr.get(i))}saveBundleMetadata(t,i){return this.dr.set(i.id,function(l){return{id:l.id,version:l.version,createTime:Ia(l.createTime)}}(i)),G.resolve()}getNamedQuery(t,i){return G.resolve(this.Ar.get(i))}saveNamedQuery(t,i){return this.Ar.set(i.name,function(l){return{name:l.name,query:Lw(l.bundledQuery),readTime:Ia(l.readTime)}}(i)),G.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kw{constructor(){this.overlays=new ue(ht.comparator),this.Rr=new Map}getOverlay(t,i){return G.resolve(this.overlays.get(i))}getOverlays(t,i){const s=Ts();return G.forEach(i,l=>this.getOverlay(t,l).next(h=>{h!==null&&s.set(l,h)})).next(()=>s)}saveOverlays(t,i,s){return s.forEach((l,h)=>{this.Et(t,i,h)}),G.resolve()}removeOverlaysForBatchId(t,i,s){const l=this.Rr.get(s);return l!==void 0&&(l.forEach(h=>this.overlays=this.overlays.remove(h)),this.Rr.delete(s)),G.resolve()}getOverlaysForCollection(t,i,s){const l=Ts(),h=i.length+1,d=new ht(i.child("")),g=this.overlays.getIteratorFrom(d);for(;g.hasNext();){const _=g.getNext().value,v=_.getKey();if(!i.isPrefixOf(v.path))break;v.path.length===h&&_.largestBatchId>s&&l.set(_.getKey(),_)}return G.resolve(l)}getOverlaysForCollectionGroup(t,i,s,l){let h=new ue((v,S)=>v-S);const d=this.overlays.getIterator();for(;d.hasNext();){const v=d.getNext().value;if(v.getKey().getCollectionGroup()===i&&v.largestBatchId>s){let S=h.get(v.largestBatchId);S===null&&(S=Ts(),h=h.insert(v.largestBatchId,S)),S.set(v.getKey(),v)}}const g=Ts(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((v,S)=>g.set(v,S)),!(g.size()>=l)););return G.resolve(g)}Et(t,i,s){const l=this.overlays.get(s.key);if(l!==null){const d=this.Rr.get(l.largestBatchId).delete(s.key);this.Rr.set(l.largestBatchId,d)}this.overlays=this.overlays.insert(s.key,new mw(i,s));let h=this.Rr.get(i);h===void 0&&(h=kt(),this.Rr.set(i,h)),this.Rr.set(i,h.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(){this.sessionToken=xe.EMPTY_BYTE_STRING}getSessionToken(t){return G.resolve(this.sessionToken)}setSessionToken(t,i){return this.sessionToken=i,G.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class em{constructor(){this.Vr=new be(Me.mr),this.gr=new be(Me.pr)}isEmpty(){return this.Vr.isEmpty()}addReference(t,i){const s=new Me(t,i);this.Vr=this.Vr.add(s),this.gr=this.gr.add(s)}yr(t,i){t.forEach(s=>this.addReference(s,i))}removeReference(t,i){this.wr(new Me(t,i))}Sr(t,i){t.forEach(s=>this.removeReference(s,i))}br(t){const i=new ht(new se([])),s=new Me(i,t),l=new Me(i,t+1),h=[];return this.gr.forEachInRange([s,l],d=>{this.wr(d),h.push(d.key)}),h}Dr(){this.Vr.forEach(t=>this.wr(t))}wr(t){this.Vr=this.Vr.delete(t),this.gr=this.gr.delete(t)}vr(t){const i=new ht(new se([])),s=new Me(i,t),l=new Me(i,t+1);let h=kt();return this.gr.forEachInRange([s,l],d=>{h=h.add(d.key)}),h}containsKey(t){const i=new Me(t,0),s=this.Vr.firstAfterOrEqual(i);return s!==null&&t.isEqual(s.key)}}class Me{constructor(t,i){this.key=t,this.Cr=i}static mr(t,i){return ht.comparator(t.key,i.key)||Dt(t.Cr,i.Cr)}static pr(t,i){return Dt(t.Cr,i.Cr)||ht.comparator(t.key,i.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xw{constructor(t,i){this.indexManager=t,this.referenceDelegate=i,this.mutationQueue=[],this.Fr=1,this.Mr=new be(Me.mr)}checkEmpty(t){return G.resolve(this.mutationQueue.length===0)}addMutationBatch(t,i,s,l){const h=this.Fr;this.Fr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const d=new dw(h,i,s,l);this.mutationQueue.push(d);for(const g of l)this.Mr=this.Mr.add(new Me(g.key,h)),this.indexManager.addToCollectionParentIndex(t,g.key.path.popLast());return G.resolve(d)}lookupMutationBatch(t,i){return G.resolve(this.Or(i))}getNextMutationBatchAfterBatchId(t,i){const s=i+1,l=this.Nr(s),h=l<0?0:l;return G.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return G.resolve(this.mutationQueue.length===0?IR:this.Fr-1)}getAllMutationBatches(t){return G.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,i){const s=new Me(i,0),l=new Me(i,Number.POSITIVE_INFINITY),h=[];return this.Mr.forEachInRange([s,l],d=>{const g=this.Or(d.Cr);h.push(g)}),G.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(t,i){let s=new be(Dt);return i.forEach(l=>{const h=new Me(l,0),d=new Me(l,Number.POSITIVE_INFINITY);this.Mr.forEachInRange([h,d],g=>{s=s.add(g.Cr)})}),G.resolve(this.Br(s))}getAllMutationBatchesAffectingQuery(t,i){const s=i.path,l=s.length+1;let h=s;ht.isDocumentKey(h)||(h=h.child(""));const d=new Me(new ht(h),0);let g=new be(Dt);return this.Mr.forEachWhile(_=>{const v=_.key.path;return!!s.isPrefixOf(v)&&(v.length===l&&(g=g.add(_.Cr)),!0)},d),G.resolve(this.Br(g))}Br(t){const i=[];return t.forEach(s=>{const l=this.Or(s);l!==null&&i.push(l)}),i}removeMutationBatch(t,i){Wt(this.Lr(i.batchId,"removed")===0),this.mutationQueue.shift();let s=this.Mr;return G.forEach(i.mutations,l=>{const h=new Me(l.key,i.batchId);return s=s.delete(h),this.referenceDelegate.markPotentiallyOrphaned(t,l.key)}).next(()=>{this.Mr=s})}qn(t){}containsKey(t,i){const s=new Me(i,0),l=this.Mr.firstAfterOrEqual(s);return G.resolve(i.isEqual(l&&l.key))}performConsistencyCheck(t){return this.mutationQueue.length,G.resolve()}Lr(t,i){return this.Nr(t)}Nr(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Or(t){const i=this.Nr(t);return i<0||i>=this.mutationQueue.length?null:this.mutationQueue[i]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $w{constructor(t){this.kr=t,this.docs=function(){return new ue(ht.comparator)}(),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,i){const s=i.key,l=this.docs.get(s),h=l?l.size:0,d=this.kr(i);return this.docs=this.docs.insert(s,{document:i.mutableCopy(),size:d}),this.size+=d-h,this.indexManager.addToCollectionParentIndex(t,s.path.popLast())}removeEntry(t){const i=this.docs.get(t);i&&(this.docs=this.docs.remove(t),this.size-=i.size)}getEntry(t,i){const s=this.docs.get(i);return G.resolve(s?s.document.mutableCopy():Ge.newInvalidDocument(i))}getEntries(t,i){let s=zr();return i.forEach(l=>{const h=this.docs.get(l);s=s.insert(l,h?h.document.mutableCopy():Ge.newInvalidDocument(l))}),G.resolve(s)}getDocumentsMatchingQuery(t,i,s,l){let h=zr();const d=i.path,g=new ht(d.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(g);for(;_.hasNext();){const{key:v,value:{document:S}}=_.getNext();if(!d.isPrefixOf(v.path))break;v.path.length>d.length+1||bR(SR(S),s)<=0||(l.has(S.key)||Mc(i,S))&&(h=h.insert(S.key,S.mutableCopy()))}return G.resolve(h)}getAllFromCollectionGroup(t,i,s,l){yt()}qr(t,i){return G.forEach(this.docs,s=>i(s))}newChangeBuffer(t){return new Zw(this)}getSize(t){return G.resolve(this.size)}}class Zw extends jw{constructor(t){super(),this.Ir=t}applyChanges(t){const i=[];return this.changes.forEach((s,l)=>{l.isValidDocument()?i.push(this.Ir.addEntry(t,l)):this.Ir.removeEntry(s)}),G.waitFor(i)}getFromCache(t,i){return this.Ir.getEntry(t,i)}getAllFromCache(t,i){return this.Ir.getEntries(t,i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jw{constructor(t){this.persistence=t,this.Qr=new Ds(i=>$d(i),Zd),this.lastRemoteSnapshotVersion=gt.min(),this.highestTargetId=0,this.$r=0,this.Ur=new em,this.targetCount=0,this.Kr=Pa.Un()}forEachTarget(t,i){return this.Qr.forEach((s,l)=>i(l)),G.resolve()}getLastRemoteSnapshotVersion(t){return G.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return G.resolve(this.$r)}allocateTargetId(t){return this.highestTargetId=this.Kr.next(),G.resolve(this.highestTargetId)}setTargetsMetadata(t,i,s){return s&&(this.lastRemoteSnapshotVersion=s),i>this.$r&&(this.$r=i),G.resolve()}zn(t){this.Qr.set(t.target,t);const i=t.targetId;i>this.highestTargetId&&(this.Kr=new Pa(i),this.highestTargetId=i),t.sequenceNumber>this.$r&&(this.$r=t.sequenceNumber)}addTargetData(t,i){return this.zn(i),this.targetCount+=1,G.resolve()}updateTargetData(t,i){return this.zn(i),G.resolve()}removeTargetData(t,i){return this.Qr.delete(i.target),this.Ur.br(i.targetId),this.targetCount-=1,G.resolve()}removeTargets(t,i,s){let l=0;const h=[];return this.Qr.forEach((d,g)=>{g.sequenceNumber<=i&&s.get(g.targetId)===null&&(this.Qr.delete(d),h.push(this.removeMatchingKeysForTargetId(t,g.targetId)),l++)}),G.waitFor(h).next(()=>l)}getTargetCount(t){return G.resolve(this.targetCount)}getTargetData(t,i){const s=this.Qr.get(i)||null;return G.resolve(s)}addMatchingKeys(t,i,s){return this.Ur.yr(i,s),G.resolve()}removeMatchingKeys(t,i,s){this.Ur.Sr(i,s);const l=this.persistence.referenceDelegate,h=[];return l&&i.forEach(d=>{h.push(l.markPotentiallyOrphaned(t,d))}),G.waitFor(h)}removeMatchingKeysForTargetId(t,i){return this.Ur.br(i),G.resolve()}getMatchingKeysForTargetId(t,i){const s=this.Ur.vr(i);return G.resolve(s)}containsKey(t,i){return G.resolve(this.Ur.containsKey(i))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w0{constructor(t,i){this.Wr={},this.overlays={},this.Gr=new Cc(0),this.zr=!1,this.zr=!0,this.jr=new Yw,this.referenceDelegate=t(this),this.Hr=new Jw(this),this.indexManager=new kw,this.remoteDocumentCache=function(l){return new $w(l)}(s=>this.referenceDelegate.Jr(s)),this.serializer=new Uw(i),this.Yr=new Qw(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.zr=!1,Promise.resolve()}get started(){return this.zr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let i=this.overlays[t.toKey()];return i||(i=new Kw,this.overlays[t.toKey()]=i),i}getMutationQueue(t,i){let s=this.Wr[t.toKey()];return s||(s=new Xw(i,this.referenceDelegate),this.Wr[t.toKey()]=s),s}getGlobalsCache(){return this.jr}getTargetCache(){return this.Hr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Yr}runTransaction(t,i,s){et("MemoryPersistence","Starting transaction:",t);const l=new Ww(this.Gr.next());return this.referenceDelegate.Zr(),s(l).next(h=>this.referenceDelegate.Xr(l).next(()=>h)).toPromise().then(h=>(l.raiseOnCommittedEvent(),h))}ei(t,i){return G.or(Object.values(this.Wr).map(s=>()=>s.containsKey(t,i)))}}class Ww extends wR{constructor(t){super(),this.currentSequenceNumber=t}}class nm{constructor(t){this.persistence=t,this.ti=new em,this.ni=null}static ri(t){return new nm(t)}get ii(){if(this.ni)return this.ni;throw yt()}addReference(t,i,s){return this.ti.addReference(s,i),this.ii.delete(s.toString()),G.resolve()}removeReference(t,i,s){return this.ti.removeReference(s,i),this.ii.add(s.toString()),G.resolve()}markPotentiallyOrphaned(t,i){return this.ii.add(i.toString()),G.resolve()}removeTarget(t,i){this.ti.br(i.targetId).forEach(l=>this.ii.add(l.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(t,i.targetId).next(l=>{l.forEach(h=>this.ii.add(h.toString()))}).next(()=>s.removeTargetData(t,i))}Zr(){this.ni=new Set}Xr(t){const i=this.persistence.getRemoteDocumentCache().newChangeBuffer();return G.forEach(this.ii,s=>{const l=ht.fromPath(s);return this.si(t,l).next(h=>{h||i.removeEntry(l,gt.min())})}).next(()=>(this.ni=null,i.apply(t)))}updateLimboDocument(t,i){return this.si(t,i).next(s=>{s?this.ii.delete(i.toString()):this.ii.add(i.toString())})}Jr(t){return 0}si(t,i){return G.or([()=>G.resolve(this.ti.containsKey(i)),()=>this.persistence.getTargetCache().containsKey(t,i),()=>this.persistence.ei(t,i)])}}class vc{constructor(t,i){this.persistence=t,this.oi=new Ds(s=>DR(s.path),(s,l)=>s.isEqual(l)),this.garbageCollector=Hw(this,i)}static ri(t,i){return new vc(t,i)}Zr(){}Xr(t){return G.resolve()}forEachTarget(t,i){return this.persistence.getTargetCache().forEachTarget(t,i)}nr(t){const i=this.sr(t);return this.persistence.getTargetCache().getTargetCount(t).next(s=>i.next(l=>s+l))}sr(t){let i=0;return this.rr(t,s=>{i++}).next(()=>i)}rr(t,i){return G.forEach(this.oi,(s,l)=>this.ar(t,s,l).next(h=>h?G.resolve():i(l)))}removeTargets(t,i,s){return this.persistence.getTargetCache().removeTargets(t,i,s)}removeOrphanedDocuments(t,i){let s=0;const l=this.persistence.getRemoteDocumentCache(),h=l.newChangeBuffer();return l.qr(t,d=>this.ar(t,d,i).next(g=>{g||(s++,h.removeEntry(d,gt.min()))})).next(()=>h.apply(t)).next(()=>s)}markPotentiallyOrphaned(t,i){return this.oi.set(i,t.currentSequenceNumber),G.resolve()}removeTarget(t,i){const s=i.withSequenceNumber(t.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(t,s)}addReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),G.resolve()}removeReference(t,i,s){return this.oi.set(s,t.currentSequenceNumber),G.resolve()}updateLimboDocument(t,i){return this.oi.set(i,t.currentSequenceNumber),G.resolve()}Jr(t){let i=t.key.toString().length;return t.isFoundDocument()&&(i+=nc(t.data.value)),i}ar(t,i,s){return G.or([()=>this.persistence.ei(t,i),()=>this.persistence.getTargetCache().containsKey(t,i),()=>{const l=this.oi.get(i);return G.resolve(l!==void 0&&l>s)}])}getCacheSize(t){return this.persistence.getRemoteDocumentCache().getSize(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class im{constructor(t,i,s,l){this.targetId=t,this.fromCache=i,this.Hi=s,this.Ji=l}static Yi(t,i){let s=kt(),l=kt();for(const h of i.docChanges)switch(h.type){case 0:s=s.add(h.doc.key);break;case 1:l=l.add(h.doc.key)}return new im(t,i.fromCache,s,l)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(t){this._documentReadCount+=t}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e1{constructor(){this.Zi=!1,this.Xi=!1,this.es=100,this.ts=function(){return XT()?8:CR(Fe())>0?6:4}()}initialize(t,i){this.ns=t,this.indexManager=i,this.Zi=!0}getDocumentsMatchingQuery(t,i,s,l){const h={result:null};return this.rs(t,i).next(d=>{h.result=d}).next(()=>{if(!h.result)return this.ss(t,i,l,s).next(d=>{h.result=d})}).next(()=>{if(h.result)return;const d=new t1;return this._s(t,i,d).next(g=>{if(h.result=g,this.Xi)return this.us(t,i,d,g.size)})}).next(()=>h.result)}us(t,i,s,l){return s.documentReadCount<this.es?(Ea()<=Ct.DEBUG&&et("QueryEngine","SDK will not create cache indexes for query:",Ta(i),"since it only creates cache indexes for collection contains","more than or equal to",this.es,"documents"),G.resolve()):(Ea()<=Ct.DEBUG&&et("QueryEngine","Query:",Ta(i),"scans",s.documentReadCount,"local documents and returns",l,"documents as results."),s.documentReadCount>this.ts*l?(Ea()<=Ct.DEBUG&&et("QueryEngine","The SDK decides to create cache indexes for query:",Ta(i),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(t,ii(i))):G.resolve())}rs(t,i){if(g_(i))return G.resolve(null);let s=ii(i);return this.indexManager.getIndexType(t,s).next(l=>l===0?null:(i.limit!==null&&l===1&&(i=Td(i,null,"F"),s=ii(i)),this.indexManager.getDocumentsMatchingTarget(t,s).next(h=>{const d=kt(...h);return this.ns.getDocuments(t,d).next(g=>this.indexManager.getMinOffset(t,s).next(_=>{const v=this.cs(i,g);return this.ls(i,v,d,_.readTime)?this.rs(t,Td(i,null,"F")):this.hs(t,v,i,_)}))})))}ss(t,i,s,l){return g_(i)||l.isEqual(gt.min())?G.resolve(null):this.ns.getDocuments(t,s).next(h=>{const d=this.cs(i,h);return this.ls(i,d,s,l)?G.resolve(null):(Ea()<=Ct.DEBUG&&et("QueryEngine","Re-using previous result from %s to execute query: %s",l.toString(),Ta(i)),this.hs(t,d,i,AR(l,cl)).next(g=>g))})}cs(t,i){let s=new be(l0(t));return i.forEach((l,h)=>{Mc(t,h)&&(s=s.add(h))}),s}ls(t,i,s,l){if(t.limit===null)return!1;if(s.size!==i.size)return!0;const h=t.limitType==="F"?i.last():i.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(l)>0)}_s(t,i,s){return Ea()<=Ct.DEBUG&&et("QueryEngine","Using full collection scan to execute query:",Ta(i)),this.ns.getDocumentsMatchingQuery(t,i,Lr.min(),s)}hs(t,i,s,l){return this.ns.getDocumentsMatchingQuery(t,s,l).next(h=>(i.forEach(d=>{h=h.insert(d.key,d)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="LocalStore",n1=3e8;class i1{constructor(t,i,s,l){this.persistence=t,this.Ps=i,this.serializer=l,this.Ts=new ue(Dt),this.Is=new Ds(h=>$d(h),Zd),this.Es=new Map,this.ds=t.getRemoteDocumentCache(),this.Hr=t.getTargetCache(),this.Yr=t.getBundleCache(),this.As(s)}As(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new Fw(this.ds,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ds.setIndexManager(this.indexManager),this.Ps.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",i=>t.collect(i,this.Ts))}}function r1(a,t,i,s){return new i1(a,t,i,s)}async function C0(a,t){const i=Lt(a);return await i.persistence.runTransaction("Handle user change","readonly",s=>{let l;return i.mutationQueue.getAllMutationBatches(s).next(h=>(l=h,i.As(t),i.mutationQueue.getAllMutationBatches(s))).next(h=>{const d=[],g=[];let _=kt();for(const v of l){d.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}for(const v of h){g.push(v.batchId);for(const S of v.mutations)_=_.add(S.key)}return i.localDocuments.getDocuments(s,_).next(v=>({Rs:v,removedBatchIds:d,addedBatchIds:g}))})})}function I0(a){const t=Lt(a);return t.persistence.runTransaction("Get last remote snapshot version","readonly",i=>t.Hr.getLastRemoteSnapshotVersion(i))}function s1(a,t){const i=Lt(a),s=t.snapshotVersion;let l=i.Ts;return i.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const d=i.ds.newChangeBuffer({trackRemovals:!0});l=i.Ts;const g=[];t.targetChanges.forEach((S,V)=>{const z=l.get(V);if(!z)return;g.push(i.Hr.removeMatchingKeys(h,S.removedDocuments,V).next(()=>i.Hr.addMatchingKeys(h,S.addedDocuments,V)));let F=z.withSequenceNumber(h.currentSequenceNumber);t.targetMismatches.get(V)!==null?F=F.withResumeToken(xe.EMPTY_BYTE_STRING,gt.min()).withLastLimboFreeSnapshotVersion(gt.min()):S.resumeToken.approximateByteSize()>0&&(F=F.withResumeToken(S.resumeToken,s)),l=l.insert(V,F),function(rt,J,Ot){return rt.resumeToken.approximateByteSize()===0||J.snapshotVersion.toMicroseconds()-rt.snapshotVersion.toMicroseconds()>=n1?!0:Ot.addedDocuments.size+Ot.modifiedDocuments.size+Ot.removedDocuments.size>0}(z,F,S)&&g.push(i.Hr.updateTargetData(h,F))});let _=zr(),v=kt();if(t.documentUpdates.forEach(S=>{t.resolvedLimboDocuments.has(S)&&g.push(i.persistence.referenceDelegate.updateLimboDocument(h,S))}),g.push(a1(h,d,t.documentUpdates).next(S=>{_=S.Vs,v=S.fs})),!s.isEqual(gt.min())){const S=i.Hr.getLastRemoteSnapshotVersion(h).next(V=>i.Hr.setTargetsMetadata(h,h.currentSequenceNumber,s));g.push(S)}return G.waitFor(g).next(()=>d.apply(h)).next(()=>i.localDocuments.getLocalViewOfDocuments(h,_,v)).next(()=>_)}).then(h=>(i.Ts=l,h))}function a1(a,t,i){let s=kt(),l=kt();return i.forEach(h=>s=s.add(h)),t.getEntries(a,s).next(h=>{let d=zr();return i.forEach((g,_)=>{const v=h.get(g);_.isFoundDocument()!==v.isFoundDocument()&&(l=l.add(g)),_.isNoDocument()&&_.version.isEqual(gt.min())?(t.removeEntry(g,_.readTime),d=d.insert(g,_)):!v.isValidDocument()||_.version.compareTo(v.version)>0||_.version.compareTo(v.version)===0&&v.hasPendingWrites?(t.addEntry(_),d=d.insert(g,_)):et(rm,"Ignoring outdated watch update for ",g,". Current version:",v.version," Watch version:",_.version)}),{Vs:d,fs:l}})}function o1(a,t){const i=Lt(a);return i.persistence.runTransaction("Allocate target","readwrite",s=>{let l;return i.Hr.getTargetData(s,t).next(h=>h?(l=h,G.resolve(l)):i.Hr.allocateTargetId(s).next(d=>(l=new Or(t,d,"TargetPurposeListen",s.currentSequenceNumber),i.Hr.addTargetData(s,l).next(()=>l))))}).then(s=>{const l=i.Ts.get(s.targetId);return(l===null||s.snapshotVersion.compareTo(l.snapshotVersion)>0)&&(i.Ts=i.Ts.insert(s.targetId,s),i.Is.set(t,s.targetId)),s})}async function wd(a,t,i){const s=Lt(a),l=s.Ts.get(t),h=i?"readwrite":"readwrite-primary";try{i||await s.persistence.runTransaction("Release target",h,d=>s.persistence.referenceDelegate.removeTarget(d,l))}catch(d){if(!ja(d))throw d;et(rm,`Failed to update sequence numbers for target ${t}: ${d}`)}s.Ts=s.Ts.remove(t),s.Is.delete(l.target)}function I_(a,t,i){const s=Lt(a);let l=gt.min(),h=kt();return s.persistence.runTransaction("Execute query","readwrite",d=>function(_,v,S){const V=Lt(_),z=V.Is.get(S);return z!==void 0?G.resolve(V.Ts.get(z)):V.Hr.getTargetData(v,S)}(s,d,ii(t)).next(g=>{if(g)return l=g.lastLimboFreeSnapshotVersion,s.Hr.getMatchingKeysForTargetId(d,g.targetId).next(_=>{h=_})}).next(()=>s.Ps.getDocumentsMatchingQuery(d,t,i?l:gt.min(),i?h:kt())).next(g=>(l1(s,JR(t),g),{documents:g,gs:h})))}function l1(a,t,i){let s=a.Es.get(t)||gt.min();i.forEach((l,h)=>{h.readTime.compareTo(s)>0&&(s=h.readTime)}),a.Es.set(t,s)}class D_{constructor(){this.activeTargetIds=rw()}Ds(t){this.activeTargetIds=this.activeTargetIds.add(t)}vs(t){this.activeTargetIds=this.activeTargetIds.delete(t)}bs(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class u1{constructor(){this.ho=new D_,this.Po={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,i,s){}addLocalQueryTarget(t,i=!0){return i&&this.ho.Ds(t),this.Po[t]||"not-current"}updateQueryState(t,i,s){this.Po[t]=i}removeLocalQueryTarget(t){this.ho.vs(t)}isLocalQueryTarget(t){return this.ho.activeTargetIds.has(t)}clearQueryState(t){delete this.Po[t]}getAllActiveQueryTargets(){return this.ho.activeTargetIds}isActiveQueryTarget(t){return this.ho.activeTargetIds.has(t)}start(){return this.ho=new D_,Promise.resolve()}handleUserChange(t,i,s){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c1{To(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_="ConnectivityMonitor";class N_{constructor(){this.Io=()=>this.Eo(),this.Ao=()=>this.Ro(),this.Vo=[],this.mo()}To(t){this.Vo.push(t)}shutdown(){window.removeEventListener("online",this.Io),window.removeEventListener("offline",this.Ao)}mo(){window.addEventListener("online",this.Io),window.addEventListener("offline",this.Ao)}Eo(){et(O_,"Network connectivity changed: AVAILABLE");for(const t of this.Vo)t(0)}Ro(){et(O_,"Network connectivity changed: UNAVAILABLE");for(const t of this.Vo)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Xu=null;function Cd(){return Xu===null?Xu=function(){return 268435456+Math.round(2147483648*Math.random())}():Xu++,"0x"+Xu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jf="RestConnection",h1={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class f1{get fo(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const i=t.ssl?"https":"http",s=encodeURIComponent(this.databaseId.projectId),l=encodeURIComponent(this.databaseId.database);this.po=i+"://"+t.host,this.yo=`projects/${s}/databases/${l}`,this.wo=this.databaseId.database===mc?`project_id=${s}`:`project_id=${s}&database_id=${l}`}So(t,i,s,l,h){const d=Cd(),g=this.bo(t,i.toUriEncodedString());et(Jf,`Sending RPC '${t}' ${d}:`,g,s);const _={"google-cloud-resource-prefix":this.yo,"x-goog-request-params":this.wo};return this.Do(_,l,h),this.vo(t,g,_,s).then(v=>(et(Jf,`Received RPC '${t}' ${d}: `,v),v),v=>{throw Va(Jf,`RPC '${t}' ${d} failed with error: `,v,"url: ",g,"request:",s),v})}Co(t,i,s,l,h,d){return this.So(t,i,s,l,h)}Do(t,i,s){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ha}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),i&&i.headers.forEach((l,h)=>t[h]=l),s&&s.headers.forEach((l,h)=>t[h]=l)}bo(t,i){const s=h1[t];return`${this.po}/v1/${i}:${s}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d1{constructor(t){this.Fo=t.Fo,this.Mo=t.Mo}xo(t){this.Oo=t}No(t){this.Bo=t}Lo(t){this.ko=t}onMessage(t){this.qo=t}close(){this.Mo()}send(t){this.Fo(t)}Qo(){this.Oo()}$o(){this.Bo()}Uo(t){this.ko(t)}Ko(t){this.qo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const He="WebChannelConnection";class m1 extends f1{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}vo(t,i,s,l){const h=Cd();return new Promise((d,g)=>{const _=new Hv;_.setWithCredentials(!0),_.listenOnce(jv.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case ec.NO_ERROR:const S=_.getResponseJson();et(He,`XHR for RPC '${t}' ${h} received:`,JSON.stringify(S)),d(S);break;case ec.TIMEOUT:et(He,`RPC '${t}' ${h} timed out`),g(new ut(X.DEADLINE_EXCEEDED,"Request time out"));break;case ec.HTTP_ERROR:const V=_.getStatus();if(et(He,`RPC '${t}' ${h} failed with status:`,V,"response text:",_.getResponseText()),V>0){let z=_.getResponseJson();Array.isArray(z)&&(z=z[0]);const F=z==null?void 0:z.error;if(F&&F.status&&F.message){const $=function(J){const Ot=J.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Ot)>=0?Ot:X.UNKNOWN}(F.status);g(new ut($,F.message))}else g(new ut(X.UNKNOWN,"Server responded with status "+_.getStatus()))}else g(new ut(X.UNAVAILABLE,"Connection failed."));break;default:yt()}}finally{et(He,`RPC '${t}' ${h} completed.`)}});const v=JSON.stringify(l);et(He,`RPC '${t}' ${h} sending request:`,l),_.send(i,"POST",v,s,15)})}Wo(t,i,s){const l=Cd(),h=[this.po,"/","google.firestore.v1.Firestore","/",t,"/channel"],d=Qv(),g=Fv(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(_.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(_.useFetchStreams=!0),this.Do(_.initMessageHeaders,i,s),_.encodeInitMessageHeaders=!0;const S=h.join("");et(He,`Creating RPC '${t}' stream ${l}: ${S}`,_);const V=d.createWebChannel(S,_);let z=!1,F=!1;const $=new d1({Fo:J=>{F?et(He,`Not sending because RPC '${t}' stream ${l} is closed:`,J):(z||(et(He,`Opening RPC '${t}' stream ${l} transport.`),V.open(),z=!0),et(He,`RPC '${t}' stream ${l} sending:`,J),V.send(J))},Mo:()=>V.close()}),rt=(J,Ot,pt)=>{J.listen(Ot,Et=>{try{pt(Et)}catch(qt){setTimeout(()=>{throw qt},0)}})};return rt(V,tl.EventType.OPEN,()=>{F||(et(He,`RPC '${t}' stream ${l} transport opened.`),$.Qo())}),rt(V,tl.EventType.CLOSE,()=>{F||(F=!0,et(He,`RPC '${t}' stream ${l} transport closed`),$.Uo())}),rt(V,tl.EventType.ERROR,J=>{F||(F=!0,Va(He,`RPC '${t}' stream ${l} transport errored:`,J),$.Uo(new ut(X.UNAVAILABLE,"The operation could not be completed")))}),rt(V,tl.EventType.MESSAGE,J=>{var Ot;if(!F){const pt=J.data[0];Wt(!!pt);const Et=pt,qt=(Et==null?void 0:Et.error)||((Ot=Et[0])===null||Ot===void 0?void 0:Ot.error);if(qt){et(He,`RPC '${t}' stream ${l} received error:`,qt);const dt=qt.status;let wt=function(A){const C=ge[A];if(C!==void 0)return p0(C)}(dt),M=qt.message;wt===void 0&&(wt=X.INTERNAL,M="Unknown error status: "+dt+" with message "+qt.message),F=!0,$.Uo(new ut(wt,M)),V.close()}else et(He,`RPC '${t}' stream ${l} received:`,pt),$.Ko(pt)}}),rt(g,Gv.STAT_EVENT,J=>{J.stat===fd.PROXY?et(He,`RPC '${t}' stream ${l} detected buffering proxy`):J.stat===fd.NOPROXY&&et(He,`RPC '${t}' stream ${l} detected no buffering proxy`)}),setTimeout(()=>{$.$o()},0),$}}function Wf(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(a){return new Tw(a,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O0{constructor(t,i,s=1e3,l=1.5,h=6e4){this.Ti=t,this.timerId=i,this.Go=s,this.zo=l,this.jo=h,this.Ho=0,this.Jo=null,this.Yo=Date.now(),this.reset()}reset(){this.Ho=0}Zo(){this.Ho=this.jo}Xo(t){this.cancel();const i=Math.floor(this.Ho+this.e_()),s=Math.max(0,Date.now()-this.Yo),l=Math.max(0,i-s);l>0&&et("ExponentialBackoff",`Backing off for ${l} ms (base delay: ${this.Ho} ms, delay with jitter: ${i} ms, last attempt: ${s} ms ago)`),this.Jo=this.Ti.enqueueAfterDelay(this.timerId,l,()=>(this.Yo=Date.now(),t())),this.Ho*=this.zo,this.Ho<this.Go&&(this.Ho=this.Go),this.Ho>this.jo&&(this.Ho=this.jo)}t_(){this.Jo!==null&&(this.Jo.skipDelay(),this.Jo=null)}cancel(){this.Jo!==null&&(this.Jo.cancel(),this.Jo=null)}e_(){return(Math.random()-.5)*this.Ho}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M_="PersistentStream";class g1{constructor(t,i,s,l,h,d,g,_){this.Ti=t,this.n_=s,this.r_=l,this.connection=h,this.authCredentialsProvider=d,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.i_=0,this.s_=null,this.o_=null,this.stream=null,this.__=0,this.a_=new O0(t,i)}u_(){return this.state===1||this.state===5||this.c_()}c_(){return this.state===2||this.state===3}start(){this.__=0,this.state!==4?this.auth():this.l_()}async stop(){this.u_()&&await this.close(0)}h_(){this.state=0,this.a_.reset()}P_(){this.c_()&&this.s_===null&&(this.s_=this.Ti.enqueueAfterDelay(this.n_,6e4,()=>this.T_()))}I_(t){this.E_(),this.stream.send(t)}async T_(){if(this.c_())return this.close(0)}E_(){this.s_&&(this.s_.cancel(),this.s_=null)}d_(){this.o_&&(this.o_.cancel(),this.o_=null)}async close(t,i){this.E_(),this.d_(),this.a_.cancel(),this.i_++,t!==4?this.a_.reset():i&&i.code===X.RESOURCE_EXHAUSTED?(Bi(i.toString()),Bi("Using maximum backoff delay to prevent overloading the backend."),this.a_.Zo()):i&&i.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.A_(),this.stream.close(),this.stream=null),this.state=t,await this.listener.Lo(i)}A_(){}auth(){this.state=1;const t=this.R_(this.i_),i=this.i_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,l])=>{this.i_===i&&this.V_(s,l)},s=>{t(()=>{const l=new ut(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.m_(l)})})}V_(t,i){const s=this.R_(this.i_);this.stream=this.f_(t,i),this.stream.xo(()=>{s(()=>this.listener.xo())}),this.stream.No(()=>{s(()=>(this.state=2,this.o_=this.Ti.enqueueAfterDelay(this.r_,1e4,()=>(this.c_()&&(this.state=3),Promise.resolve())),this.listener.No()))}),this.stream.Lo(l=>{s(()=>this.m_(l))}),this.stream.onMessage(l=>{s(()=>++this.__==1?this.g_(l):this.onNext(l))})}l_(){this.state=5,this.a_.Xo(async()=>{this.state=0,this.start()})}m_(t){return et(M_,`close with error: ${t}`),this.stream=null,this.close(4,t)}R_(t){return i=>{this.Ti.enqueueAndForget(()=>this.i_===t?i():(et(M_,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class p1 extends g1{constructor(t,i,s,l,h,d){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",i,s,l,d),this.serializer=h}f_(t,i){return this.connection.Wo("Listen",t,i)}g_(t){return this.onNext(t)}onNext(t){this.a_.reset();const i=ww(this.serializer,t),s=function(h){if(!("targetChange"in h))return gt.min();const d=h.targetChange;return d.targetIds&&d.targetIds.length?gt.min():d.readTime?Ia(d.readTime):gt.min()}(t);return this.listener.p_(i,s)}y_(t){const i={};i.database=b_(this.serializer),i.addTarget=function(h,d){let g;const _=d.target;if(g=Ed(_)?{documents:Cw(h,_)}:{query:Iw(h,_).ht},g.targetId=d.targetId,d.resumeToken.approximateByteSize()>0){g.resumeToken=Sw(h,d.resumeToken);const v=bd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}else if(d.snapshotVersion.compareTo(gt.min())>0){g.readTime=Aw(h,d.snapshotVersion.toTimestamp());const v=bd(h,d.expectedCount);v!==null&&(g.expectedCount=v)}return g}(this.serializer,t);const s=Ow(this.serializer,t);s&&(i.labels=s),this.I_(i)}w_(t){const i={};i.database=b_(this.serializer),i.removeTarget=t,this.I_(i)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1{}class _1 extends y1{constructor(t,i,s,l){super(),this.authCredentials=t,this.appCheckCredentials=i,this.connection=s,this.serializer=l,this.F_=!1}M_(){if(this.F_)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.")}So(t,i,s,l){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,d])=>this.connection.So(t,Rd(i,s),l,h,d)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ut(X.UNKNOWN,h.toString())})}Co(t,i,s,l,h){return this.M_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([d,g])=>this.connection.Co(t,Rd(i,s),l,d,g,h)).catch(d=>{throw d.name==="FirebaseError"?(d.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),d):new ut(X.UNKNOWN,d.toString())})}terminate(){this.F_=!0,this.connection.terminate()}}class v1{constructor(t,i){this.asyncQueue=t,this.onlineStateHandler=i,this.state="Unknown",this.x_=0,this.O_=null,this.N_=!0}B_(){this.x_===0&&(this.L_("Unknown"),this.O_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.O_=null,this.k_("Backend didn't respond within 10 seconds."),this.L_("Offline"),Promise.resolve())))}q_(t){this.state==="Online"?this.L_("Unknown"):(this.x_++,this.x_>=1&&(this.Q_(),this.k_(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.L_("Offline")))}set(t){this.Q_(),this.x_=0,t==="Online"&&(this.N_=!1),this.L_(t)}L_(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}k_(t){const i=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.N_?(Bi(i),this.N_=!1):et("OnlineStateTracker",i)}Q_(){this.O_!==null&&(this.O_.cancel(),this.O_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xa="RemoteStore";class E1{constructor(t,i,s,l,h){this.localStore=t,this.datastore=i,this.asyncQueue=s,this.remoteSyncer={},this.U_=[],this.K_=new Map,this.W_=new Set,this.G_=[],this.z_=h,this.z_.To(d=>{s.enqueueAndForget(async()=>{Al(this)&&(et(xa,"Restarting streams for network reachability change."),await async function(_){const v=Lt(_);v.W_.add(4),await Tl(v),v.j_.set("Unknown"),v.W_.delete(4),await kc(v)}(this))})}),this.j_=new v1(s,l)}}async function kc(a){if(Al(a))for(const t of a.G_)await t(!0)}async function Tl(a){for(const t of a.G_)await t(!1)}function N0(a,t){const i=Lt(a);i.K_.has(t.targetId)||(i.K_.set(t.targetId,t),lm(i)?om(i):Ga(i).c_()&&am(i,t))}function sm(a,t){const i=Lt(a),s=Ga(i);i.K_.delete(t),s.c_()&&M0(i,t),i.K_.size===0&&(s.c_()?s.P_():Al(i)&&i.j_.set("Unknown"))}function am(a,t){if(a.H_.Ne(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(gt.min())>0){const i=a.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(i)}Ga(a).y_(t)}function M0(a,t){a.H_.Ne(t),Ga(a).w_(t)}function om(a){a.H_=new yw({getRemoteKeysForTarget:t=>a.remoteSyncer.getRemoteKeysForTarget(t),lt:t=>a.K_.get(t)||null,it:()=>a.datastore.serializer.databaseId}),Ga(a).start(),a.j_.B_()}function lm(a){return Al(a)&&!Ga(a).u_()&&a.K_.size>0}function Al(a){return Lt(a).W_.size===0}function V0(a){a.H_=void 0}async function T1(a){a.j_.set("Online")}async function A1(a){a.K_.forEach((t,i)=>{am(a,t)})}async function S1(a,t){V0(a),lm(a)?(a.j_.q_(t),om(a)):a.j_.set("Unknown")}async function b1(a,t,i){if(a.j_.set("Online"),t instanceof _0&&t.state===2&&t.cause)try{await async function(l,h){const d=h.cause;for(const g of h.targetIds)l.K_.has(g)&&(await l.remoteSyncer.rejectListen(g,d),l.K_.delete(g),l.H_.removeTarget(g))}(a,t)}catch(s){et(xa,"Failed to remove targets %s: %s ",t.targetIds.join(","),s),await V_(a,s)}else if(t instanceof rc?a.H_.We(t):t instanceof y0?a.H_.Ze(t):a.H_.je(t),!i.isEqual(gt.min()))try{const s=await I0(a.localStore);i.compareTo(s)>=0&&await function(h,d){const g=h.H_.ot(d);return g.targetChanges.forEach((_,v)=>{if(_.resumeToken.approximateByteSize()>0){const S=h.K_.get(v);S&&h.K_.set(v,S.withResumeToken(_.resumeToken,d))}}),g.targetMismatches.forEach((_,v)=>{const S=h.K_.get(_);if(!S)return;h.K_.set(_,S.withResumeToken(xe.EMPTY_BYTE_STRING,S.snapshotVersion)),M0(h,_);const V=new Or(S.target,_,v,S.sequenceNumber);am(h,V)}),h.remoteSyncer.applyRemoteEvent(g)}(a,i)}catch(s){et(xa,"Failed to raise snapshot:",s),await V_(a,s)}}async function V_(a,t,i){if(!ja(t))throw t;a.W_.add(1),await Tl(a),a.j_.set("Offline"),i||(i=()=>I0(a.localStore)),a.asyncQueue.enqueueRetryable(async()=>{et(xa,"Retrying IndexedDB access"),await i(),a.W_.delete(1),await kc(a)})}async function U_(a,t){const i=Lt(a);i.asyncQueue.verifyOperationInProgress(),et(xa,"RemoteStore received new credentials");const s=Al(i);i.W_.add(3),await Tl(i),s&&i.j_.set("Unknown"),await i.remoteSyncer.handleCredentialChange(t),i.W_.delete(3),await kc(i)}async function R1(a,t){const i=Lt(a);t?(i.W_.delete(2),await kc(i)):t||(i.W_.add(2),await Tl(i),i.j_.set("Unknown"))}function Ga(a){return a.J_||(a.J_=function(i,s,l){const h=Lt(i);return h.M_(),new p1(s,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,l)}(a.datastore,a.asyncQueue,{xo:T1.bind(null,a),No:A1.bind(null,a),Lo:S1.bind(null,a),p_:b1.bind(null,a)}),a.G_.push(async t=>{t?(a.J_.h_(),lm(a)?om(a):a.j_.set("Unknown")):(await a.J_.stop(),V0(a))})),a.J_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(t,i,s,l,h){this.asyncQueue=t,this.timerId=i,this.targetTimeMs=s,this.op=l,this.removalCallback=h,this.deferred=new Ss,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(d=>{})}get promise(){return this.deferred.promise}static createAndSchedule(t,i,s,l,h){const d=Date.now()+s,g=new um(t,i,d,l,h);return g.start(s),g}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ut(X.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function U0(a,t){if(Bi("AsyncQueue",`${t}: ${a}`),ja(a))return new ut(X.UNAVAILABLE,`${t}: ${a}`);throw a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Da{static emptySet(t){return new Da(t.comparator)}constructor(t){this.comparator=t?(i,s)=>t(i,s)||ht.comparator(i.key,s.key):(i,s)=>ht.comparator(i.key,s.key),this.keyedMap=el(),this.sortedSet=new ue(this.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const i=this.keyedMap.get(t);return i?this.sortedSet.indexOf(i):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((i,s)=>(t(i),!1))}add(t){const i=this.delete(t.key);return i.copy(i.keyedMap.insert(t.key,t),i.sortedSet.insert(t,null))}delete(t){const i=this.get(t);return i?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(i)):this}isEqual(t){if(!(t instanceof Da)||this.size!==t.size)return!1;const i=this.sortedSet.getIterator(),s=t.sortedSet.getIterator();for(;i.hasNext();){const l=i.getNext().key,h=s.getNext().key;if(!l.isEqual(h))return!1}return!0}toString(){const t=[];return this.forEach(i=>{t.push(i.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,i){const s=new Da;return s.comparator=this.comparator,s.keyedMap=t,s.sortedSet=i,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L_{constructor(){this.Z_=new ue(ht.comparator)}track(t){const i=t.doc.key,s=this.Z_.get(i);s?t.type!==0&&s.type===3?this.Z_=this.Z_.insert(i,t):t.type===3&&s.type!==1?this.Z_=this.Z_.insert(i,{type:s.type,doc:t.doc}):t.type===2&&s.type===2?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):t.type===2&&s.type===0?this.Z_=this.Z_.insert(i,{type:0,doc:t.doc}):t.type===1&&s.type===0?this.Z_=this.Z_.remove(i):t.type===1&&s.type===2?this.Z_=this.Z_.insert(i,{type:1,doc:s.doc}):t.type===0&&s.type===1?this.Z_=this.Z_.insert(i,{type:2,doc:t.doc}):yt():this.Z_=this.Z_.insert(i,t)}X_(){const t=[];return this.Z_.inorderTraversal((i,s)=>{t.push(s)}),t}}class za{constructor(t,i,s,l,h,d,g,_,v){this.query=t,this.docs=i,this.oldDocs=s,this.docChanges=l,this.mutatedKeys=h,this.fromCache=d,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=v}static fromInitialDocuments(t,i,s,l,h){const d=[];return i.forEach(g=>{d.push({type:0,doc:g})}),new za(t,i,Da.emptySet(i),d,s,l,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nc(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const i=this.docChanges,s=t.docChanges;if(i.length!==s.length)return!1;for(let l=0;l<i.length;l++)if(i[l].type!==s[l].type||!i[l].doc.isEqual(s[l].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w1{constructor(){this.ea=void 0,this.ta=[]}na(){return this.ta.some(t=>t.ra())}}class C1{constructor(){this.queries=k_(),this.onlineState="Unknown",this.ia=new Set}terminate(){(function(i,s){const l=Lt(i),h=l.queries;l.queries=k_(),h.forEach((d,g)=>{for(const _ of g.ta)_.onError(s)})})(this,new ut(X.ABORTED,"Firestore shutting down"))}}function k_(){return new Ds(a=>o0(a),Nc)}async function I1(a,t){const i=Lt(a);let s=3;const l=t.query;let h=i.queries.get(l);h?!h.na()&&t.ra()&&(s=2):(h=new w1,s=t.ra()?0:1);try{switch(s){case 0:h.ea=await i.onListen(l,!0);break;case 1:h.ea=await i.onListen(l,!1);break;case 2:await i.onFirstRemoteStoreListen(l)}}catch(d){const g=U0(d,`Initialization of query '${Ta(t.query)}' failed`);return void t.onError(g)}i.queries.set(l,h),h.ta.push(t),t.sa(i.onlineState),h.ea&&t.oa(h.ea)&&cm(i)}async function D1(a,t){const i=Lt(a),s=t.query;let l=3;const h=i.queries.get(s);if(h){const d=h.ta.indexOf(t);d>=0&&(h.ta.splice(d,1),h.ta.length===0?l=t.ra()?0:1:!h.na()&&t.ra()&&(l=2))}switch(l){case 0:return i.queries.delete(s),i.onUnlisten(s,!0);case 1:return i.queries.delete(s),i.onUnlisten(s,!1);case 2:return i.onLastRemoteStoreUnlisten(s);default:return}}function O1(a,t){const i=Lt(a);let s=!1;for(const l of t){const h=l.query,d=i.queries.get(h);if(d){for(const g of d.ta)g.oa(l)&&(s=!0);d.ea=l}}s&&cm(i)}function N1(a,t,i){const s=Lt(a),l=s.queries.get(t);if(l)for(const h of l.ta)h.onError(i);s.queries.delete(t)}function cm(a){a.ia.forEach(t=>{t.next()})}var Id,P_;(P_=Id||(Id={}))._a="default",P_.Cache="cache";class M1{constructor(t,i,s){this.query=t,this.aa=i,this.ua=!1,this.ca=null,this.onlineState="Unknown",this.options=s||{}}oa(t){if(!this.options.includeMetadataChanges){const s=[];for(const l of t.docChanges)l.type!==3&&s.push(l);t=new za(t.query,t.docs,t.oldDocs,s,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let i=!1;return this.ua?this.la(t)&&(this.aa.next(t),i=!0):this.ha(t,this.onlineState)&&(this.Pa(t),i=!0),this.ca=t,i}onError(t){this.aa.error(t)}sa(t){this.onlineState=t;let i=!1;return this.ca&&!this.ua&&this.ha(this.ca,t)&&(this.Pa(this.ca),i=!0),i}ha(t,i){if(!t.fromCache||!this.ra())return!0;const s=i!=="Offline";return(!this.options.Ta||!s)&&(!t.docs.isEmpty()||t.hasCachedResults||i==="Offline")}la(t){if(t.docChanges.length>0)return!0;const i=this.ca&&this.ca.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!i)&&this.options.includeMetadataChanges===!0}Pa(t){t=za.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.ua=!0,this.aa.next(t)}ra(){return this.options.source!==Id.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L0{constructor(t){this.key=t}}class k0{constructor(t){this.key=t}}class V1{constructor(t,i){this.query=t,this.fa=i,this.ga=null,this.hasCachedResults=!1,this.current=!1,this.pa=kt(),this.mutatedKeys=kt(),this.ya=l0(t),this.wa=new Da(this.ya)}get Sa(){return this.fa}ba(t,i){const s=i?i.Da:new L_,l=i?i.wa:this.wa;let h=i?i.mutatedKeys:this.mutatedKeys,d=l,g=!1;const _=this.query.limitType==="F"&&l.size===this.query.limit?l.last():null,v=this.query.limitType==="L"&&l.size===this.query.limit?l.first():null;if(t.inorderTraversal((S,V)=>{const z=l.get(S),F=Mc(this.query,V)?V:null,$=!!z&&this.mutatedKeys.has(z.key),rt=!!F&&(F.hasLocalMutations||this.mutatedKeys.has(F.key)&&F.hasCommittedMutations);let J=!1;z&&F?z.data.isEqual(F.data)?$!==rt&&(s.track({type:3,doc:F}),J=!0):this.va(z,F)||(s.track({type:2,doc:F}),J=!0,(_&&this.ya(F,_)>0||v&&this.ya(F,v)<0)&&(g=!0)):!z&&F?(s.track({type:0,doc:F}),J=!0):z&&!F&&(s.track({type:1,doc:z}),J=!0,(_||v)&&(g=!0)),J&&(F?(d=d.add(F),h=rt?h.add(S):h.delete(S)):(d=d.delete(S),h=h.delete(S)))}),this.query.limit!==null)for(;d.size>this.query.limit;){const S=this.query.limitType==="F"?d.last():d.first();d=d.delete(S.key),h=h.delete(S.key),s.track({type:1,doc:S})}return{wa:d,Da:s,ls:g,mutatedKeys:h}}va(t,i){return t.hasLocalMutations&&i.hasCommittedMutations&&!i.hasLocalMutations}applyChanges(t,i,s,l){const h=this.wa;this.wa=t.wa,this.mutatedKeys=t.mutatedKeys;const d=t.Da.X_();d.sort((S,V)=>function(F,$){const rt=J=>{switch(J){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return yt()}};return rt(F)-rt($)}(S.type,V.type)||this.ya(S.doc,V.doc)),this.Ca(s),l=l!=null&&l;const g=i&&!l?this.Fa():[],_=this.pa.size===0&&this.current&&!l?1:0,v=_!==this.ga;return this.ga=_,d.length!==0||v?{snapshot:new za(this.query,t.wa,h,d,t.mutatedKeys,_===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),Ma:g}:{Ma:g}}sa(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({wa:this.wa,Da:new L_,mutatedKeys:this.mutatedKeys,ls:!1},!1)):{Ma:[]}}xa(t){return!this.fa.has(t)&&!!this.wa.has(t)&&!this.wa.get(t).hasLocalMutations}Ca(t){t&&(t.addedDocuments.forEach(i=>this.fa=this.fa.add(i)),t.modifiedDocuments.forEach(i=>{}),t.removedDocuments.forEach(i=>this.fa=this.fa.delete(i)),this.current=t.current)}Fa(){if(!this.current)return[];const t=this.pa;this.pa=kt(),this.wa.forEach(s=>{this.xa(s.key)&&(this.pa=this.pa.add(s.key))});const i=[];return t.forEach(s=>{this.pa.has(s)||i.push(new k0(s))}),this.pa.forEach(s=>{t.has(s)||i.push(new L0(s))}),i}Oa(t){this.fa=t.gs,this.pa=kt();const i=this.ba(t.documents);return this.applyChanges(i,!0)}Na(){return za.fromInitialDocuments(this.query,this.wa,this.mutatedKeys,this.ga===0,this.hasCachedResults)}}const hm="SyncEngine";class U1{constructor(t,i,s){this.query=t,this.targetId=i,this.view=s}}class L1{constructor(t){this.key=t,this.Ba=!1}}class k1{constructor(t,i,s,l,h,d){this.localStore=t,this.remoteStore=i,this.eventManager=s,this.sharedClientState=l,this.currentUser=h,this.maxConcurrentLimboResolutions=d,this.La={},this.ka=new Ds(g=>o0(g),Nc),this.qa=new Map,this.Qa=new Set,this.$a=new ue(ht.comparator),this.Ua=new Map,this.Ka=new em,this.Wa={},this.Ga=new Map,this.za=Pa.Kn(),this.onlineState="Unknown",this.ja=void 0}get isPrimaryClient(){return this.ja===!0}}async function P1(a,t,i=!0){const s=q0(a);let l;const h=s.ka.get(t);return h?(s.sharedClientState.addLocalQueryTarget(h.targetId),l=h.view.Na()):l=await P0(s,t,i,!0),l}async function x1(a,t){const i=q0(a);await P0(i,t,!0,!1)}async function P0(a,t,i,s){const l=await o1(a.localStore,ii(t)),h=l.targetId,d=a.sharedClientState.addLocalQueryTarget(h,i);let g;return s&&(g=await z1(a,t,h,d==="current",l.resumeToken)),a.isPrimaryClient&&i&&N0(a.remoteStore,l),g}async function z1(a,t,i,s,l){a.Ha=(V,z,F)=>async function(rt,J,Ot,pt){let Et=J.view.ba(Ot);Et.ls&&(Et=await I_(rt.localStore,J.query,!1).then(({documents:M})=>J.view.ba(M,Et)));const qt=pt&&pt.targetChanges.get(J.targetId),dt=pt&&pt.targetMismatches.get(J.targetId)!=null,wt=J.view.applyChanges(Et,rt.isPrimaryClient,qt,dt);return z_(rt,J.targetId,wt.Ma),wt.snapshot}(a,V,z,F);const h=await I_(a.localStore,t,!0),d=new V1(t,h.gs),g=d.ba(h.documents),_=El.createSynthesizedTargetChangeForCurrentChange(i,s&&a.onlineState!=="Offline",l),v=d.applyChanges(g,a.isPrimaryClient,_);z_(a,i,v.Ma);const S=new U1(t,i,d);return a.ka.set(t,S),a.qa.has(i)?a.qa.get(i).push(t):a.qa.set(i,[t]),v.snapshot}async function B1(a,t,i){const s=Lt(a),l=s.ka.get(t),h=s.qa.get(l.targetId);if(h.length>1)return s.qa.set(l.targetId,h.filter(d=>!Nc(d,t))),void s.ka.delete(t);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(l.targetId),s.sharedClientState.isActiveQueryTarget(l.targetId)||await wd(s.localStore,l.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(l.targetId),i&&sm(s.remoteStore,l.targetId),Dd(s,l.targetId)}).catch(wc)):(Dd(s,l.targetId),await wd(s.localStore,l.targetId,!0))}async function q1(a,t){const i=Lt(a),s=i.ka.get(t),l=i.qa.get(s.targetId);i.isPrimaryClient&&l.length===1&&(i.sharedClientState.removeLocalQueryTarget(s.targetId),sm(i.remoteStore,s.targetId))}async function x0(a,t){const i=Lt(a);try{const s=await s1(i.localStore,t);t.targetChanges.forEach((l,h)=>{const d=i.Ua.get(h);d&&(Wt(l.addedDocuments.size+l.modifiedDocuments.size+l.removedDocuments.size<=1),l.addedDocuments.size>0?d.Ba=!0:l.modifiedDocuments.size>0?Wt(d.Ba):l.removedDocuments.size>0&&(Wt(d.Ba),d.Ba=!1))}),await B0(i,s,t)}catch(s){await wc(s)}}function x_(a,t,i){const s=Lt(a);if(s.isPrimaryClient&&i===0||!s.isPrimaryClient&&i===1){const l=[];s.ka.forEach((h,d)=>{const g=d.view.sa(t);g.snapshot&&l.push(g.snapshot)}),function(d,g){const _=Lt(d);_.onlineState=g;let v=!1;_.queries.forEach((S,V)=>{for(const z of V.ta)z.sa(g)&&(v=!0)}),v&&cm(_)}(s.eventManager,t),l.length&&s.La.p_(l),s.onlineState=t,s.isPrimaryClient&&s.sharedClientState.setOnlineState(t)}}async function H1(a,t,i){const s=Lt(a);s.sharedClientState.updateQueryState(t,"rejected",i);const l=s.Ua.get(t),h=l&&l.key;if(h){let d=new ue(ht.comparator);d=d.insert(h,Ge.newNoDocument(h,gt.min()));const g=kt().add(h),_=new Lc(gt.min(),new Map,new ue(Dt),d,g);await x0(s,_),s.$a=s.$a.remove(h),s.Ua.delete(t),fm(s)}else await wd(s.localStore,t,!1).then(()=>Dd(s,t,i)).catch(wc)}function Dd(a,t,i=null){a.sharedClientState.removeLocalQueryTarget(t);for(const s of a.qa.get(t))a.ka.delete(s),i&&a.La.Ja(s,i);a.qa.delete(t),a.isPrimaryClient&&a.Ka.br(t).forEach(s=>{a.Ka.containsKey(s)||z0(a,s)})}function z0(a,t){a.Qa.delete(t.path.canonicalString());const i=a.$a.get(t);i!==null&&(sm(a.remoteStore,i),a.$a=a.$a.remove(t),a.Ua.delete(i),fm(a))}function z_(a,t,i){for(const s of i)s instanceof L0?(a.Ka.addReference(s.key,t),j1(a,s)):s instanceof k0?(et(hm,"Document no longer in limbo: "+s.key),a.Ka.removeReference(s.key,t),a.Ka.containsKey(s.key)||z0(a,s.key)):yt()}function j1(a,t){const i=t.key,s=i.path.canonicalString();a.$a.get(i)||a.Qa.has(s)||(et(hm,"New document in limbo: "+i),a.Qa.add(s),fm(a))}function fm(a){for(;a.Qa.size>0&&a.$a.size<a.maxConcurrentLimboResolutions;){const t=a.Qa.values().next().value;a.Qa.delete(t);const i=new ht(se.fromString(t)),s=a.za.next();a.Ua.set(s,new L1(i)),a.$a=a.$a.insert(i,s),N0(a.remoteStore,new Or(ii(a0(i.path)),s,"TargetPurposeLimboResolution",Cc.ae))}}async function B0(a,t,i){const s=Lt(a),l=[],h=[],d=[];s.ka.isEmpty()||(s.ka.forEach((g,_)=>{d.push(s.Ha(_,t,i).then(v=>{var S;if((v||i)&&s.isPrimaryClient){const V=v?!v.fromCache:(S=i==null?void 0:i.targetChanges.get(_.targetId))===null||S===void 0?void 0:S.current;s.sharedClientState.updateQueryState(_.targetId,V?"current":"not-current")}if(v){l.push(v);const V=im.Yi(_.targetId,v);h.push(V)}}))}),await Promise.all(d),s.La.p_(l),await async function(_,v){const S=Lt(_);try{await S.persistence.runTransaction("notifyLocalViewChanges","readwrite",V=>G.forEach(v,z=>G.forEach(z.Hi,F=>S.persistence.referenceDelegate.addReference(V,z.targetId,F)).next(()=>G.forEach(z.Ji,F=>S.persistence.referenceDelegate.removeReference(V,z.targetId,F)))))}catch(V){if(!ja(V))throw V;et(rm,"Failed to update sequence numbers: "+V)}for(const V of v){const z=V.targetId;if(!V.fromCache){const F=S.Ts.get(z),$=F.snapshotVersion,rt=F.withLastLimboFreeSnapshotVersion($);S.Ts=S.Ts.insert(z,rt)}}}(s.localStore,h))}async function G1(a,t){const i=Lt(a);if(!i.currentUser.isEqual(t)){et(hm,"User change. New user:",t.toKey());const s=await C0(i.localStore,t);i.currentUser=t,function(h,d){h.Ga.forEach(g=>{g.forEach(_=>{_.reject(new ut(X.CANCELLED,d))})}),h.Ga.clear()}(i,"'waitForPendingWrites' promise is rejected due to a user change."),i.sharedClientState.handleUserChange(t,s.removedBatchIds,s.addedBatchIds),await B0(i,s.Rs)}}function F1(a,t){const i=Lt(a),s=i.Ua.get(t);if(s&&s.Ba)return kt().add(s.key);{let l=kt();const h=i.qa.get(t);if(!h)return l;for(const d of h){const g=i.ka.get(d);l=l.unionWith(g.view.Sa)}return l}}function q0(a){const t=Lt(a);return t.remoteStore.remoteSyncer.applyRemoteEvent=x0.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=F1.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=H1.bind(null,t),t.La.p_=O1.bind(null,t.eventManager),t.La.Ja=N1.bind(null,t.eventManager),t}class Ec{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(t){this.serializer=D0(t.databaseInfo.databaseId),this.sharedClientState=this.Za(t),this.persistence=this.Xa(t),await this.persistence.start(),this.localStore=this.eu(t),this.gcScheduler=this.tu(t,this.localStore),this.indexBackfillerScheduler=this.nu(t,this.localStore)}tu(t,i){return null}nu(t,i){return null}eu(t){return r1(this.persistence,new e1,t.initialUser,this.serializer)}Xa(t){return new w0(nm.ri,this.serializer)}Za(t){return new u1}async terminate(){var t,i;(t=this.gcScheduler)===null||t===void 0||t.stop(),(i=this.indexBackfillerScheduler)===null||i===void 0||i.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ec.provider={build:()=>new Ec};class Q1 extends Ec{constructor(t){super(),this.cacheSizeBytes=t}tu(t,i){Wt(this.persistence.referenceDelegate instanceof vc);const s=this.persistence.referenceDelegate.garbageCollector;return new Bw(s,t.asyncQueue,i)}Xa(t){const i=this.cacheSizeBytes!==void 0?nn.withCacheSize(this.cacheSizeBytes):nn.DEFAULT;return new w0(s=>vc.ri(s,i),this.serializer)}}class Od{async initialize(t,i){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(i),this.remoteStore=this.createRemoteStore(i),this.eventManager=this.createEventManager(i),this.syncEngine=this.createSyncEngine(i,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>x_(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=G1.bind(null,this.syncEngine),await R1(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return function(){return new C1}()}createDatastore(t){const i=D0(t.databaseInfo.databaseId),s=function(h){return new m1(h)}(t.databaseInfo);return function(h,d,g,_){return new _1(h,d,g,_)}(t.authCredentials,t.appCheckCredentials,s,i)}createRemoteStore(t){return function(s,l,h,d,g){return new E1(s,l,h,d,g)}(this.localStore,this.datastore,t.asyncQueue,i=>x_(this.syncEngine,i,0),function(){return N_.D()?new N_:new c1}())}createSyncEngine(t,i){return function(l,h,d,g,_,v,S){const V=new k1(l,h,d,g,_,v);return S&&(V.ja=!0),V}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,i)}async terminate(){var t,i;await async function(l){const h=Lt(l);et(xa,"RemoteStore shutting down."),h.W_.add(5),await Tl(h),h.z_.shutdown(),h.j_.set("Unknown")}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(i=this.eventManager)===null||i===void 0||i.terminate()}}Od.provider={build:()=>new Od};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(t){this.observer=t,this.muted=!1}next(t){this.muted||this.observer.next&&this.iu(this.observer.next,t)}error(t){this.muted||(this.observer.error?this.iu(this.observer.error,t):Bi("Uncaught Error in snapshot listener:",t.toString()))}su(){this.muted=!0}iu(t,i){setTimeout(()=>{this.muted||t(i)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Br="FirestoreClient";class Y1{constructor(t,i,s,l,h){this.authCredentials=t,this.appCheckCredentials=i,this.asyncQueue=s,this.databaseInfo=l,this.user=je.UNAUTHENTICATED,this.clientId=ER.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(s,async d=>{et(Br,"Received user=",d.uid),await this.authCredentialListener(d),this.user=d}),this.appCheckCredentials.start(s,d=>(et(Br,"Received new app check token=",d),this.appCheckCredentialListener(d,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}terminate(){this.asyncQueue.enterRestrictedMode();const t=new Ss;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(i){const s=U0(i,"Failed to shutdown persistence");t.reject(s)}}),t.promise}}async function td(a,t){a.asyncQueue.verifyOperationInProgress(),et(Br,"Initializing OfflineComponentProvider");const i=a.configuration;await t.initialize(i);let s=i.initialUser;a.setCredentialChangeListener(async l=>{s.isEqual(l)||(await C0(t.localStore,l),s=l)}),t.persistence.setDatabaseDeletedListener(()=>a.terminate()),a._offlineComponents=t}async function B_(a,t){a.asyncQueue.verifyOperationInProgress();const i=await X1(a);et(Br,"Initializing OnlineComponentProvider"),await t.initialize(i,a.configuration),a.setCredentialChangeListener(s=>U_(t.remoteStore,s)),a.setAppCheckTokenChangeListener((s,l)=>U_(t.remoteStore,l)),a._onlineComponents=t}async function X1(a){if(!a._offlineComponents)if(a._uninitializedComponentsProvider){et(Br,"Using user provided OfflineComponentProvider");try{await td(a,a._uninitializedComponentsProvider._offline)}catch(t){const i=t;if(!function(l){return l.name==="FirebaseError"?l.code===X.FAILED_PRECONDITION||l.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&l instanceof DOMException)||l.code===22||l.code===20||l.code===11}(i))throw i;Va("Error using user provided cache. Falling back to memory cache: "+i),await td(a,new Ec)}}else et(Br,"Using default OfflineComponentProvider"),await td(a,new Q1(void 0));return a._offlineComponents}async function $1(a){return a._onlineComponents||(a._uninitializedComponentsProvider?(et(Br,"Using user provided OnlineComponentProvider"),await B_(a,a._uninitializedComponentsProvider._online)):(et(Br,"Using default OnlineComponentProvider"),await B_(a,new Od))),a._onlineComponents}async function Z1(a){const t=await $1(a),i=t.eventManager;return i.onListen=P1.bind(null,t.syncEngine),i.onUnlisten=B1.bind(null,t.syncEngine),i.onFirstRemoteStoreListen=x1.bind(null,t.syncEngine),i.onLastRemoteStoreUnlisten=q1.bind(null,t.syncEngine),i}function J1(a,t,i={}){const s=new Ss;return a.asyncQueue.enqueueAndForget(async()=>function(h,d,g,_,v){const S=new K1({next:z=>{S.su(),d.enqueueAndForget(()=>D1(h,V)),z.fromCache&&_.source==="server"?v.reject(new ut(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(z)},error:z=>v.reject(z)}),V=new M1(g,S,{includeMetadataChanges:!0,Ta:!0});return I1(h,V)}(await Z1(a),a.asyncQueue,t,i,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function H0(a){const t={};return a.timeoutSeconds!==void 0&&(t.timeoutSeconds=a.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q_=new Map;function W1(a,t,i,s){if(t===!0&&s===!0)throw new ut(X.INVALID_ARGUMENT,`${a} and ${i} cannot be used together.`)}function H_(a){if(ht.isDocumentKey(a))throw new ut(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${a} has ${a.length}.`)}function tC(a){if(a===void 0)return"undefined";if(a===null)return"null";if(typeof a=="string")return a.length>20&&(a=`${a.substring(0,20)}...`),JSON.stringify(a);if(typeof a=="number"||typeof a=="boolean")return""+a;if(typeof a=="object"){if(a instanceof Array)return"an array";{const t=function(s){return s.constructor?s.constructor.name:null}(a);return t?`a custom ${t} object`:"an object"}}return typeof a=="function"?"a function":yt()}function Nd(a,t){if("_delegate"in a&&(a=a._delegate),!(a instanceof t)){if(t.name===a.constructor.name)throw new ut(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const i=tC(a);throw new ut(X.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${i}`)}}return a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="firestore.googleapis.com",j_=!0;class G_{constructor(t){var i,s;if(t.host===void 0){if(t.ssl!==void 0)throw new ut(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=j0,this.ssl=j_}else this.host=t.host,this.ssl=(i=t.ssl)!==null&&i!==void 0?i:j_;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=R0;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<xw)throw new ut(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}W1("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=H0((s=t.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(h){if(h.timeoutSeconds!==void 0){if(isNaN(h.timeoutSeconds))throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (must not be NaN)`);if(h.timeoutSeconds<5)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (minimum allowed value is 5)`);if(h.timeoutSeconds>30)throw new ut(X.INVALID_ARGUMENT,`invalid long polling timeout: ${h.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&function(s,l){return s.timeoutSeconds===l.timeoutSeconds}(this.experimentalLongPollingOptions,t.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams}}class dm{constructor(t,i,s,l){this._authCredentials=t,this._appCheckCredentials=i,this._databaseId=s,this._app=l,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new G_({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ut(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(t){if(this._settingsFrozen)throw new ut(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new G_(t),t.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new dR;switch(s.type){case"firstParty":return new yR(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new ut(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(i){const s=q_.get(i);s&&(et("ComponentProvider","Removing Datastore"),q_.delete(i),s.terminate())}(this),Promise.resolve()}}function eC(a,t,i,s={}){var l;const h=(a=Nd(a,dm))._getSettings(),d=`${t}:${i}`;if(h.host!==j0&&h.host!==d&&Va("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),a._setSettings(Object.assign(Object.assign({},h),{host:d,ssl:!1})),s.mockUserToken){let g,_;if(typeof s.mockUserToken=="string")g=s.mockUserToken,_=je.MOCK_USER;else{g=HT(s.mockUserToken,(l=a._app)===null||l===void 0?void 0:l.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new ut(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new je(v)}a._authCredentials=new mR(new Kv(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pc{constructor(t,i,s){this.converter=i,this._query=s,this.type="query",this.firestore=t}withConverter(t){return new Pc(this.firestore,t,this._query)}}class Fa{constructor(t,i,s){this.converter=i,this._key=s,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Oa(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new Fa(this.firestore,t,this._key)}}class Oa extends Pc{constructor(t,i,s){super(t,i,a0(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new Fa(this.firestore,null,new ht(t))}withConverter(t){return new Oa(this.firestore,t,this._path)}}function nC(a,t,...i){if(a=Is(a),a instanceof dm){const s=se.fromString(t,...i);return H_(s),new Oa(a,null,s)}{if(!(a instanceof Fa||a instanceof Oa))throw new ut(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=a._path.child(se.fromString(t,...i));return H_(s),new Oa(a.firestore,null,s)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F_="AsyncQueue";class Q_{constructor(t=Promise.resolve()){this.Vu=[],this.mu=!1,this.fu=[],this.gu=null,this.pu=!1,this.yu=!1,this.wu=[],this.a_=new O0(this,"async_queue_retry"),this.Su=()=>{const s=Wf();s&&et(F_,"Visibility state changed to "+s.visibilityState),this.a_.t_()},this.bu=t;const i=Wf();i&&typeof i.addEventListener=="function"&&i.addEventListener("visibilitychange",this.Su)}get isShuttingDown(){return this.mu}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Du(),this.vu(t)}enterRestrictedMode(t){if(!this.mu){this.mu=!0,this.yu=t||!1;const i=Wf();i&&typeof i.removeEventListener=="function"&&i.removeEventListener("visibilitychange",this.Su)}}enqueue(t){if(this.Du(),this.mu)return new Promise(()=>{});const i=new Ss;return this.vu(()=>this.mu&&this.yu?Promise.resolve():(t().then(i.resolve,i.reject),i.promise)).then(()=>i.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Vu.push(t),this.Cu()))}async Cu(){if(this.Vu.length!==0){try{await this.Vu[0](),this.Vu.shift(),this.a_.reset()}catch(t){if(!ja(t))throw t;et(F_,"Operation failed with retryable error: "+t)}this.Vu.length>0&&this.a_.Xo(()=>this.Cu())}}vu(t){const i=this.bu.then(()=>(this.pu=!0,t().catch(s=>{this.gu=s,this.pu=!1;const l=function(d){let g=d.message||"";return d.stack&&(g=d.stack.includes(d.message)?d.stack:d.message+`
`+d.stack),g}(s);throw Bi("INTERNAL UNHANDLED ERROR: ",l),s}).then(s=>(this.pu=!1,s))));return this.bu=i,i}enqueueAfterDelay(t,i,s){this.Du(),this.wu.indexOf(t)>-1&&(i=0);const l=um.createAndSchedule(this,t,i,s,h=>this.Fu(h));return this.fu.push(l),l}Du(){this.gu&&yt()}verifyOperationInProgress(){}async Mu(){let t;do t=this.bu,await t;while(t!==this.bu)}xu(t){for(const i of this.fu)if(i.timerId===t)return!0;return!1}Ou(t){return this.Mu().then(()=>{this.fu.sort((i,s)=>i.targetTimeMs-s.targetTimeMs);for(const i of this.fu)if(i.skipDelay(),t!=="all"&&i.timerId===t)break;return this.Mu()})}Nu(t){this.wu.push(t)}Fu(t){const i=this.fu.indexOf(t);this.fu.splice(i,1)}}class G0 extends dm{constructor(t,i,s,l){super(t,i,s,l),this.type="firestore",this._queue=new Q_,this._persistenceKey=(l==null?void 0:l.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const t=this._firestoreClient.terminate();this._queue=new Q_(t),this._firestoreClient=void 0,await t}}}function iC(a,t){const i=typeof a=="object"?a:ov(),s=typeof a=="string"?a:mc,l=Ld(i,"firestore").getImmediate({identifier:s});if(!l._initialized){const h=BT("firestore");h&&eC(l,...h)}return l}function rC(a){if(a._terminated)throw new ut(X.FAILED_PRECONDITION,"The client has already been terminated.");return a._firestoreClient||sC(a),a._firestoreClient}function sC(a){var t,i,s;const l=a._freezeSettings(),h=function(g,_,v,S){return new VR(g,_,v,S.host,S.ssl,S.experimentalForceLongPolling,S.experimentalAutoDetectLongPolling,H0(S.experimentalLongPollingOptions),S.useFetchStreams)}(a._databaseId,((t=a._app)===null||t===void 0?void 0:t.options.appId)||"",a._persistenceKey,l);a._componentsProvider||!((i=l.localCache)===null||i===void 0)&&i._offlineComponentProvider&&(!((s=l.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(a._componentsProvider={_offline:l.localCache._offlineComponentProvider,_online:l.localCache._onlineComponentProvider}),a._firestoreClient=new Y1(a._authCredentials,a._appCheckCredentials,a._queue,h,a._componentsProvider&&function(g){const _=g==null?void 0:g._online.build();return{_offline:g==null?void 0:g._offline.build(_),_online:_}}(a._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(t){this._byteString=t}static fromBase64String(t){try{return new Tc(xe.fromBase64String(t))}catch(i){throw new ut(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+i)}}static fromUint8Array(t){return new Tc(xe.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F0{constructor(...t){for(let i=0;i<t.length;++i)if(t[i].length===0)throw new ut(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Je(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aC{constructor(t,i){if(!isFinite(t)||t<-90||t>90)throw new ut(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(i)||i<-180||i>180)throw new ut(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+i);this._lat=t,this._long=i}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return Dt(this._lat,t._lat)||Dt(this._long,t._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oC{constructor(t){this._values=(t||[]).map(i=>i)}toArray(){return this._values.map(t=>t)}isEqual(t){return function(s,l){if(s.length!==l.length)return!1;for(let h=0;h<s.length;++h)if(s[h]!==l[h])return!1;return!0}(this._values,t._values)}}const lC=new RegExp("[~\\*/\\[\\]]");function uC(a,t,i){if(t.search(lC)>=0)throw K_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,a);try{return new F0(...t.split("."))._internalPath}catch{throw K_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,a)}}function K_(a,t,i,s,l){let h=`Function ${t}() called with invalid data`;h+=". ";let d="";return new ut(X.INVALID_ARGUMENT,h+a+d)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q0{constructor(t,i,s,l,h){this._firestore=t,this._userDataWriter=i,this._key=s,this._document=l,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Fa(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new cC(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const i=this._document.data.field(K0("DocumentSnapshot.get",t));if(i!==null)return this._userDataWriter.convertValue(i)}}}class cC extends Q0{data(){return super.data()}}function K0(a,t){return typeof t=="string"?uC(a,t):t instanceof F0?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hC(a){if(a.limitType==="L"&&a.explicitOrderBy.length===0)throw new ut(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class fC{convertValue(t,i="none"){switch(xr(t)){case 0:return null;case 1:return t.booleanValue;case 2:return le(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,i);case 5:return t.stringValue;case 6:return this.convertBytes(Pr(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,i);case 11:return this.convertObject(t.mapValue,i);case 10:return this.convertVectorValue(t.mapValue);default:throw yt()}}convertObject(t,i){return this.convertObjectMap(t.fields,i)}convertObjectMap(t,i="none"){const s={};return vl(t,(l,h)=>{s[l]=this.convertValue(h,i)}),s}convertVectorValue(t){var i,s,l;const h=(l=(s=(i=t.fields)===null||i===void 0?void 0:i[pd].arrayValue)===null||s===void 0?void 0:s.values)===null||l===void 0?void 0:l.map(d=>le(d.doubleValue));return new oC(h)}convertGeoPoint(t){return new aC(le(t.latitude),le(t.longitude))}convertArray(t,i){return(t.values||[]).map(s=>this.convertValue(s,i))}convertServerTimestamp(t,i){switch(i){case"previous":const s=Dc(t);return s==null?null:this.convertValue(s,i);case"estimate":return this.convertTimestamp(hl(t));default:return null}}convertTimestamp(t){const i=kr(t);return new rn(i.seconds,i.nanos)}convertDocumentKey(t,i){const s=se.fromString(t);Wt(b0(s));const l=new fl(s.get(1),s.get(3)),h=new ht(s.popFirst(5));return l.isEqual(i)||Bi(`Document ${h} contains a document reference within a different database (${l.projectId}/${l.database}) which is not supported. It will be treated as a reference in the current database (${i.projectId}/${i.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $u{constructor(t,i){this.hasPendingWrites=t,this.fromCache=i}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class dC extends Q0{constructor(t,i,s,l,h,d){super(t,i,s,l,d),this._firestore=t,this._firestoreImpl=t,this.metadata=h}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const i=new sc(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(i,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,i={}){if(this._document){const s=this._document.data.field(K0("DocumentSnapshot.get",t));if(s!==null)return this._userDataWriter.convertValue(s,i.serverTimestamps)}}}class sc extends dC{data(t={}){return super.data(t)}}class mC{constructor(t,i,s,l){this._firestore=t,this._userDataWriter=i,this._snapshot=l,this.metadata=new $u(l.hasPendingWrites,l.fromCache),this.query=s}get docs(){const t=[];return this.forEach(i=>t.push(i)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,i){this._snapshot.docs.forEach(s=>{t.call(i,new sc(this._firestore,this._userDataWriter,s.key,s,new $u(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const i=!!t.includeMetadataChanges;if(i&&this._snapshot.excludesMetadataChanges)throw new ut(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===i||(this._cachedChanges=function(l,h){if(l._snapshot.oldDocs.isEmpty()){let d=0;return l._snapshot.docChanges.map(g=>{const _=new sc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new $u(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);return g.doc,{type:"added",doc:_,oldIndex:-1,newIndex:d++}})}{let d=l._snapshot.oldDocs;return l._snapshot.docChanges.filter(g=>h||g.type!==3).map(g=>{const _=new sc(l._firestore,l._userDataWriter,g.doc.key,g.doc,new $u(l._snapshot.mutatedKeys.has(g.doc.key),l._snapshot.fromCache),l.query.converter);let v=-1,S=-1;return g.type!==0&&(v=d.indexOf(g.doc.key),d=d.delete(g.doc.key)),g.type!==1&&(d=d.add(g.doc),S=d.indexOf(g.doc.key)),{type:gC(g.type),doc:_,oldIndex:v,newIndex:S}})}}(this,i),this._cachedChangesIncludeMetadataChanges=i),this._cachedChanges}}function gC(a){switch(a){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return yt()}}class pC extends fC{constructor(t){super(),this.firestore=t}convertBytes(t){return new Tc(t)}convertReference(t){const i=this.convertDocumentKey(t,this.firestore._databaseId);return new Fa(this.firestore,null,i)}}function yC(a){a=Nd(a,Pc);const t=Nd(a.firestore,G0),i=rC(t),s=new pC(t);return hC(a._query),J1(i,a._query).then(l=>new mC(t,s,a,l))}(function(t,i=!0){(function(l){Ha=l})(Ba),Na(new Rs("firestore",(s,{instanceIdentifier:l,options:h})=>{const d=s.getProvider("app").getImmediate(),g=new G0(new gR(s.getProvider("auth-internal")),new _R(d,s.getProvider("app-check-internal")),function(v,S){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new ut(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new fl(v.options.projectId,S)}(d,l),d);return h=Object.assign({useFetchStreams:i},h),g._setSettings(h),g},"PUBLIC").setMultipleInstances(!0)),Vr(Wy,t_,t),Vr(Wy,t_,"esm2017")})();const _C={apiKey:"AIzaSyAetC_eBhd7r2Rk_-TaJXA3BNZf9U0zTJQ",authDomain:"prueba-tecnica-e427c.firebaseapp.com",projectId:"prueba-tecnica-e427c",storageBucket:"prueba-tecnica-e427c.appspot.com",messagingSenderId:"484048089354",appId:"1:484048089354:web:42e4462555ba92d01c8af3",measurementId:"G-M2MKLY39GG"},Y0=av(_C),Y_=hR(Y0),vC=new Ui,EC=iC(Y0);var ed={exports:{}},nd,X_;function TC(){if(X_)return nd;X_=1;var a="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return nd=a,nd}var id,$_;function AC(){if($_)return id;$_=1;var a=TC();function t(){}function i(){}return i.resetWarningCache=t,id=function(){function s(d,g,_,v,S,V){if(V!==a){var z=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw z.name="Invariant Violation",z}}s.isRequired=s;function l(){return s}var h={array:s,bigint:s,bool:s,func:s,number:s,object:s,string:s,symbol:s,any:s,arrayOf:l,element:s,elementType:s,instanceOf:l,node:s,objectOf:l,oneOf:l,oneOfType:l,shape:l,exact:l,checkPropTypes:i,resetWarningCache:t};return h.PropTypes=h,h},id}var Z_;function SC(){return Z_||(Z_=1,ed.exports=AC()()),ed.exports}var bC=SC();const Dn=AT(bC),X0=({post:a,openModal:t})=>bt.jsxs("div",{className:"post-item",children:[bt.jsx("img",{src:a.image,alt:a.title,className:"post-image"}),bt.jsxs("div",{className:"post-content",children:[bt.jsx("h2",{className:"post-title",children:a.title}),bt.jsxs("div",{className:"post-user",children:[bt.jsx("img",{src:a.user.avatar,alt:a.user.name,className:"user-avatar"}),bt.jsx("span",{className:"user-name",children:a.user.name})]}),bt.jsx("div",{className:"post-tags",children:a.tags.map((i,s)=>bt.jsx("span",{className:"tag",children:i},s))}),bt.jsx("button",{className:"comment-btn",onClick:i=>{i.stopPropagation(),t(a)},children:"Ver comentarios"})]})]});X0.propTypes={post:Dn.object.isRequired,openModal:Dn.func.isRequired};const $0=({tags:a,filterPosts:t})=>bt.jsx("div",{className:"tag-filter",children:a.map((i,s)=>bt.jsx("button",{onClick:()=>t(i),className:"filter-btn",children:i},s))});$0.propTypes={tags:Dn.arrayOf(Dn.string).isRequired,filterPosts:Dn.func.isRequired};const Z0=({post:a,closeModal:t})=>bt.jsx("div",{className:"modal-overlay",children:bt.jsxs("div",{className:"modal-content",children:[bt.jsx("button",{onClick:t,className:"close-btn",children:"X"}),bt.jsx("h3",{children:"Comentarios"}),a.comments.map((i,s)=>bt.jsxs("div",{className:"comment",children:[bt.jsxs("strong",{children:[i.user,":"]}),bt.jsx("p",{children:i.comment})]},s))]})});Z0.propTypes={post:Dn.shape({title:Dn.string.isRequired,comments:Dn.arrayOf(Dn.shape({user:Dn.string.isRequired,comment:Dn.string.isRequired}))}).isRequired,closeModal:Dn.func.isRequired};const RC=()=>{const[a,t]=ba.useState([]),[i,s]=ba.useState(null),[l,h]=ba.useState([]);ba.useEffect(()=>{(async()=>{const V=nC(EC,"posts"),F=(await yC(V)).docs.map($=>$.data());console.log("Datos obtenidos de Firebase:",F),t(F),h(F)})()},[]);const d=S=>{s(S)},g=()=>{s(null)},_=S=>{const V=a.filter(z=>z.tags.includes(S));h(V)},v=[...new Set(a.flatMap(S=>S.tags))];return bt.jsxs("div",{children:[bt.jsx($0,{tags:v,filterPosts:_}),bt.jsx("div",{className:"post-list",children:l.map((S,V)=>bt.jsx(X0,{post:S,openModal:d},V))}),i&&bt.jsx(Z0,{post:i,closeModal:g})]})},wC=()=>{const[a,t]=ba.useState(null),i=async()=>{try{const h=(await Eb(Y_,vC)).user;t(h)}catch(l){console.error(l.message)}},s=async()=>{try{await Y_.signOut(),t(null)}catch(l){console.error(l.message)}};return bt.jsx("div",{className:"google-signin-container",children:a?bt.jsx("div",{className:"user-info",children:bt.jsxs("div",{className:"user-details",children:[bt.jsxs("p",{className:"user-name",children:["Hola, ",a.displayName]}),bt.jsx("button",{onClick:s,className:"logout-btn",children:"Cerrar sesin"})]})}):bt.jsx("button",{onClick:i,className:"login-btn",children:"Iniciar sesin con Google"})})},CC=()=>bt.jsxs("div",{className:"navbar",children:[bt.jsx("div",{className:"navbar-title",children:"infobae"}),bt.jsx(wC,{})]});function IC(){return bt.jsxs("div",{children:[bt.jsx(CC,{}),bt.jsx(RC,{})]})}MT.createRoot(document.getElementById("root")).render(bt.jsx(ba.StrictMode,{children:bt.jsx(IC,{})}));
